/* Import CSS untuk Leaflet Map */
@import "leaflet/dist/leaflet.css";
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Global ===== */
html, body, #root {
  height: 100%;
  margin: 0;
}

/* ===== Theme Variables ===== */
:root {
  --color-bg-light: #f9fafb;   
  --color-bg-dark: #111827;    

  --color-card-light: #ffffff;
  --color-card-dark: #1f2937;  

  --color-text-light: #111827;
  --color-text-dark: #f3f4f6;  

  --color-border: rgba(128,128,128,0.4);

  --hover-light: #e5e7eb; 
  --hover-dark: #1f2937;  
}

[data-theme="light"] {
  --bg: var(--color-bg-light);
  --card: var(--color-card-light);
  --text: var(--color-text-light);
  --hover: var(--hover-light);
}

[data-theme="dark"] {
  --bg: var(--color-bg-dark);
  --card: var(--color-card-dark);
  --text: var(--color-text-dark);
  --hover: var(--hover-dark);
}

/* ===== Body ===== */
body {
  background-color: var(--bg);
  color: var(--text);
  @apply transition-colors duration-300;
}

/* ===== Main ===== */
main {
  background-color: var(--bg);
  color: var(--text);
  transition: background-color 0.3s, color 0.3s;
  padding-top: 3.5rem;
}

@media (min-width: 768px) {
  main { margin-left: 16rem; }
}

/* ===== Tabs ===== */
.tab-wrapper { @apply rounded-xl border shadow-sm; border-color: var(--color-border); background-color: var(--card); color: var(--text); }
.tab-list { @apply flex items-center gap-2 px-2 pt-2; }
.tab-item { @apply relative px-4 py-2 text-sm font-medium outline-none transition-colors; color: var(--text); opacity: 0.8; }
.tab-item:hover { opacity: 1; background-color: var(--hover); }
.tab-item[data-headlessui-state="selected"] { @apply font-semibold; color: var(--text); }
.tab-item::after {
  content: "";
  @apply absolute inset-x-4 -bottom-2 h-0.5 rounded-full transition-transform duration-300 origin-left;
  transform: scaleX(0);
}
.tab-item[data-headlessui-state="selected"]::after {
  transform: scaleX(1);
  background-image: linear-gradient(to right, #22d3ee, #10b981, #22d3ee);
  box-shadow: 0 0 10px rgba(16, 185, 129, 0.6);
}
.tab-item:hover::after {
  transform: scaleX(1);
  background-color: rgba(34, 211, 238, 0.6);
}
.tab-panel { @apply rounded-lg border p-5 shadow-sm backdrop-blur; border-color: var(--color-border); background-color: var(--card); color: var(--text); }

/* ===== Card & Inputs ===== */
.card-custom { background-color: var(--card); color: var(--text); border-radius: 0.75rem; padding: 1rem; @apply shadow-md transition-colors; }
.card-custom:hover { background-color: var(--hover); }
input, textarea, select {
  background-color: var(--card); color: var(--text); border: 1px solid var(--color-border); border-radius: 0.5rem; padding: 0.5rem; transition: background-color 0.3s;
}
input:hover, textarea:hover, select:hover { background-color: var(--hover); }

/* ===== Buttons Hover Underline ===== */
button { position: relative; transition: color 0.3s; }
button::after { content: ""; position: absolute; bottom: 0; left: 0; height: 2px; width: 0; background-color: var(--text); border-radius: 2px; transition: width 0.3s; }
button:hover::after { width: 100%; }
button.theme-toggle:hover { background-color: var(--hover); }

/* ===== Dropdown ===== */
.dropdown-menu { @apply absolute right-0 mt-2 w-40 rounded-lg shadow-lg border z-20; background-color: var(--card); color: var(--text); border-color: var(--color-border); animation: fade-slide 0.2s ease-out; }
.dropdown-item { @apply block w-full text-left px-4 py-2 text-sm rounded-md transition; }
.dropdown-item:hover { background-color: var(--hover); }
.dropdown-trigger { @apply relative px-1 py-2 flex items-center transition; }
.dropdown-trigger::after { content: ""; @apply absolute left-0 bottom-0 h-0.5 w-0 bg-current transition-all duration-300; }
.dropdown-trigger:hover { @apply text-green-400; }
.dropdown-trigger:hover::after { width: 100%; }

/* ===== Three.js Canvas ===== */
.three-canvas { width: 100%; height: 400px; border: 1px solid var(--color-border); border-radius: 0.75rem; background-color: var(--card); display: block; transition: background-color 0.3s; }
@media (min-width: 768px) { .three-canvas { height: 500px; } }
[data-theme="dark"] .three-canvas { background-color: #111827; }

/* ===== GMPE List Item ===== */
.gmpe-item { @apply cursor-pointer px-3 py-2 rounded border flex items-center justify-between transition-colors; border-color: var(--color-border); background-color: var(--card); color: var(--text); }
.gmpe-item:hover { background-color: #374151; }
.gmpe-item.selected { background-color: #4b5563; border-color: #2563eb; }
.gmpe-item input { @apply w-20 border rounded px-2 py-1 text-right; border-color: var(--color-border); background-color: var(--card); color: var(--text); }
.gmpe-item input:hover { background-color: var(--hover); }

/* ===== Animations ===== */

/* ----- Fade ----- */
@keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
@keyframes fade-out { from { opacity: 1; } to { opacity: 0; } }
.animate-fade-in { animation: fade-in 0.3s ease-out forwards; }
.animate-fade-out { animation: fade-out 0.3s ease-in forwards; }

/* ----- Slide + Fade ----- */
@keyframes slide-fade-in { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes slide-fade-out { from { opacity: 1; transform: translateY(0); } to { opacity: 0; transform: translateY(-10px); } }
.animate-slide-fade-in { animation: slide-fade-in 0.4s ease-out forwards; }
.animate-slide-fade-out { animation: slide-fade-out 0.4s ease-in forwards; }

/* ----- Sidebar ----- */
.sidebar-enter { transform: translateX(-100%); }
.sidebar-enter-active { transform: translateX(0); transition: transform 0.3s ease-out; }
.sidebar-exit { transform: translateX(0); }
.sidebar-exit-active { transform: translateX(-100%); transition: transform 0.3s ease-in; }

/* ===== Toast ===== */
.toast { @apply fixed top-4 right-4 px-4 py-2 rounded shadow-lg z-0 text-white font-medium opacity-0; }
.toast-success { @apply bg-green-500; animation: slide-fade-in 0.5s ease-out forwards; }
.toast-error { @apply bg-red-500; animation: slide-fade-in 0.5s ease-out forwards; }
.toast-info { @apply bg-blue-500; animation: slide-fade-in 0.5s ease-out forwards; }

/* ===== Modal ===== */
.modal-overlay {@apply fixed inset-0 bg-black bg-opacity-50 z-50 opacity-0;}
.modal-overlay-close { animation: fade-out 0.3s forwards; }
.modal-content { @apply fixed z-50 bg-[var(--card)] rounded-lg shadow-lg p-6 max-w-lg w-full left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0; animation: slide-fade-in 0.4s ease-out forwards; }
.modal-content-close { animation: slide-fade-out 0.4s ease-in forwards; }

/* ===== Radio Toggle Adaptive ===== */
input[type="radio"].theme-adaptive {
  appearance: none;
  -webkit-appearance: none;
  width: 1.2rem;
  height: 1.2rem;
  border-radius: 50%;
  border: 2px solid var(--text);
  display: inline-block;
  position: relative;
  margin-right: 0.5rem;
  vertical-align: middle;
  cursor: pointer;
  transition: all 0.3s;
  background-color: transparent;
}

input[type="radio"].theme-adaptive::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0.6rem;
  height: 0.6rem;
  border-radius: 50%;
  background-color: var(--text);
  transform: translate(-50%, -50%) scale(0);
  transition: transform 0.3s, background-color 0.3s;
}

input[type="radio"].theme-adaptive:checked::before {
  transform: translate(-50%, -50%) scale(1);
}

/* ===== Optional: hover effect ===== */
input[type="radio"].theme-adaptive:hover {
  border-color: #10b981;
}

[data-theme="dark"] input[type="radio"].theme-adaptive {
  border-color: var(--text);
}

[data-theme="dark"] input[type="radio"].theme-adaptive::before {
  background-color: var(--text);
}

/* Versi pakai keyframes yang sudah ada */
/* ===== Tabs Animation ===== */
@keyframes tab-fade-in {
  from { opacity: 0; transform: translateY(-6px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes tab-fade-out {
  from { opacity: 1; transform: translateY(0); }
  to   { opacity: 0; transform: translateY(-6px); }
}

.tab-animate-in {
  animation: tab-fade-in 0.3s ease-out forwards;
}
.tab-animate-out {
  animation: tab-fade-out 0.2s ease-in forwards;
}

