(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function $u(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qg={exports:{}},Xc={},Xg={exports:{}},Rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0;function sC(){if(G0)return Rt;G0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function _(G){return G===null||typeof G!="object"?null:(G=g&&G[g]||G["@@iterator"],typeof G=="function"?G:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function C(G,se,D){this.props=G,this.context=se,this.refs=S,this.updater=D||y}C.prototype.isReactComponent={},C.prototype.setState=function(G,se){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,se,"setState")},C.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function b(){}b.prototype=C.prototype;function T(G,se,D){this.props=G,this.context=se,this.refs=S,this.updater=D||y}var k=T.prototype=new b;k.constructor=T,w(k,C.prototype),k.isPureReactComponent=!0;var F=Array.isArray,R=Object.prototype.hasOwnProperty,B={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function O(G,se,D){var me,ve={},te=null,Ne=null;if(se!=null)for(me in se.ref!==void 0&&(Ne=se.ref),se.key!==void 0&&(te=""+se.key),se)R.call(se,me)&&!N.hasOwnProperty(me)&&(ve[me]=se[me]);var Pe=arguments.length-2;if(Pe===1)ve.children=D;else if(1<Pe){for(var ke=Array(Pe),ze=0;ze<Pe;ze++)ke[ze]=arguments[ze+2];ve.children=ke}if(G&&G.defaultProps)for(me in Pe=G.defaultProps,Pe)ve[me]===void 0&&(ve[me]=Pe[me]);return{$$typeof:n,type:G,key:te,ref:Ne,props:ve,_owner:B.current}}function j(G,se){return{$$typeof:n,type:G.type,key:se,ref:G.ref,props:G.props,_owner:G._owner}}function W(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function H(G){var se={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(D){return se[D]})}var J=/\/+/g;function Y(G,se){return typeof G=="object"&&G!==null&&G.key!=null?H(""+G.key):se.toString(36)}function ee(G,se,D,me,ve){var te=typeof G;(te==="undefined"||te==="boolean")&&(G=null);var Ne=!1;if(G===null)Ne=!0;else switch(te){case"string":case"number":Ne=!0;break;case"object":switch(G.$$typeof){case n:case e:Ne=!0}}if(Ne)return Ne=G,ve=ve(Ne),G=me===""?"."+Y(Ne,0):me,F(ve)?(D="",G!=null&&(D=G.replace(J,"$&/")+"/"),ee(ve,se,D,"",function(ze){return ze})):ve!=null&&(W(ve)&&(ve=j(ve,D+(!ve.key||Ne&&Ne.key===ve.key?"":(""+ve.key).replace(J,"$&/")+"/")+G)),se.push(ve)),1;if(Ne=0,me=me===""?".":me+":",F(G))for(var Pe=0;Pe<G.length;Pe++){te=G[Pe];var ke=me+Y(te,Pe);Ne+=ee(te,se,D,ke,ve)}else if(ke=_(G),typeof ke=="function")for(G=ke.call(G),Pe=0;!(te=G.next()).done;)te=te.value,ke=me+Y(te,Pe++),Ne+=ee(te,se,D,ke,ve);else if(te==="object")throw se=String(G),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return Ne}function oe(G,se,D){if(G==null)return G;var me=[],ve=0;return ee(G,me,"","",function(te){return se.call(D,te,ve++)}),me}function ae(G){if(G._status===-1){var se=G._result;se=se(),se.then(function(D){(G._status===0||G._status===-1)&&(G._status=1,G._result=D)},function(D){(G._status===0||G._status===-1)&&(G._status=2,G._result=D)}),G._status===-1&&(G._status=0,G._result=se)}if(G._status===1)return G._result.default;throw G._result}var ne={current:null},K={transition:null},fe={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:K,ReactCurrentOwner:B};function I(){throw Error("act(...) is not supported in production builds of React.")}return Rt.Children={map:oe,forEach:function(G,se,D){oe(G,function(){se.apply(this,arguments)},D)},count:function(G){var se=0;return oe(G,function(){se++}),se},toArray:function(G){return oe(G,function(se){return se})||[]},only:function(G){if(!W(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Rt.Component=C,Rt.Fragment=t,Rt.Profiler=r,Rt.PureComponent=T,Rt.StrictMode=i,Rt.Suspense=h,Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Rt.act=I,Rt.cloneElement=function(G,se,D){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var me=w({},G.props),ve=G.key,te=G.ref,Ne=G._owner;if(se!=null){if(se.ref!==void 0&&(te=se.ref,Ne=B.current),se.key!==void 0&&(ve=""+se.key),G.type&&G.type.defaultProps)var Pe=G.type.defaultProps;for(ke in se)R.call(se,ke)&&!N.hasOwnProperty(ke)&&(me[ke]=se[ke]===void 0&&Pe!==void 0?Pe[ke]:se[ke])}var ke=arguments.length-2;if(ke===1)me.children=D;else if(1<ke){Pe=Array(ke);for(var ze=0;ze<ke;ze++)Pe[ze]=arguments[ze+2];me.children=Pe}return{$$typeof:n,type:G.type,key:ve,ref:te,props:me,_owner:Ne}},Rt.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:s,_context:G},G.Consumer=G},Rt.createElement=O,Rt.createFactory=function(G){var se=O.bind(null,G);return se.type=G,se},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(G){return{$$typeof:u,render:G}},Rt.isValidElement=W,Rt.lazy=function(G){return{$$typeof:p,_payload:{_status:-1,_result:G},_init:ae}},Rt.memo=function(G,se){return{$$typeof:d,type:G,compare:se===void 0?null:se}},Rt.startTransition=function(G){var se=K.transition;K.transition={};try{G()}finally{K.transition=se}},Rt.unstable_act=I,Rt.useCallback=function(G,se){return ne.current.useCallback(G,se)},Rt.useContext=function(G){return ne.current.useContext(G)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(G){return ne.current.useDeferredValue(G)},Rt.useEffect=function(G,se){return ne.current.useEffect(G,se)},Rt.useId=function(){return ne.current.useId()},Rt.useImperativeHandle=function(G,se,D){return ne.current.useImperativeHandle(G,se,D)},Rt.useInsertionEffect=function(G,se){return ne.current.useInsertionEffect(G,se)},Rt.useLayoutEffect=function(G,se){return ne.current.useLayoutEffect(G,se)},Rt.useMemo=function(G,se){return ne.current.useMemo(G,se)},Rt.useReducer=function(G,se,D){return ne.current.useReducer(G,se,D)},Rt.useRef=function(G){return ne.current.useRef(G)},Rt.useState=function(G){return ne.current.useState(G)},Rt.useSyncExternalStore=function(G,se,D){return ne.current.useSyncExternalStore(G,se,D)},Rt.useTransition=function(){return ne.current.useTransition()},Rt.version="18.3.1",Rt}var Z0;function nv(){return Z0||(Z0=1,Xg.exports=sC()),Xg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function oC(){if($0)return Xc;$0=1;var n=nv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(u,h,d){var p,g={},_=null,y=null;d!==void 0&&(_=""+d),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(y=h.ref);for(p in h)i.call(h,p)&&!s.hasOwnProperty(p)&&(g[p]=h[p]);if(u&&u.defaultProps)for(p in h=u.defaultProps,h)g[p]===void 0&&(g[p]=h[p]);return{$$typeof:e,type:u,key:_,ref:y,props:g,_owner:r.current}}return Xc.Fragment=t,Xc.jsx=o,Xc.jsxs=o,Xc}var q0;function aC(){return q0||(q0=1,qg.exports=oC()),qg.exports}var z=aC(),de=nv();const bn=$u(de);var Mf={},Yg={exports:{}},zi={},Kg={exports:{}},Jg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function lC(){return X0||(X0=1,(function(n){function e(K,fe){var I=K.length;K.push(fe);e:for(;0<I;){var G=I-1>>>1,se=K[G];if(0<r(se,fe))K[G]=fe,K[I]=se,I=G;else break e}}function t(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var fe=K[0],I=K.pop();if(I!==fe){K[0]=I;e:for(var G=0,se=K.length,D=se>>>1;G<D;){var me=2*(G+1)-1,ve=K[me],te=me+1,Ne=K[te];if(0>r(ve,I))te<se&&0>r(Ne,ve)?(K[G]=Ne,K[te]=I,G=te):(K[G]=ve,K[me]=I,G=me);else if(te<se&&0>r(Ne,I))K[G]=Ne,K[te]=I,G=te;else break e}}return fe}function r(K,fe){var I=K.sortIndex-fe.sortIndex;return I!==0?I:K.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}var h=[],d=[],p=1,g=null,_=3,y=!1,w=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(K){for(var fe=t(d);fe!==null;){if(fe.callback===null)i(d);else if(fe.startTime<=K)i(d),fe.sortIndex=fe.expirationTime,e(h,fe);else break;fe=t(d)}}function F(K){if(S=!1,k(K),!w)if(t(h)!==null)w=!0,ae(R);else{var fe=t(d);fe!==null&&ne(F,fe.startTime-K)}}function R(K,fe){w=!1,S&&(S=!1,b(O),O=-1),y=!0;var I=_;try{for(k(fe),g=t(h);g!==null&&(!(g.expirationTime>fe)||K&&!H());){var G=g.callback;if(typeof G=="function"){g.callback=null,_=g.priorityLevel;var se=G(g.expirationTime<=fe);fe=n.unstable_now(),typeof se=="function"?g.callback=se:g===t(h)&&i(h),k(fe)}else i(h);g=t(h)}if(g!==null)var D=!0;else{var me=t(d);me!==null&&ne(F,me.startTime-fe),D=!1}return D}finally{g=null,_=I,y=!1}}var B=!1,N=null,O=-1,j=5,W=-1;function H(){return!(n.unstable_now()-W<j)}function J(){if(N!==null){var K=n.unstable_now();W=K;var fe=!0;try{fe=N(!0,K)}finally{fe?Y():(B=!1,N=null)}}else B=!1}var Y;if(typeof T=="function")Y=function(){T(J)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,oe=ee.port2;ee.port1.onmessage=J,Y=function(){oe.postMessage(null)}}else Y=function(){C(J,0)};function ae(K){N=K,B||(B=!0,Y())}function ne(K,fe){O=C(function(){K(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){w||y||(w=!0,ae(R))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(K){switch(_){case 1:case 2:case 3:var fe=3;break;default:fe=_}var I=_;_=fe;try{return K()}finally{_=I}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,fe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var I=_;_=K;try{return fe()}finally{_=I}},n.unstable_scheduleCallback=function(K,fe,I){var G=n.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?G+I:G):I=G,K){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=I+se,K={id:p++,callback:fe,priorityLevel:K,startTime:I,expirationTime:se,sortIndex:-1},I>G?(K.sortIndex=I,e(d,K),t(h)===null&&K===t(d)&&(S?(b(O),O=-1):S=!0,ne(F,I-G))):(K.sortIndex=se,e(h,K),w||y||(w=!0,ae(R))),K},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(K){var fe=_;return function(){var I=_;_=fe;try{return K.apply(this,arguments)}finally{_=I}}}})(Jg)),Jg}var Y0;function uC(){return Y0||(Y0=1,Kg.exports=lC()),Kg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function cC(){if(K0)return zi;K0=1;var n=nv(),e=uC();function t(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,m=1;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function s(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(r[a]=c,a=0;a<c.length;a++)i.add(c[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function _(a){return h.call(g,a)?!0:h.call(p,a)?!1:d.test(a)?g[a]=!0:(p[a]=!0,!1)}function y(a,c,m,x){if(m!==null&&m.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,c,m,x){if(c===null||typeof c>"u"||y(a,c,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function S(a,c,m,x,E,P,U){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=E,this.mustUseProperty=m,this.propertyName=a,this.type=c,this.sanitizeURL=P,this.removeEmptyString=U}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){C[a]=new S(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];C[c]=new S(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){C[a]=new S(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){C[a]=new S(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){C[a]=new S(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){C[a]=new S(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){C[a]=new S(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){C[a]=new S(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){C[a]=new S(a,5,!1,a.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function T(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(b,T);C[c]=new S(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(b,T);C[c]=new S(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(b,T);C[c]=new S(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){C[a]=new S(a,1,!1,a.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){C[a]=new S(a,1,!1,a.toLowerCase(),null,!0,!0)});function k(a,c,m,x){var E=C.hasOwnProperty(c)?C[c]:null;(E!==null?E.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(w(c,m,E,x)&&(m=null),x||E===null?_(c)&&(m===null?a.removeAttribute(c):a.setAttribute(c,""+m)):E.mustUseProperty?a[E.propertyName]=m===null?E.type===3?!1:"":m:(c=E.attributeName,x=E.attributeNamespace,m===null?a.removeAttribute(c):(E=E.type,m=E===3||E===4&&m===!0?"":""+m,x?a.setAttributeNS(x,c,m):a.setAttribute(c,m))))}var F=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),B=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),H=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),K=Symbol.iterator;function fe(a){return a===null||typeof a!="object"?null:(a=K&&a[K]||a["@@iterator"],typeof a=="function"?a:null)}var I=Object.assign,G;function se(a){if(G===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);G=c&&c[1]||""}return`
`+G+a}var D=!1;function me(a,c){if(!a||D)return"";D=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Ee){var x=Ee}Reflect.construct(a,[],c)}else{try{c.call()}catch(Ee){x=Ee}a.call(c.prototype)}else{try{throw Error()}catch(Ee){x=Ee}a()}}catch(Ee){if(Ee&&x&&typeof Ee.stack=="string"){for(var E=Ee.stack.split(`
`),P=x.stack.split(`
`),U=E.length-1,Q=P.length-1;1<=U&&0<=Q&&E[U]!==P[Q];)Q--;for(;1<=U&&0<=Q;U--,Q--)if(E[U]!==P[Q]){if(U!==1||Q!==1)do if(U--,Q--,0>Q||E[U]!==P[Q]){var ue=`
`+E[U].replace(" at new "," at ");return a.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",a.displayName)),ue}while(1<=U&&0<=Q);break}}}finally{D=!1,Error.prepareStackTrace=m}return(a=a?a.displayName||a.name:"")?se(a):""}function ve(a){switch(a.tag){case 5:return se(a.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return a=me(a.type,!1),a;case 11:return a=me(a.type.render,!1),a;case 1:return a=me(a.type,!0),a;default:return""}}function te(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case N:return"Fragment";case B:return"Portal";case j:return"Profiler";case O:return"StrictMode";case Y:return"Suspense";case ee:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case H:return(a.displayName||"Context")+".Consumer";case W:return(a._context.displayName||"Context")+".Provider";case J:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case oe:return c=a.displayName||null,c!==null?c:te(a.type)||"Memo";case ae:c=a._payload,a=a._init;try{return te(a(c))}catch{}}return null}function Ne(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(c);case 8:return c===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Pe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ke(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ze(a){var c=ke(a)?"checked":"value",m=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),x=""+a[c];if(!a.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,P=m.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return E.call(this)},set:function(U){x=""+U,P.call(this,U)}}),Object.defineProperty(a,c,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(U){x=""+U},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function je(a){a._valueTracker||(a._valueTracker=ze(a))}function be(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var m=c.getValue(),x="";return a&&(x=ke(a)?a.checked?"true":"false":a.value),a=x,a!==m?(c.setValue(a),!0):!1}function Re(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function De(a,c){var m=c.checked;return I({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??a._wrapperState.initialChecked})}function We(a,c){var m=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;m=Pe(c.value!=null?c.value:m),a._wrapperState={initialChecked:x,initialValue:m,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Ie(a,c){c=c.checked,c!=null&&k(a,"checked",c,!1)}function X(a,c){Ie(a,c);var m=Pe(c.value),x=c.type;if(m!=null)x==="number"?(m===0&&a.value===""||a.value!=m)&&(a.value=""+m):a.value!==""+m&&(a.value=""+m);else if(x==="submit"||x==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?we(a,c.type,m):c.hasOwnProperty("defaultValue")&&we(a,c.type,Pe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function Z(a,c,m){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,m||c===a.value||(a.value=c),a.defaultValue=c}m=a.name,m!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,m!==""&&(a.name=m)}function we(a,c,m){(c!=="number"||Re(a.ownerDocument)!==a)&&(m==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+m&&(a.defaultValue=""+m))}var Ae=Array.isArray;function Ze(a,c,m,x){if(a=a.options,c){c={};for(var E=0;E<m.length;E++)c["$"+m[E]]=!0;for(m=0;m<a.length;m++)E=c.hasOwnProperty("$"+a[m].value),a[m].selected!==E&&(a[m].selected=E),E&&x&&(a[m].defaultSelected=!0)}else{for(m=""+Pe(m),c=null,E=0;E<a.length;E++){if(a[E].value===m){a[E].selected=!0,x&&(a[E].defaultSelected=!0);return}c!==null||a[E].disabled||(c=a[E])}c!==null&&(c.selected=!0)}}function Ke(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(t(91));return I({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function rt(a,c){var m=c.value;if(m==null){if(m=c.children,c=c.defaultValue,m!=null){if(c!=null)throw Error(t(92));if(Ae(m)){if(1<m.length)throw Error(t(93));m=m[0]}c=m}c==null&&(c=""),m=c}a._wrapperState={initialValue:Pe(m)}}function Je(a,c){var m=Pe(c.value),x=Pe(c.defaultValue);m!=null&&(m=""+m,m!==a.value&&(a.value=m),c.defaultValue==null&&a.defaultValue!==m&&(a.defaultValue=m)),x!=null&&(a.defaultValue=""+x)}function st(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function he(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function q(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?he(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Le,Se=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,m,x,E){MSApp.execUnsafeLocalFunction(function(){return a(c,m,x,E)})}:a})(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(Le=Le||document.createElement("div"),Le.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Le.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function Fe(a,c){if(c){var m=a.firstChild;if(m&&m===a.lastChild&&m.nodeType===3){m.nodeValue=c;return}}a.textContent=c}var Xe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ut=["Webkit","ms","Moz","O"];Object.keys(Xe).forEach(function(a){ut.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),Xe[c]=Xe[a]})});function At(a,c,m){return c==null||typeof c=="boolean"||c===""?"":m||typeof c!="number"||c===0||Xe.hasOwnProperty(a)&&Xe[a]?(""+c).trim():c+"px"}function Ot(a,c){a=a.style;for(var m in c)if(c.hasOwnProperty(m)){var x=m.indexOf("--")===0,E=At(m,c[m],x);m==="float"&&(m="cssFloat"),x?a.setProperty(m,E):a[m]=E}}var _n=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function le(a,c){if(c){if(_n[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(t(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(t(61))}if(c.style!=null&&typeof c.style!="object")throw Error(t(62))}}function Be(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tt=null;function Ct(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Qt=null,Sn=null,Tn=null;function Zi(a){if(a=Hs(a)){if(typeof Qt!="function")throw Error(t(280));var c=a.stateNode;c&&(c=Nl(c),Qt(a.stateNode,a.type,c))}}function ns(a){Sn?Tn?Tn.push(a):Tn=[a]:Sn=a}function Yn(){if(Sn){var a=Sn,c=Tn;if(Tn=Sn=null,Zi(a),c)for(a=0;a<c.length;a++)Zi(c[a])}}function ni(a,c){return a(c)}function vi(){}var $i=!1;function ii(a,c,m){if($i)return a(c,m);$i=!0;try{return ni(a,c,m)}finally{$i=!1,(Sn!==null||Tn!==null)&&(vi(),Yn())}}function xi(a,c){var m=a.stateNode;if(m===null)return null;var x=Nl(m);if(x===null)return null;m=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(a=a.type,x=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!x;break e;default:a=!1}if(a)return null;if(m&&typeof m!="function")throw Error(t(231,c,typeof m));return m}var oo=!1;if(u)try{var As={};Object.defineProperty(As,"passive",{get:function(){oo=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{oo=!1}function uc(a,c,m,x,E,P,U,Q,ue){var Ee=Array.prototype.slice.call(arguments,3);try{c.apply(m,Ee)}catch(He){this.onError(He)}}var $=!1,ce=null,ge=!1,Ce=null,Ve={onError:function(a){$=!0,ce=a}};function St(a,c,m,x,E,P,U,Q,ue){$=!1,ce=null,uc.apply(Ve,arguments)}function dt(a,c,m,x,E,P,U,Q,ue){if(St.apply(this,arguments),$){if($){var Ee=ce;$=!1,ce=null}else throw Error(t(198));ge||(ge=!0,Ce=Ee)}}function lt(a){var c=a,m=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(m=c.return),a=c.return;while(a)}return c.tag===3?m:null}function xt(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function zt(a){if(lt(a)!==a)throw Error(t(188))}function kt(a){var c=a.alternate;if(!c){if(c=lt(a),c===null)throw Error(t(188));return c!==a?null:a}for(var m=a,x=c;;){var E=m.return;if(E===null)break;var P=E.alternate;if(P===null){if(x=E.return,x!==null){m=x;continue}break}if(E.child===P.child){for(P=E.child;P;){if(P===m)return zt(E),a;if(P===x)return zt(E),c;P=P.sibling}throw Error(t(188))}if(m.return!==x.return)m=E,x=P;else{for(var U=!1,Q=E.child;Q;){if(Q===m){U=!0,m=E,x=P;break}if(Q===x){U=!0,x=E,m=P;break}Q=Q.sibling}if(!U){for(Q=P.child;Q;){if(Q===m){U=!0,m=P,x=E;break}if(Q===x){U=!0,x=P,m=E;break}Q=Q.sibling}if(!U)throw Error(t(189))}}if(m.alternate!==x)throw Error(t(190))}if(m.tag!==3)throw Error(t(188));return m.stateNode.current===m?a:c}function It(a){return a=kt(a),a!==null?_t(a):null}function _t(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=_t(a);if(c!==null)return c;a=a.sibling}return null}var hr=e.unstable_scheduleCallback,nn=e.unstable_cancelCallback,dr=e.unstable_shouldYield,Un=e.unstable_requestPaint,Vt=e.unstable_now,fr=e.unstable_getCurrentPriorityLevel,fn=e.unstable_ImmediatePriority,wi=e.unstable_UserBlockingPriority,pn=e.unstable_NormalPriority,cc=e.unstable_LowPriority,ao=e.unstable_IdlePriority,ha=null,qi=null;function da(a){if(qi&&typeof qi.onCommitFiberRoot=="function")try{qi.onCommitFiberRoot(ha,a,void 0,(a.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:lo,cn=Math.log,fl=Math.LN2;function lo(a){return a>>>=0,a===0?32:31-(cn(a)/fl|0)|0}var Or=64,uo=4194304;function Mt(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function rn(a,c){var m=a.pendingLanes;if(m===0)return 0;var x=0,E=a.suspendedLanes,P=a.pingedLanes,U=m&268435455;if(U!==0){var Q=U&~E;Q!==0?x=Mt(Q):(P&=U,P!==0&&(x=Mt(P)))}else U=m&~E,U!==0?x=Mt(U):P!==0&&(x=Mt(P));if(x===0)return 0;if(c!==0&&c!==x&&(c&E)===0&&(E=x&-x,P=c&-c,E>=P||E===16&&(P&4194240)!==0))return c;if((x&4)!==0&&(x|=m&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=x;0<c;)m=31-Et(c),E=1<<m,x|=a[m],c&=~E;return x}function hc(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pl(a,c){for(var m=a.suspendedLanes,x=a.pingedLanes,E=a.expirationTimes,P=a.pendingLanes;0<P;){var U=31-Et(P),Q=1<<U,ue=E[U];ue===-1?((Q&m)===0||(Q&x)!==0)&&(E[U]=hc(Q,c)):ue<=c&&(a.expiredLanes|=Q),P&=~Q}}function ri(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function gd(){var a=Or;return Or<<=1,(Or&4194240)===0&&(Or=64),a}function co(a){for(var c=[],m=0;31>m;m++)c.push(a);return c}function Xi(a,c,m){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-Et(c),a[c]=m}function Mn(a,c){var m=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var x=a.eventTimes;for(a=a.expirationTimes;0<m;){var E=31-Et(m),P=1<<E;c[E]=0,x[E]=-1,a[E]=-1,m&=~P}}function zr(a,c){var m=a.entangledLanes|=c;for(a=a.entanglements;m;){var x=31-Et(m),E=1<<x;E&c|a[x]&c&&(a[x]|=c),m&=~E}}var Ft=0;function ho(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var ml,ks,gl,_l,fa,pa=!1,fo=[],Yi=null,Fr=null,pr=null,ma=new Map,vt=new Map,In=[],Yt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dc(a,c){switch(a){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":ma.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":vt.delete(c.pointerId)}}function Rs(a,c,m,x,E,P){return a===null||a.nativeEvent!==P?(a={blockedOn:c,domEventName:m,eventSystemFlags:x,nativeEvent:P,targetContainers:[E]},c!==null&&(c=Hs(c),c!==null&&ks(c)),a):(a.eventSystemFlags|=x,c=a.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),a)}function fc(a,c,m,x,E){switch(c){case"focusin":return Yi=Rs(Yi,a,c,m,x,E),!0;case"dragenter":return Fr=Rs(Fr,a,c,m,x,E),!0;case"mouseover":return pr=Rs(pr,a,c,m,x,E),!0;case"pointerover":var P=E.pointerId;return ma.set(P,Rs(ma.get(P)||null,a,c,m,x,E)),!0;case"gotpointercapture":return P=E.pointerId,vt.set(P,Rs(vt.get(P)||null,a,c,m,x,E)),!0}return!1}function yl(a){var c=Us(a.target);if(c!==null){var m=lt(c);if(m!==null){if(c=m.tag,c===13){if(c=xt(m),c!==null){a.blockedOn=c,fa(a.priority,function(){gl(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){a.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}a.blockedOn=null}function mr(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var m=wl(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(m===null){m=a.nativeEvent;var x=new m.constructor(m.type,m);tt=x,m.target.dispatchEvent(x),tt=null}else return c=Hs(m),c!==null&&ks(c),a.blockedOn=m,!1;c.shift()}return!0}function vl(a,c,m){mr(a)&&m.delete(c)}function ga(){pa=!1,Yi!==null&&mr(Yi)&&(Yi=null),Fr!==null&&mr(Fr)&&(Fr=null),pr!==null&&mr(pr)&&(pr=null),ma.forEach(vl),vt.forEach(vl)}function yn(a,c){a.blockedOn===c&&(a.blockedOn=null,pa||(pa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ga)))}function Ki(a){function c(E){return yn(E,a)}if(0<fo.length){yn(fo[0],a);for(var m=1;m<fo.length;m++){var x=fo[m];x.blockedOn===a&&(x.blockedOn=null)}}for(Yi!==null&&yn(Yi,a),Fr!==null&&yn(Fr,a),pr!==null&&yn(pr,a),ma.forEach(c),vt.forEach(c),m=0;m<In.length;m++)x=In[m],x.blockedOn===a&&(x.blockedOn=null);for(;0<In.length&&(m=In[0],m.blockedOn===null);)yl(m),m.blockedOn===null&&In.shift()}var Is=F.ReactCurrentBatchConfig,_a=!0;function Pm(a,c,m,x){var E=Ft,P=Is.transition;Is.transition=null;try{Ft=1,ya(a,c,m,x)}finally{Ft=E,Is.transition=P}}function _d(a,c,m,x){var E=Ft,P=Is.transition;Is.transition=null;try{Ft=4,ya(a,c,m,x)}finally{Ft=E,Is.transition=P}}function ya(a,c,m,x){if(_a){var E=wl(a,c,m,x);if(E===null)l(a,c,x,xl,m),dc(a,x);else if(fc(E,a,c,m,x))x.stopPropagation();else if(dc(a,x),c&4&&-1<Yt.indexOf(a)){for(;E!==null;){var P=Hs(E);if(P!==null&&ml(P),P=wl(a,c,m,x),P===null&&l(a,c,x,xl,m),P===E)break;E=P}E!==null&&x.stopPropagation()}else l(a,c,x,null,m)}}var xl=null;function wl(a,c,m,x){if(xl=null,a=Ct(x),a=Us(a),a!==null)if(c=lt(a),c===null)a=null;else if(m=c.tag,m===13){if(a=xt(c),a!==null)return a;a=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return xl=a,null}function Dt(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fr()){case fn:return 1;case wi:return 4;case pn:case cc:return 16;case ao:return 536870912;default:return 16}default:return 16}}var is=null,bi=null,rs=null;function pc(){if(rs)return rs;var a,c=bi,m=c.length,x,E="value"in is?is.value:is.textContent,P=E.length;for(a=0;a<m&&c[a]===E[a];a++);var U=m-a;for(x=1;x<=U&&c[m-x]===E[P-x];x++);return rs=E.slice(a,1<x?1-x:void 0)}function bl(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function po(){return!0}function yd(){return!1}function si(a){function c(m,x,E,P,U){this._reactName=m,this._targetInst=E,this.type=x,this.nativeEvent=P,this.target=U,this.currentTarget=null;for(var Q in a)a.hasOwnProperty(Q)&&(m=a[Q],this[Q]=m?m(P):P[Q]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?po:yd,this.isPropagationStopped=yd,this}return I(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),c}var mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mc=si(mo),Ds=I({},mo,{view:0,detail:0}),Am=si(Ds),Ai,gc,go,Ji=I({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==go&&(go&&a.type==="mousemove"?(Ai=a.screenX-go.screenX,gc=a.screenY-go.screenY):gc=Ai=0,go=a),Ai)},movementY:function(a){return"movementY"in a?a.movementY:gc}}),_c=si(Ji),vd=I({},Ji,{dataTransfer:0}),yc=si(vd),km=I({},Ds,{relatedTarget:0}),Sl=si(km),xd=I({},mo,{animationName:0,elapsedTime:0,pseudoElement:0}),Rm=si(xd),Im=I({},mo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),vc=si(Im),Dm=I({},mo,{data:0}),xc=si(Dm),wd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ml={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ns={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nm(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=Ns[a])?!!c[a]:!1}function Os(){return Nm}var ki=I({},Ds,{key:function(a){if(a.key){var c=wd[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=bl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ml[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(a){return a.type==="keypress"?bl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?bl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),bd=si(ki),Sd=I({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Md=si(Sd),wc=I({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),bc=si(wc),Om=I({},mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),zm=si(Om),Ed=I({},Ji,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Fm=si(Ed),Qi=[9,13,27,32],ss=u&&"CompositionEvent"in window,va=null;u&&"documentMode"in document&&(va=document.documentMode);var Br=u&&"TextEvent"in window&&!va,Td=u&&(!ss||va&&8<va&&11>=va),zs=" ",Ld=!1;function _o(a,c){switch(a){case"keyup":return Qi.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ur=!1;function Bm(a,c){switch(a){case"compositionend":return Sc(c);case"keypress":return c.which!==32?null:(Ld=!0,zs);case"textInput":return a=c.data,a===zs&&Ld?null:a;default:return null}}function os(a,c){if(Ur)return a==="compositionend"||!ss&&_o(a,c)?(a=pc(),rs=bi=is=null,Ur=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Td&&c.locale!=="ko"?null:c.data;default:return null}}var El={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cd(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!El[a.type]:c==="textarea"}function Tl(a,c,m,x){ns(x),c=v(c,"onChange"),0<c.length&&(m=new mc("onChange","change",null,m,x),a.push({event:m,listeners:c}))}var xa=null,Si=null;function Um(a){Rc(a,0)}function Hr(a){var c=Vs(a);if(be(c))return a}function Hm(a,c){if(a==="change")return c}var gr=!1;if(u){var yo;if(u){var Ll="oninput"in document;if(!Ll){var Cl=document.createElement("div");Cl.setAttribute("oninput","return;"),Ll=typeof Cl.oninput=="function"}yo=Ll}else yo=!1;gr=yo&&(!document.documentMode||9<document.documentMode)}function wa(){xa&&(xa.detachEvent("onpropertychange",Pl),Si=xa=null)}function Pl(a){if(a.propertyName==="value"&&Hr(Si)){var c=[];Tl(c,Si,a,Ct(a)),ii(Um,c)}}function Al(a,c,m){a==="focusin"?(wa(),xa=c,Si=m,xa.attachEvent("onpropertychange",Pl)):a==="focusout"&&wa()}function vo(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Hr(Si)}function kl(a,c){if(a==="click")return Hr(c)}function Mc(a,c){if(a==="input"||a==="change")return Hr(c)}function Pd(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var er=typeof Object.is=="function"?Object.is:Pd;function as(a,c){if(er(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var m=Object.keys(a),x=Object.keys(c);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var E=m[x];if(!h.call(c,E)||!er(a[E],c[E]))return!1}return!0}function Ad(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ec(a,c){var m=Ad(a);a=0;for(var x;m;){if(m.nodeType===3){if(x=a+m.textContent.length,a<=c&&x>=c)return{node:m,offset:c-a};a=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Ad(m)}}function kd(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?kd(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function Tc(){for(var a=window,c=Re();c instanceof a.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)a=c.contentWindow;else break;c=Re(a.document)}return c}function Lc(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function _r(a){var c=Tc(),m=a.focusedElem,x=a.selectionRange;if(c!==m&&m&&m.ownerDocument&&kd(m.ownerDocument.documentElement,m)){if(x!==null&&Lc(m)){if(c=x.start,a=x.end,a===void 0&&(a=c),"selectionStart"in m)m.selectionStart=c,m.selectionEnd=Math.min(a,m.value.length);else if(a=(c=m.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var E=m.textContent.length,P=Math.min(x.start,E);x=x.end===void 0?P:Math.min(x.end,E),!a.extend&&P>x&&(E=x,x=P,P=E),E=Ec(m,P);var U=Ec(m,x);E&&U&&(a.rangeCount!==1||a.anchorNode!==E.node||a.anchorOffset!==E.offset||a.focusNode!==U.node||a.focusOffset!==U.offset)&&(c=c.createRange(),c.setStart(E.node,E.offset),a.removeAllRanges(),P>x?(a.addRange(c),a.extend(U.node,U.offset)):(c.setEnd(U.node,U.offset),a.addRange(c)))}}for(c=[],a=m;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<c.length;m++)a=c[m],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Rl=u&&"documentMode"in document&&11>=document.documentMode,xo=null,wo=null,ba=null,Il=!1;function Rd(a,c,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Il||xo==null||xo!==Re(x)||(x=xo,"selectionStart"in x&&Lc(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),ba&&as(ba,x)||(ba=x,x=v(wo,"onSelect"),0<x.length&&(c=new mc("onSelect","select",null,c,m),a.push({event:c,listeners:x}),c.target=xo)))}function ls(a,c){var m={};return m[a.toLowerCase()]=c.toLowerCase(),m["Webkit"+a]="webkit"+c,m["Moz"+a]="moz"+c,m}var bo={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionend:ls("Transition","TransitionEnd")},us={},Cc={};u&&(Cc=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function Sa(a){if(us[a])return us[a];if(!bo[a])return a;var c=bo[a],m;for(m in c)if(c.hasOwnProperty(m)&&m in Cc)return us[a]=c[m];return a}var Id=Sa("animationend"),yr=Sa("animationiteration"),Pc=Sa("animationstart"),Ac=Sa("transitionend"),So=new Map,Dd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(a,c){So.set(a,c),s(c,[a])}for(var Fs=0;Fs<Dd.length;Fs++){var Dl=Dd[Fs],Nd=Dl.toLowerCase(),Vm=Dl[0].toUpperCase()+Dl.slice(1);tr(Nd,"on"+Vm)}tr(Id,"onAnimationEnd"),tr(yr,"onAnimationIteration"),tr(Pc,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(Ac,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Od=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mo));function kc(a,c,m){var x=a.type||"unknown-event";a.currentTarget=m,dt(x,c,void 0,a),a.currentTarget=null}function Rc(a,c){c=(c&4)!==0;for(var m=0;m<a.length;m++){var x=a[m],E=x.event;x=x.listeners;e:{var P=void 0;if(c)for(var U=x.length-1;0<=U;U--){var Q=x[U],ue=Q.instance,Ee=Q.currentTarget;if(Q=Q.listener,ue!==P&&E.isPropagationStopped())break e;kc(E,Q,Ee),P=ue}else for(U=0;U<x.length;U++){if(Q=x[U],ue=Q.instance,Ee=Q.currentTarget,Q=Q.listener,ue!==P&&E.isPropagationStopped())break e;kc(E,Q,Ee),P=ue}}}if(ge)throw a=Ce,ge=!1,Ce=null,a}function Kt(a,c){var m=c[Co];m===void 0&&(m=c[Co]=new Set);var x=a+"__bubble";m.has(x)||(zd(c,a,2,!1),m.add(x))}function Ic(a,c,m){var x=0;c&&(x|=4),zd(m,a,x,c)}var Ma="_reactListening"+Math.random().toString(36).slice(2);function Eo(a){if(!a[Ma]){a[Ma]=!0,i.forEach(function(m){m!=="selectionchange"&&(Od.has(m)||Ic(m,!1,a),Ic(m,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Ma]||(c[Ma]=!0,Ic("selectionchange",!1,c))}}function zd(a,c,m,x){switch(Dt(c)){case 1:var E=Pm;break;case 4:E=_d;break;default:E=ya}m=E.bind(null,c,m,a),E=void 0,!oo||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),x?E!==void 0?a.addEventListener(c,m,{capture:!0,passive:E}):a.addEventListener(c,m,!0):E!==void 0?a.addEventListener(c,m,{passive:E}):a.addEventListener(c,m,!1)}function l(a,c,m,x,E){var P=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var U=x.tag;if(U===3||U===4){var Q=x.stateNode.containerInfo;if(Q===E||Q.nodeType===8&&Q.parentNode===E)break;if(U===4)for(U=x.return;U!==null;){var ue=U.tag;if((ue===3||ue===4)&&(ue=U.stateNode.containerInfo,ue===E||ue.nodeType===8&&ue.parentNode===E))return;U=U.return}for(;Q!==null;){if(U=Us(Q),U===null)return;if(ue=U.tag,ue===5||ue===6){x=P=U;continue e}Q=Q.parentNode}}x=x.return}ii(function(){var Ee=P,He=Ct(m),Ge=[];e:{var Ue=So.get(a);if(Ue!==void 0){var nt=mc,ot=a;switch(a){case"keypress":if(bl(m)===0)break e;case"keydown":case"keyup":nt=bd;break;case"focusin":ot="focus",nt=Sl;break;case"focusout":ot="blur",nt=Sl;break;case"beforeblur":case"afterblur":nt=Sl;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=_c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=bc;break;case Id:case yr:case Pc:nt=Rm;break;case Ac:nt=zm;break;case"scroll":nt=Am;break;case"wheel":nt=Fm;break;case"copy":case"cut":case"paste":nt=vc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=Md}var at=(c&4)!==0,Ln=!at&&a==="scroll",ye=at?Ue!==null?Ue+"Capture":null:Ue;at=[];for(var pe=Ee,xe;pe!==null;){xe=pe;var Ye=xe.stateNode;if(xe.tag===5&&Ye!==null&&(xe=Ye,ye!==null&&(Ye=xi(pe,ye),Ye!=null&&at.push(f(pe,Ye,xe)))),Ln)break;pe=pe.return}0<at.length&&(Ue=new nt(Ue,ot,null,m,He),Ge.push({event:Ue,listeners:at}))}}if((c&7)===0){e:{if(Ue=a==="mouseover"||a==="pointerover",nt=a==="mouseout"||a==="pointerout",Ue&&m!==tt&&(ot=m.relatedTarget||m.fromElement)&&(Us(ot)||ot[Gt]))break e;if((nt||Ue)&&(Ue=He.window===He?He:(Ue=He.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,nt?(ot=m.relatedTarget||m.toElement,nt=Ee,ot=ot?Us(ot):null,ot!==null&&(Ln=lt(ot),ot!==Ln||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(nt=null,ot=Ee),nt!==ot)){if(at=_c,Ye="onMouseLeave",ye="onMouseEnter",pe="mouse",(a==="pointerout"||a==="pointerover")&&(at=Md,Ye="onPointerLeave",ye="onPointerEnter",pe="pointer"),Ln=nt==null?Ue:Vs(nt),xe=ot==null?Ue:Vs(ot),Ue=new at(Ye,pe+"leave",nt,m,He),Ue.target=Ln,Ue.relatedTarget=xe,Ye=null,Us(He)===Ee&&(at=new at(ye,pe+"enter",ot,m,He),at.target=xe,at.relatedTarget=Ln,Ye=at),Ln=Ye,nt&&ot)t:{for(at=nt,ye=ot,pe=0,xe=at;xe;xe=M(xe))pe++;for(xe=0,Ye=ye;Ye;Ye=M(Ye))xe++;for(;0<pe-xe;)at=M(at),pe--;for(;0<xe-pe;)ye=M(ye),xe--;for(;pe--;){if(at===ye||ye!==null&&at===ye.alternate)break t;at=M(at),ye=M(ye)}at=null}else at=null;nt!==null&&A(Ge,Ue,nt,at,!1),ot!==null&&Ln!==null&&A(Ge,Ln,ot,at,!0)}}e:{if(Ue=Ee?Vs(Ee):window,nt=Ue.nodeName&&Ue.nodeName.toLowerCase(),nt==="select"||nt==="input"&&Ue.type==="file")var ct=Hm;else if(Cd(Ue))if(gr)ct=Mc;else{ct=vo;var pt=Al}else(nt=Ue.nodeName)&&nt.toLowerCase()==="input"&&(Ue.type==="checkbox"||Ue.type==="radio")&&(ct=kl);if(ct&&(ct=ct(a,Ee))){Tl(Ge,ct,m,He);break e}pt&&pt(a,Ue,Ee),a==="focusout"&&(pt=Ue._wrapperState)&&pt.controlled&&Ue.type==="number"&&we(Ue,"number",Ue.value)}switch(pt=Ee?Vs(Ee):window,a){case"focusin":(Cd(pt)||pt.contentEditable==="true")&&(xo=pt,wo=Ee,ba=null);break;case"focusout":ba=wo=xo=null;break;case"mousedown":Il=!0;break;case"contextmenu":case"mouseup":case"dragend":Il=!1,Rd(Ge,m,He);break;case"selectionchange":if(Rl)break;case"keydown":case"keyup":Rd(Ge,m,He)}var mt;if(ss)e:{switch(a){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else Ur?_o(a,m)&&(wt="onCompositionEnd"):a==="keydown"&&m.keyCode===229&&(wt="onCompositionStart");wt&&(Td&&m.locale!=="ko"&&(Ur||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Ur&&(mt=pc()):(is=He,bi="value"in is?is.value:is.textContent,Ur=!0)),pt=v(Ee,wt),0<pt.length&&(wt=new xc(wt,a,null,m,He),Ge.push({event:wt,listeners:pt}),mt?wt.data=mt:(mt=Sc(m),mt!==null&&(wt.data=mt)))),(mt=Br?Bm(a,m):os(a,m))&&(Ee=v(Ee,"onBeforeInput"),0<Ee.length&&(He=new xc("onBeforeInput","beforeinput",null,m,He),Ge.push({event:He,listeners:Ee}),He.data=mt))}Rc(Ge,c)})}function f(a,c,m){return{instance:a,listener:c,currentTarget:m}}function v(a,c){for(var m=c+"Capture",x=[];a!==null;){var E=a,P=E.stateNode;E.tag===5&&P!==null&&(E=P,P=xi(a,m),P!=null&&x.unshift(f(a,P,E)),P=xi(a,c),P!=null&&x.push(f(a,P,E))),a=a.return}return x}function M(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function A(a,c,m,x,E){for(var P=c._reactName,U=[];m!==null&&m!==x;){var Q=m,ue=Q.alternate,Ee=Q.stateNode;if(ue!==null&&ue===x)break;Q.tag===5&&Ee!==null&&(Q=Ee,E?(ue=xi(m,P),ue!=null&&U.unshift(f(m,ue,Q))):E||(ue=xi(m,P),ue!=null&&U.push(f(m,ue,Q)))),m=m.return}U.length!==0&&a.push({event:c,listeners:U})}var V=/\r\n?/g,re=/\u0000|\uFFFD/g;function _e(a){return(typeof a=="string"?a:""+a).replace(V,`
`).replace(re,"")}function Me(a,c,m){if(c=_e(c),_e(a)!==c&&m)throw Error(t(425))}function Oe(){}var et=null,ft=null;function Tt(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Dn=typeof setTimeout=="function"?setTimeout:void 0,An=typeof clearTimeout=="function"?clearTimeout:void 0,Mi=typeof Promise=="function"?Promise:void 0,oi=typeof queueMicrotask=="function"?queueMicrotask:typeof Mi<"u"?function(a){return Mi.resolve(null).then(a).catch(To)}:Dn;function To(a){setTimeout(function(){throw a})}function Dc(a,c){var m=c,x=0;do{var E=m.nextSibling;if(a.removeChild(m),E&&E.nodeType===8)if(m=E.data,m==="/$"){if(x===0){a.removeChild(E),Ki(c);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=E}while(m);Ki(c)}function cs(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function Fd(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var m=a.data;if(m==="$"||m==="$!"||m==="$?"){if(c===0)return a;c--}else m==="/$"&&c++}a=a.previousSibling}return null}var Bs=Math.random().toString(36).slice(2),vr="__reactFiber$"+Bs,Lo="__reactProps$"+Bs,Gt="__reactContainer$"+Bs,Co="__reactEvents$"+Bs,jm="__reactListeners$"+Bs,Wm="__reactHandles$"+Bs;function Us(a){var c=a[vr];if(c)return c;for(var m=a.parentNode;m;){if(c=m[Gt]||m[vr]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(a=Fd(a);a!==null;){if(m=a[vr])return m;a=Fd(a)}return c}a=m,m=a.parentNode}return null}function Hs(a){return a=a[vr]||a[Gt],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Vs(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function Nl(a){return a[Lo]||null}var Gm=[],Ol=-1;function Po(a){return{current:a}}function hn(a){0>Ol||(a.current=Gm[Ol],Gm[Ol]=null,Ol--)}function sn(a,c){Ol++,Gm[Ol]=a.current,a.current=c}var Ao={},ai=Po(Ao),Ri=Po(!1),Ea=Ao;function zl(a,c){var m=a.type.contextTypes;if(!m)return Ao;var x=a.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var E={},P;for(P in m)E[P]=c[P];return x&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=E),E}function Ii(a){return a=a.childContextTypes,a!=null}function Bd(){hn(Ri),hn(ai)}function fx(a,c,m){if(ai.current!==Ao)throw Error(t(168));sn(ai,c),sn(Ri,m)}function px(a,c,m){var x=a.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var E in x)if(!(E in c))throw Error(t(108,Ne(a)||"Unknown",E));return I({},m,x)}function Ud(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ao,Ea=ai.current,sn(ai,a),sn(Ri,Ri.current),!0}function mx(a,c,m){var x=a.stateNode;if(!x)throw Error(t(169));m?(a=px(a,c,Ea),x.__reactInternalMemoizedMergedChildContext=a,hn(Ri),hn(ai),sn(ai,a)):hn(Ri),sn(Ri,m)}var js=null,Hd=!1,Zm=!1;function gx(a){js===null?js=[a]:js.push(a)}function ML(a){Hd=!0,gx(a)}function ko(){if(!Zm&&js!==null){Zm=!0;var a=0,c=Ft;try{var m=js;for(Ft=1;a<m.length;a++){var x=m[a];do x=x(!0);while(x!==null)}js=null,Hd=!1}catch(E){throw js!==null&&(js=js.slice(a+1)),hr(fn,ko),E}finally{Ft=c,Zm=!1}}return null}var Fl=[],Bl=0,Vd=null,jd=0,xr=[],wr=0,Ta=null,Ws=1,Gs="";function La(a,c){Fl[Bl++]=jd,Fl[Bl++]=Vd,Vd=a,jd=c}function _x(a,c,m){xr[wr++]=Ws,xr[wr++]=Gs,xr[wr++]=Ta,Ta=a;var x=Ws;a=Gs;var E=32-Et(x)-1;x&=~(1<<E),m+=1;var P=32-Et(c)+E;if(30<P){var U=E-E%5;P=(x&(1<<U)-1).toString(32),x>>=U,E-=U,Ws=1<<32-Et(c)+E|m<<E|x,Gs=P+a}else Ws=1<<P|m<<E|x,Gs=a}function $m(a){a.return!==null&&(La(a,1),_x(a,1,0))}function qm(a){for(;a===Vd;)Vd=Fl[--Bl],Fl[Bl]=null,jd=Fl[--Bl],Fl[Bl]=null;for(;a===Ta;)Ta=xr[--wr],xr[wr]=null,Gs=xr[--wr],xr[wr]=null,Ws=xr[--wr],xr[wr]=null}var nr=null,ir=null,mn=!1,Vr=null;function yx(a,c){var m=Er(5,null,null,0);m.elementType="DELETED",m.stateNode=c,m.return=a,c=a.deletions,c===null?(a.deletions=[m],a.flags|=16):c.push(m)}function vx(a,c){switch(a.tag){case 5:var m=a.type;return c=c.nodeType!==1||m.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,nr=a,ir=cs(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,nr=a,ir=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(m=Ta!==null?{id:Ws,overflow:Gs}:null,a.memoizedState={dehydrated:c,treeContext:m,retryLane:1073741824},m=Er(18,null,null,0),m.stateNode=c,m.return=a,a.child=m,nr=a,ir=null,!0):!1;default:return!1}}function Xm(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Ym(a){if(mn){var c=ir;if(c){var m=c;if(!vx(a,c)){if(Xm(a))throw Error(t(418));c=cs(m.nextSibling);var x=nr;c&&vx(a,c)?yx(x,m):(a.flags=a.flags&-4097|2,mn=!1,nr=a)}}else{if(Xm(a))throw Error(t(418));a.flags=a.flags&-4097|2,mn=!1,nr=a}}}function xx(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;nr=a}function Wd(a){if(a!==nr)return!1;if(!mn)return xx(a),mn=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Tt(a.type,a.memoizedProps)),c&&(c=ir)){if(Xm(a))throw wx(),Error(t(418));for(;c;)yx(a,c),c=cs(c.nextSibling)}if(xx(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var m=a.data;if(m==="/$"){if(c===0){ir=cs(a.nextSibling);break e}c--}else m!=="$"&&m!=="$!"&&m!=="$?"||c++}a=a.nextSibling}ir=null}}else ir=nr?cs(a.stateNode.nextSibling):null;return!0}function wx(){for(var a=ir;a;)a=cs(a.nextSibling)}function Ul(){ir=nr=null,mn=!1}function Km(a){Vr===null?Vr=[a]:Vr.push(a)}var EL=F.ReactCurrentBatchConfig;function Nc(a,c,m){if(a=m.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(t(309));var x=m.stateNode}if(!x)throw Error(t(147,a));var E=x,P=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===P?c.ref:(c=function(U){var Q=E.refs;U===null?delete Q[P]:Q[P]=U},c._stringRef=P,c)}if(typeof a!="string")throw Error(t(284));if(!m._owner)throw Error(t(290,a))}return a}function Gd(a,c){throw a=Object.prototype.toString.call(c),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function bx(a){var c=a._init;return c(a._payload)}function Sx(a){function c(ye,pe){if(a){var xe=ye.deletions;xe===null?(ye.deletions=[pe],ye.flags|=16):xe.push(pe)}}function m(ye,pe){if(!a)return null;for(;pe!==null;)c(ye,pe),pe=pe.sibling;return null}function x(ye,pe){for(ye=new Map;pe!==null;)pe.key!==null?ye.set(pe.key,pe):ye.set(pe.index,pe),pe=pe.sibling;return ye}function E(ye,pe){return ye=Bo(ye,pe),ye.index=0,ye.sibling=null,ye}function P(ye,pe,xe){return ye.index=xe,a?(xe=ye.alternate,xe!==null?(xe=xe.index,xe<pe?(ye.flags|=2,pe):xe):(ye.flags|=2,pe)):(ye.flags|=1048576,pe)}function U(ye){return a&&ye.alternate===null&&(ye.flags|=2),ye}function Q(ye,pe,xe,Ye){return pe===null||pe.tag!==6?(pe=Vg(xe,ye.mode,Ye),pe.return=ye,pe):(pe=E(pe,xe),pe.return=ye,pe)}function ue(ye,pe,xe,Ye){var ct=xe.type;return ct===N?He(ye,pe,xe.props.children,Ye,xe.key):pe!==null&&(pe.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===ae&&bx(ct)===pe.type)?(Ye=E(pe,xe.props),Ye.ref=Nc(ye,pe,xe),Ye.return=ye,Ye):(Ye=gf(xe.type,xe.key,xe.props,null,ye.mode,Ye),Ye.ref=Nc(ye,pe,xe),Ye.return=ye,Ye)}function Ee(ye,pe,xe,Ye){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==xe.containerInfo||pe.stateNode.implementation!==xe.implementation?(pe=jg(xe,ye.mode,Ye),pe.return=ye,pe):(pe=E(pe,xe.children||[]),pe.return=ye,pe)}function He(ye,pe,xe,Ye,ct){return pe===null||pe.tag!==7?(pe=Na(xe,ye.mode,Ye,ct),pe.return=ye,pe):(pe=E(pe,xe),pe.return=ye,pe)}function Ge(ye,pe,xe){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pe=Vg(""+pe,ye.mode,xe),pe.return=ye,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case R:return xe=gf(pe.type,pe.key,pe.props,null,ye.mode,xe),xe.ref=Nc(ye,null,pe),xe.return=ye,xe;case B:return pe=jg(pe,ye.mode,xe),pe.return=ye,pe;case ae:var Ye=pe._init;return Ge(ye,Ye(pe._payload),xe)}if(Ae(pe)||fe(pe))return pe=Na(pe,ye.mode,xe,null),pe.return=ye,pe;Gd(ye,pe)}return null}function Ue(ye,pe,xe,Ye){var ct=pe!==null?pe.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return ct!==null?null:Q(ye,pe,""+xe,Ye);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case R:return xe.key===ct?ue(ye,pe,xe,Ye):null;case B:return xe.key===ct?Ee(ye,pe,xe,Ye):null;case ae:return ct=xe._init,Ue(ye,pe,ct(xe._payload),Ye)}if(Ae(xe)||fe(xe))return ct!==null?null:He(ye,pe,xe,Ye,null);Gd(ye,xe)}return null}function nt(ye,pe,xe,Ye,ct){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return ye=ye.get(xe)||null,Q(pe,ye,""+Ye,ct);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case R:return ye=ye.get(Ye.key===null?xe:Ye.key)||null,ue(pe,ye,Ye,ct);case B:return ye=ye.get(Ye.key===null?xe:Ye.key)||null,Ee(pe,ye,Ye,ct);case ae:var pt=Ye._init;return nt(ye,pe,xe,pt(Ye._payload),ct)}if(Ae(Ye)||fe(Ye))return ye=ye.get(xe)||null,He(pe,ye,Ye,ct,null);Gd(pe,Ye)}return null}function ot(ye,pe,xe,Ye){for(var ct=null,pt=null,mt=pe,wt=pe=0,jn=null;mt!==null&&wt<xe.length;wt++){mt.index>wt?(jn=mt,mt=null):jn=mt.sibling;var Ht=Ue(ye,mt,xe[wt],Ye);if(Ht===null){mt===null&&(mt=jn);break}a&&mt&&Ht.alternate===null&&c(ye,mt),pe=P(Ht,pe,wt),pt===null?ct=Ht:pt.sibling=Ht,pt=Ht,mt=jn}if(wt===xe.length)return m(ye,mt),mn&&La(ye,wt),ct;if(mt===null){for(;wt<xe.length;wt++)mt=Ge(ye,xe[wt],Ye),mt!==null&&(pe=P(mt,pe,wt),pt===null?ct=mt:pt.sibling=mt,pt=mt);return mn&&La(ye,wt),ct}for(mt=x(ye,mt);wt<xe.length;wt++)jn=nt(mt,ye,wt,xe[wt],Ye),jn!==null&&(a&&jn.alternate!==null&&mt.delete(jn.key===null?wt:jn.key),pe=P(jn,pe,wt),pt===null?ct=jn:pt.sibling=jn,pt=jn);return a&&mt.forEach(function(Uo){return c(ye,Uo)}),mn&&La(ye,wt),ct}function at(ye,pe,xe,Ye){var ct=fe(xe);if(typeof ct!="function")throw Error(t(150));if(xe=ct.call(xe),xe==null)throw Error(t(151));for(var pt=ct=null,mt=pe,wt=pe=0,jn=null,Ht=xe.next();mt!==null&&!Ht.done;wt++,Ht=xe.next()){mt.index>wt?(jn=mt,mt=null):jn=mt.sibling;var Uo=Ue(ye,mt,Ht.value,Ye);if(Uo===null){mt===null&&(mt=jn);break}a&&mt&&Uo.alternate===null&&c(ye,mt),pe=P(Uo,pe,wt),pt===null?ct=Uo:pt.sibling=Uo,pt=Uo,mt=jn}if(Ht.done)return m(ye,mt),mn&&La(ye,wt),ct;if(mt===null){for(;!Ht.done;wt++,Ht=xe.next())Ht=Ge(ye,Ht.value,Ye),Ht!==null&&(pe=P(Ht,pe,wt),pt===null?ct=Ht:pt.sibling=Ht,pt=Ht);return mn&&La(ye,wt),ct}for(mt=x(ye,mt);!Ht.done;wt++,Ht=xe.next())Ht=nt(mt,ye,wt,Ht.value,Ye),Ht!==null&&(a&&Ht.alternate!==null&&mt.delete(Ht.key===null?wt:Ht.key),pe=P(Ht,pe,wt),pt===null?ct=Ht:pt.sibling=Ht,pt=Ht);return a&&mt.forEach(function(rC){return c(ye,rC)}),mn&&La(ye,wt),ct}function Ln(ye,pe,xe,Ye){if(typeof xe=="object"&&xe!==null&&xe.type===N&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case R:e:{for(var ct=xe.key,pt=pe;pt!==null;){if(pt.key===ct){if(ct=xe.type,ct===N){if(pt.tag===7){m(ye,pt.sibling),pe=E(pt,xe.props.children),pe.return=ye,ye=pe;break e}}else if(pt.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===ae&&bx(ct)===pt.type){m(ye,pt.sibling),pe=E(pt,xe.props),pe.ref=Nc(ye,pt,xe),pe.return=ye,ye=pe;break e}m(ye,pt);break}else c(ye,pt);pt=pt.sibling}xe.type===N?(pe=Na(xe.props.children,ye.mode,Ye,xe.key),pe.return=ye,ye=pe):(Ye=gf(xe.type,xe.key,xe.props,null,ye.mode,Ye),Ye.ref=Nc(ye,pe,xe),Ye.return=ye,ye=Ye)}return U(ye);case B:e:{for(pt=xe.key;pe!==null;){if(pe.key===pt)if(pe.tag===4&&pe.stateNode.containerInfo===xe.containerInfo&&pe.stateNode.implementation===xe.implementation){m(ye,pe.sibling),pe=E(pe,xe.children||[]),pe.return=ye,ye=pe;break e}else{m(ye,pe);break}else c(ye,pe);pe=pe.sibling}pe=jg(xe,ye.mode,Ye),pe.return=ye,ye=pe}return U(ye);case ae:return pt=xe._init,Ln(ye,pe,pt(xe._payload),Ye)}if(Ae(xe))return ot(ye,pe,xe,Ye);if(fe(xe))return at(ye,pe,xe,Ye);Gd(ye,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,pe!==null&&pe.tag===6?(m(ye,pe.sibling),pe=E(pe,xe),pe.return=ye,ye=pe):(m(ye,pe),pe=Vg(xe,ye.mode,Ye),pe.return=ye,ye=pe),U(ye)):m(ye,pe)}return Ln}var Hl=Sx(!0),Mx=Sx(!1),Zd=Po(null),$d=null,Vl=null,Jm=null;function Qm(){Jm=Vl=$d=null}function eg(a){var c=Zd.current;hn(Zd),a._currentValue=c}function tg(a,c,m){for(;a!==null;){var x=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),a===m)break;a=a.return}}function jl(a,c){$d=a,Jm=Vl=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(Di=!0),a.firstContext=null)}function br(a){var c=a._currentValue;if(Jm!==a)if(a={context:a,memoizedValue:c,next:null},Vl===null){if($d===null)throw Error(t(308));Vl=a,$d.dependencies={lanes:0,firstContext:a}}else Vl=Vl.next=a;return c}var Ca=null;function ng(a){Ca===null?Ca=[a]:Ca.push(a)}function Ex(a,c,m,x){var E=c.interleaved;return E===null?(m.next=m,ng(c)):(m.next=E.next,E.next=m),c.interleaved=m,Zs(a,x)}function Zs(a,c){a.lanes|=c;var m=a.alternate;for(m!==null&&(m.lanes|=c),m=a,a=a.return;a!==null;)a.childLanes|=c,m=a.alternate,m!==null&&(m.childLanes|=c),m=a,a=a.return;return m.tag===3?m.stateNode:null}var Ro=!1;function ig(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tx(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function $s(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function Io(a,c,m){var x=a.updateQueue;if(x===null)return null;if(x=x.shared,(Ut&2)!==0){var E=x.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),x.pending=c,Zs(a,m)}return E=x.interleaved,E===null?(c.next=c,ng(x)):(c.next=E.next,E.next=c),x.interleaved=c,Zs(a,m)}function qd(a,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194240)!==0)){var x=c.lanes;x&=a.pendingLanes,m|=x,c.lanes=m,zr(a,m)}}function Lx(a,c){var m=a.updateQueue,x=a.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var E=null,P=null;if(m=m.firstBaseUpdate,m!==null){do{var U={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};P===null?E=P=U:P=P.next=U,m=m.next}while(m!==null);P===null?E=P=c:P=P.next=c}else E=P=c;m={baseState:x.baseState,firstBaseUpdate:E,lastBaseUpdate:P,shared:x.shared,effects:x.effects},a.updateQueue=m;return}a=m.lastBaseUpdate,a===null?m.firstBaseUpdate=c:a.next=c,m.lastBaseUpdate=c}function Xd(a,c,m,x){var E=a.updateQueue;Ro=!1;var P=E.firstBaseUpdate,U=E.lastBaseUpdate,Q=E.shared.pending;if(Q!==null){E.shared.pending=null;var ue=Q,Ee=ue.next;ue.next=null,U===null?P=Ee:U.next=Ee,U=ue;var He=a.alternate;He!==null&&(He=He.updateQueue,Q=He.lastBaseUpdate,Q!==U&&(Q===null?He.firstBaseUpdate=Ee:Q.next=Ee,He.lastBaseUpdate=ue))}if(P!==null){var Ge=E.baseState;U=0,He=Ee=ue=null,Q=P;do{var Ue=Q.lane,nt=Q.eventTime;if((x&Ue)===Ue){He!==null&&(He=He.next={eventTime:nt,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var ot=a,at=Q;switch(Ue=c,nt=m,at.tag){case 1:if(ot=at.payload,typeof ot=="function"){Ge=ot.call(nt,Ge,Ue);break e}Ge=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=at.payload,Ue=typeof ot=="function"?ot.call(nt,Ge,Ue):ot,Ue==null)break e;Ge=I({},Ge,Ue);break e;case 2:Ro=!0}}Q.callback!==null&&Q.lane!==0&&(a.flags|=64,Ue=E.effects,Ue===null?E.effects=[Q]:Ue.push(Q))}else nt={eventTime:nt,lane:Ue,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},He===null?(Ee=He=nt,ue=Ge):He=He.next=nt,U|=Ue;if(Q=Q.next,Q===null){if(Q=E.shared.pending,Q===null)break;Ue=Q,Q=Ue.next,Ue.next=null,E.lastBaseUpdate=Ue,E.shared.pending=null}}while(!0);if(He===null&&(ue=Ge),E.baseState=ue,E.firstBaseUpdate=Ee,E.lastBaseUpdate=He,c=E.shared.interleaved,c!==null){E=c;do U|=E.lane,E=E.next;while(E!==c)}else P===null&&(E.shared.lanes=0);ka|=U,a.lanes=U,a.memoizedState=Ge}}function Cx(a,c,m){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var x=a[c],E=x.callback;if(E!==null){if(x.callback=null,x=m,typeof E!="function")throw Error(t(191,E));E.call(x)}}}var Oc={},hs=Po(Oc),zc=Po(Oc),Fc=Po(Oc);function Pa(a){if(a===Oc)throw Error(t(174));return a}function rg(a,c){switch(sn(Fc,c),sn(zc,a),sn(hs,Oc),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:q(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=q(c,a)}hn(hs),sn(hs,c)}function Wl(){hn(hs),hn(zc),hn(Fc)}function Px(a){Pa(Fc.current);var c=Pa(hs.current),m=q(c,a.type);c!==m&&(sn(zc,a),sn(hs,m))}function sg(a){zc.current===a&&(hn(hs),hn(zc))}var vn=Po(0);function Yd(a){for(var c=a;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var og=[];function ag(){for(var a=0;a<og.length;a++)og[a]._workInProgressVersionPrimary=null;og.length=0}var Kd=F.ReactCurrentDispatcher,lg=F.ReactCurrentBatchConfig,Aa=0,xn=null,Nn=null,Hn=null,Jd=!1,Bc=!1,Uc=0,TL=0;function li(){throw Error(t(321))}function ug(a,c){if(c===null)return!1;for(var m=0;m<c.length&&m<a.length;m++)if(!er(a[m],c[m]))return!1;return!0}function cg(a,c,m,x,E,P){if(Aa=P,xn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Kd.current=a===null||a.memoizedState===null?AL:kL,a=m(x,E),Bc){P=0;do{if(Bc=!1,Uc=0,25<=P)throw Error(t(301));P+=1,Hn=Nn=null,c.updateQueue=null,Kd.current=RL,a=m(x,E)}while(Bc)}if(Kd.current=tf,c=Nn!==null&&Nn.next!==null,Aa=0,Hn=Nn=xn=null,Jd=!1,c)throw Error(t(300));return a}function hg(){var a=Uc!==0;return Uc=0,a}function ds(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?xn.memoizedState=Hn=a:Hn=Hn.next=a,Hn}function Sr(){if(Nn===null){var a=xn.alternate;a=a!==null?a.memoizedState:null}else a=Nn.next;var c=Hn===null?xn.memoizedState:Hn.next;if(c!==null)Hn=c,Nn=a;else{if(a===null)throw Error(t(310));Nn=a,a={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Hn===null?xn.memoizedState=Hn=a:Hn=Hn.next=a}return Hn}function Hc(a,c){return typeof c=="function"?c(a):c}function dg(a){var c=Sr(),m=c.queue;if(m===null)throw Error(t(311));m.lastRenderedReducer=a;var x=Nn,E=x.baseQueue,P=m.pending;if(P!==null){if(E!==null){var U=E.next;E.next=P.next,P.next=U}x.baseQueue=E=P,m.pending=null}if(E!==null){P=E.next,x=x.baseState;var Q=U=null,ue=null,Ee=P;do{var He=Ee.lane;if((Aa&He)===He)ue!==null&&(ue=ue.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),x=Ee.hasEagerState?Ee.eagerState:a(x,Ee.action);else{var Ge={lane:He,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};ue===null?(Q=ue=Ge,U=x):ue=ue.next=Ge,xn.lanes|=He,ka|=He}Ee=Ee.next}while(Ee!==null&&Ee!==P);ue===null?U=x:ue.next=Q,er(x,c.memoizedState)||(Di=!0),c.memoizedState=x,c.baseState=U,c.baseQueue=ue,m.lastRenderedState=x}if(a=m.interleaved,a!==null){E=a;do P=E.lane,xn.lanes|=P,ka|=P,E=E.next;while(E!==a)}else E===null&&(m.lanes=0);return[c.memoizedState,m.dispatch]}function fg(a){var c=Sr(),m=c.queue;if(m===null)throw Error(t(311));m.lastRenderedReducer=a;var x=m.dispatch,E=m.pending,P=c.memoizedState;if(E!==null){m.pending=null;var U=E=E.next;do P=a(P,U.action),U=U.next;while(U!==E);er(P,c.memoizedState)||(Di=!0),c.memoizedState=P,c.baseQueue===null&&(c.baseState=P),m.lastRenderedState=P}return[P,x]}function Ax(){}function kx(a,c){var m=xn,x=Sr(),E=c(),P=!er(x.memoizedState,E);if(P&&(x.memoizedState=E,Di=!0),x=x.queue,pg(Dx.bind(null,m,x,a),[a]),x.getSnapshot!==c||P||Hn!==null&&Hn.memoizedState.tag&1){if(m.flags|=2048,Vc(9,Ix.bind(null,m,x,E,c),void 0,null),Vn===null)throw Error(t(349));(Aa&30)!==0||Rx(m,c,E)}return E}function Rx(a,c,m){a.flags|=16384,a={getSnapshot:c,value:m},c=xn.updateQueue,c===null?(c={lastEffect:null,stores:null},xn.updateQueue=c,c.stores=[a]):(m=c.stores,m===null?c.stores=[a]:m.push(a))}function Ix(a,c,m,x){c.value=m,c.getSnapshot=x,Nx(c)&&Ox(a)}function Dx(a,c,m){return m(function(){Nx(c)&&Ox(a)})}function Nx(a){var c=a.getSnapshot;a=a.value;try{var m=c();return!er(a,m)}catch{return!0}}function Ox(a){var c=Zs(a,1);c!==null&&Zr(c,a,1,-1)}function zx(a){var c=ds();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hc,lastRenderedState:a},c.queue=a,a=a.dispatch=PL.bind(null,xn,a),[c.memoizedState,a]}function Vc(a,c,m,x){return a={tag:a,create:c,destroy:m,deps:x,next:null},c=xn.updateQueue,c===null?(c={lastEffect:null,stores:null},xn.updateQueue=c,c.lastEffect=a.next=a):(m=c.lastEffect,m===null?c.lastEffect=a.next=a:(x=m.next,m.next=a,a.next=x,c.lastEffect=a)),a}function Fx(){return Sr().memoizedState}function Qd(a,c,m,x){var E=ds();xn.flags|=a,E.memoizedState=Vc(1|c,m,void 0,x===void 0?null:x)}function ef(a,c,m,x){var E=Sr();x=x===void 0?null:x;var P=void 0;if(Nn!==null){var U=Nn.memoizedState;if(P=U.destroy,x!==null&&ug(x,U.deps)){E.memoizedState=Vc(c,m,P,x);return}}xn.flags|=a,E.memoizedState=Vc(1|c,m,P,x)}function Bx(a,c){return Qd(8390656,8,a,c)}function pg(a,c){return ef(2048,8,a,c)}function Ux(a,c){return ef(4,2,a,c)}function Hx(a,c){return ef(4,4,a,c)}function Vx(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function jx(a,c,m){return m=m!=null?m.concat([a]):null,ef(4,4,Vx.bind(null,c,a),m)}function mg(){}function Wx(a,c){var m=Sr();c=c===void 0?null:c;var x=m.memoizedState;return x!==null&&c!==null&&ug(c,x[1])?x[0]:(m.memoizedState=[a,c],a)}function Gx(a,c){var m=Sr();c=c===void 0?null:c;var x=m.memoizedState;return x!==null&&c!==null&&ug(c,x[1])?x[0]:(a=a(),m.memoizedState=[a,c],a)}function Zx(a,c,m){return(Aa&21)===0?(a.baseState&&(a.baseState=!1,Di=!0),a.memoizedState=m):(er(m,c)||(m=gd(),xn.lanes|=m,ka|=m,a.baseState=!0),c)}function LL(a,c){var m=Ft;Ft=m!==0&&4>m?m:4,a(!0);var x=lg.transition;lg.transition={};try{a(!1),c()}finally{Ft=m,lg.transition=x}}function $x(){return Sr().memoizedState}function CL(a,c,m){var x=zo(a);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},qx(a))Xx(c,m);else if(m=Ex(a,c,m,x),m!==null){var E=Ti();Zr(m,a,x,E),Yx(m,c,x)}}function PL(a,c,m){var x=zo(a),E={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(qx(a))Xx(c,E);else{var P=a.alternate;if(a.lanes===0&&(P===null||P.lanes===0)&&(P=c.lastRenderedReducer,P!==null))try{var U=c.lastRenderedState,Q=P(U,m);if(E.hasEagerState=!0,E.eagerState=Q,er(Q,U)){var ue=c.interleaved;ue===null?(E.next=E,ng(c)):(E.next=ue.next,ue.next=E),c.interleaved=E;return}}catch{}finally{}m=Ex(a,c,E,x),m!==null&&(E=Ti(),Zr(m,a,x,E),Yx(m,c,x))}}function qx(a){var c=a.alternate;return a===xn||c!==null&&c===xn}function Xx(a,c){Bc=Jd=!0;var m=a.pending;m===null?c.next=c:(c.next=m.next,m.next=c),a.pending=c}function Yx(a,c,m){if((m&4194240)!==0){var x=c.lanes;x&=a.pendingLanes,m|=x,c.lanes=m,zr(a,m)}}var tf={readContext:br,useCallback:li,useContext:li,useEffect:li,useImperativeHandle:li,useInsertionEffect:li,useLayoutEffect:li,useMemo:li,useReducer:li,useRef:li,useState:li,useDebugValue:li,useDeferredValue:li,useTransition:li,useMutableSource:li,useSyncExternalStore:li,useId:li,unstable_isNewReconciler:!1},AL={readContext:br,useCallback:function(a,c){return ds().memoizedState=[a,c===void 0?null:c],a},useContext:br,useEffect:Bx,useImperativeHandle:function(a,c,m){return m=m!=null?m.concat([a]):null,Qd(4194308,4,Vx.bind(null,c,a),m)},useLayoutEffect:function(a,c){return Qd(4194308,4,a,c)},useInsertionEffect:function(a,c){return Qd(4,2,a,c)},useMemo:function(a,c){var m=ds();return c=c===void 0?null:c,a=a(),m.memoizedState=[a,c],a},useReducer:function(a,c,m){var x=ds();return c=m!==void 0?m(c):c,x.memoizedState=x.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},x.queue=a,a=a.dispatch=CL.bind(null,xn,a),[x.memoizedState,a]},useRef:function(a){var c=ds();return a={current:a},c.memoizedState=a},useState:zx,useDebugValue:mg,useDeferredValue:function(a){return ds().memoizedState=a},useTransition:function(){var a=zx(!1),c=a[0];return a=LL.bind(null,a[1]),ds().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,m){var x=xn,E=ds();if(mn){if(m===void 0)throw Error(t(407));m=m()}else{if(m=c(),Vn===null)throw Error(t(349));(Aa&30)!==0||Rx(x,c,m)}E.memoizedState=m;var P={value:m,getSnapshot:c};return E.queue=P,Bx(Dx.bind(null,x,P,a),[a]),x.flags|=2048,Vc(9,Ix.bind(null,x,P,m,c),void 0,null),m},useId:function(){var a=ds(),c=Vn.identifierPrefix;if(mn){var m=Gs,x=Ws;m=(x&~(1<<32-Et(x)-1)).toString(32)+m,c=":"+c+"R"+m,m=Uc++,0<m&&(c+="H"+m.toString(32)),c+=":"}else m=TL++,c=":"+c+"r"+m.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},kL={readContext:br,useCallback:Wx,useContext:br,useEffect:pg,useImperativeHandle:jx,useInsertionEffect:Ux,useLayoutEffect:Hx,useMemo:Gx,useReducer:dg,useRef:Fx,useState:function(){return dg(Hc)},useDebugValue:mg,useDeferredValue:function(a){var c=Sr();return Zx(c,Nn.memoizedState,a)},useTransition:function(){var a=dg(Hc)[0],c=Sr().memoizedState;return[a,c]},useMutableSource:Ax,useSyncExternalStore:kx,useId:$x,unstable_isNewReconciler:!1},RL={readContext:br,useCallback:Wx,useContext:br,useEffect:pg,useImperativeHandle:jx,useInsertionEffect:Ux,useLayoutEffect:Hx,useMemo:Gx,useReducer:fg,useRef:Fx,useState:function(){return fg(Hc)},useDebugValue:mg,useDeferredValue:function(a){var c=Sr();return Nn===null?c.memoizedState=a:Zx(c,Nn.memoizedState,a)},useTransition:function(){var a=fg(Hc)[0],c=Sr().memoizedState;return[a,c]},useMutableSource:Ax,useSyncExternalStore:kx,useId:$x,unstable_isNewReconciler:!1};function jr(a,c){if(a&&a.defaultProps){c=I({},c),a=a.defaultProps;for(var m in a)c[m]===void 0&&(c[m]=a[m]);return c}return c}function gg(a,c,m,x){c=a.memoizedState,m=m(x,c),m=m==null?c:I({},c,m),a.memoizedState=m,a.lanes===0&&(a.updateQueue.baseState=m)}var nf={isMounted:function(a){return(a=a._reactInternals)?lt(a)===a:!1},enqueueSetState:function(a,c,m){a=a._reactInternals;var x=Ti(),E=zo(a),P=$s(x,E);P.payload=c,m!=null&&(P.callback=m),c=Io(a,P,E),c!==null&&(Zr(c,a,E,x),qd(c,a,E))},enqueueReplaceState:function(a,c,m){a=a._reactInternals;var x=Ti(),E=zo(a),P=$s(x,E);P.tag=1,P.payload=c,m!=null&&(P.callback=m),c=Io(a,P,E),c!==null&&(Zr(c,a,E,x),qd(c,a,E))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var m=Ti(),x=zo(a),E=$s(m,x);E.tag=2,c!=null&&(E.callback=c),c=Io(a,E,x),c!==null&&(Zr(c,a,x,m),qd(c,a,x))}};function Kx(a,c,m,x,E,P,U){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(x,P,U):c.prototype&&c.prototype.isPureReactComponent?!as(m,x)||!as(E,P):!0}function Jx(a,c,m){var x=!1,E=Ao,P=c.contextType;return typeof P=="object"&&P!==null?P=br(P):(E=Ii(c)?Ea:ai.current,x=c.contextTypes,P=(x=x!=null)?zl(a,E):Ao),c=new c(m,P),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=nf,a.stateNode=c,c._reactInternals=a,x&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=E,a.__reactInternalMemoizedMaskedChildContext=P),c}function Qx(a,c,m,x){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,x),c.state!==a&&nf.enqueueReplaceState(c,c.state,null)}function _g(a,c,m,x){var E=a.stateNode;E.props=m,E.state=a.memoizedState,E.refs={},ig(a);var P=c.contextType;typeof P=="object"&&P!==null?E.context=br(P):(P=Ii(c)?Ea:ai.current,E.context=zl(a,P)),E.state=a.memoizedState,P=c.getDerivedStateFromProps,typeof P=="function"&&(gg(a,c,P,m),E.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(c=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),c!==E.state&&nf.enqueueReplaceState(E,E.state,null),Xd(a,m,E,x),E.state=a.memoizedState),typeof E.componentDidMount=="function"&&(a.flags|=4194308)}function Gl(a,c){try{var m="",x=c;do m+=ve(x),x=x.return;while(x);var E=m}catch(P){E=`
Error generating stack: `+P.message+`
`+P.stack}return{value:a,source:c,stack:E,digest:null}}function yg(a,c,m){return{value:a,source:null,stack:m??null,digest:c??null}}function vg(a,c){try{console.error(c.value)}catch(m){setTimeout(function(){throw m})}}var IL=typeof WeakMap=="function"?WeakMap:Map;function e0(a,c,m){m=$s(-1,m),m.tag=3,m.payload={element:null};var x=c.value;return m.callback=function(){cf||(cf=!0,Dg=x),vg(a,c)},m}function t0(a,c,m){m=$s(-1,m),m.tag=3;var x=a.type.getDerivedStateFromError;if(typeof x=="function"){var E=c.value;m.payload=function(){return x(E)},m.callback=function(){vg(a,c)}}var P=a.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(m.callback=function(){vg(a,c),typeof x!="function"&&(No===null?No=new Set([this]):No.add(this));var U=c.stack;this.componentDidCatch(c.value,{componentStack:U!==null?U:""})}),m}function n0(a,c,m){var x=a.pingCache;if(x===null){x=a.pingCache=new IL;var E=new Set;x.set(c,E)}else E=x.get(c),E===void 0&&(E=new Set,x.set(c,E));E.has(m)||(E.add(m),a=$L.bind(null,a,c,m),c.then(a,a))}function i0(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function r0(a,c,m,x,E){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(c=$s(-1,1),c.tag=2,Io(m,c,1))),m.lanes|=1),a):(a.flags|=65536,a.lanes=E,a)}var DL=F.ReactCurrentOwner,Di=!1;function Ei(a,c,m,x){c.child=a===null?Mx(c,null,m,x):Hl(c,a.child,m,x)}function s0(a,c,m,x,E){m=m.render;var P=c.ref;return jl(c,E),x=cg(a,c,m,x,P,E),m=hg(),a!==null&&!Di?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~E,qs(a,c,E)):(mn&&m&&$m(c),c.flags|=1,Ei(a,c,x,E),c.child)}function o0(a,c,m,x,E){if(a===null){var P=m.type;return typeof P=="function"&&!Hg(P)&&P.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(c.tag=15,c.type=P,a0(a,c,P,x,E)):(a=gf(m.type,null,x,c,c.mode,E),a.ref=c.ref,a.return=c,c.child=a)}if(P=a.child,(a.lanes&E)===0){var U=P.memoizedProps;if(m=m.compare,m=m!==null?m:as,m(U,x)&&a.ref===c.ref)return qs(a,c,E)}return c.flags|=1,a=Bo(P,x),a.ref=c.ref,a.return=c,c.child=a}function a0(a,c,m,x,E){if(a!==null){var P=a.memoizedProps;if(as(P,x)&&a.ref===c.ref)if(Di=!1,c.pendingProps=x=P,(a.lanes&E)!==0)(a.flags&131072)!==0&&(Di=!0);else return c.lanes=a.lanes,qs(a,c,E)}return xg(a,c,m,x,E)}function l0(a,c,m){var x=c.pendingProps,E=x.children,P=a!==null?a.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},sn($l,rr),rr|=m;else{if((m&1073741824)===0)return a=P!==null?P.baseLanes|m:m,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,sn($l,rr),rr|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=P!==null?P.baseLanes:m,sn($l,rr),rr|=x}else P!==null?(x=P.baseLanes|m,c.memoizedState=null):x=m,sn($l,rr),rr|=x;return Ei(a,c,E,m),c.child}function u0(a,c){var m=c.ref;(a===null&&m!==null||a!==null&&a.ref!==m)&&(c.flags|=512,c.flags|=2097152)}function xg(a,c,m,x,E){var P=Ii(m)?Ea:ai.current;return P=zl(c,P),jl(c,E),m=cg(a,c,m,x,P,E),x=hg(),a!==null&&!Di?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~E,qs(a,c,E)):(mn&&x&&$m(c),c.flags|=1,Ei(a,c,m,E),c.child)}function c0(a,c,m,x,E){if(Ii(m)){var P=!0;Ud(c)}else P=!1;if(jl(c,E),c.stateNode===null)sf(a,c),Jx(c,m,x),_g(c,m,x,E),x=!0;else if(a===null){var U=c.stateNode,Q=c.memoizedProps;U.props=Q;var ue=U.context,Ee=m.contextType;typeof Ee=="object"&&Ee!==null?Ee=br(Ee):(Ee=Ii(m)?Ea:ai.current,Ee=zl(c,Ee));var He=m.getDerivedStateFromProps,Ge=typeof He=="function"||typeof U.getSnapshotBeforeUpdate=="function";Ge||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Q!==x||ue!==Ee)&&Qx(c,U,x,Ee),Ro=!1;var Ue=c.memoizedState;U.state=Ue,Xd(c,x,U,E),ue=c.memoizedState,Q!==x||Ue!==ue||Ri.current||Ro?(typeof He=="function"&&(gg(c,m,He,x),ue=c.memoizedState),(Q=Ro||Kx(c,m,Q,x,Ue,ue,Ee))?(Ge||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(c.flags|=4194308)):(typeof U.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=ue),U.props=x,U.state=ue,U.context=Ee,x=Q):(typeof U.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{U=c.stateNode,Tx(a,c),Q=c.memoizedProps,Ee=c.type===c.elementType?Q:jr(c.type,Q),U.props=Ee,Ge=c.pendingProps,Ue=U.context,ue=m.contextType,typeof ue=="object"&&ue!==null?ue=br(ue):(ue=Ii(m)?Ea:ai.current,ue=zl(c,ue));var nt=m.getDerivedStateFromProps;(He=typeof nt=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Q!==Ge||Ue!==ue)&&Qx(c,U,x,ue),Ro=!1,Ue=c.memoizedState,U.state=Ue,Xd(c,x,U,E);var ot=c.memoizedState;Q!==Ge||Ue!==ot||Ri.current||Ro?(typeof nt=="function"&&(gg(c,m,nt,x),ot=c.memoizedState),(Ee=Ro||Kx(c,m,Ee,x,Ue,ot,ue)||!1)?(He||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(x,ot,ue),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(x,ot,ue)),typeof U.componentDidUpdate=="function"&&(c.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof U.componentDidUpdate!="function"||Q===a.memoizedProps&&Ue===a.memoizedState||(c.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Q===a.memoizedProps&&Ue===a.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=ot),U.props=x,U.state=ot,U.context=ue,x=Ee):(typeof U.componentDidUpdate!="function"||Q===a.memoizedProps&&Ue===a.memoizedState||(c.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Q===a.memoizedProps&&Ue===a.memoizedState||(c.flags|=1024),x=!1)}return wg(a,c,m,x,P,E)}function wg(a,c,m,x,E,P){u0(a,c);var U=(c.flags&128)!==0;if(!x&&!U)return E&&mx(c,m,!1),qs(a,c,P);x=c.stateNode,DL.current=c;var Q=U&&typeof m.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,a!==null&&U?(c.child=Hl(c,a.child,null,P),c.child=Hl(c,null,Q,P)):Ei(a,c,Q,P),c.memoizedState=x.state,E&&mx(c,m,!0),c.child}function h0(a){var c=a.stateNode;c.pendingContext?fx(a,c.pendingContext,c.pendingContext!==c.context):c.context&&fx(a,c.context,!1),rg(a,c.containerInfo)}function d0(a,c,m,x,E){return Ul(),Km(E),c.flags|=256,Ei(a,c,m,x),c.child}var bg={dehydrated:null,treeContext:null,retryLane:0};function Sg(a){return{baseLanes:a,cachePool:null,transitions:null}}function f0(a,c,m){var x=c.pendingProps,E=vn.current,P=!1,U=(c.flags&128)!==0,Q;if((Q=U)||(Q=a!==null&&a.memoizedState===null?!1:(E&2)!==0),Q?(P=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(E|=1),sn(vn,E&1),a===null)return Ym(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(U=x.children,a=x.fallback,P?(x=c.mode,P=c.child,U={mode:"hidden",children:U},(x&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=U):P=_f(U,x,0,null),a=Na(a,x,m,null),P.return=c,a.return=c,P.sibling=a,c.child=P,c.child.memoizedState=Sg(m),c.memoizedState=bg,a):Mg(c,U));if(E=a.memoizedState,E!==null&&(Q=E.dehydrated,Q!==null))return NL(a,c,U,x,Q,E,m);if(P){P=x.fallback,U=c.mode,E=a.child,Q=E.sibling;var ue={mode:"hidden",children:x.children};return(U&1)===0&&c.child!==E?(x=c.child,x.childLanes=0,x.pendingProps=ue,c.deletions=null):(x=Bo(E,ue),x.subtreeFlags=E.subtreeFlags&14680064),Q!==null?P=Bo(Q,P):(P=Na(P,U,m,null),P.flags|=2),P.return=c,x.return=c,x.sibling=P,c.child=x,x=P,P=c.child,U=a.child.memoizedState,U=U===null?Sg(m):{baseLanes:U.baseLanes|m,cachePool:null,transitions:U.transitions},P.memoizedState=U,P.childLanes=a.childLanes&~m,c.memoizedState=bg,x}return P=a.child,a=P.sibling,x=Bo(P,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=m),x.return=c,x.sibling=null,a!==null&&(m=c.deletions,m===null?(c.deletions=[a],c.flags|=16):m.push(a)),c.child=x,c.memoizedState=null,x}function Mg(a,c){return c=_f({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function rf(a,c,m,x){return x!==null&&Km(x),Hl(c,a.child,null,m),a=Mg(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function NL(a,c,m,x,E,P,U){if(m)return c.flags&256?(c.flags&=-257,x=yg(Error(t(422))),rf(a,c,U,x)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(P=x.fallback,E=c.mode,x=_f({mode:"visible",children:x.children},E,0,null),P=Na(P,E,U,null),P.flags|=2,x.return=c,P.return=c,x.sibling=P,c.child=x,(c.mode&1)!==0&&Hl(c,a.child,null,U),c.child.memoizedState=Sg(U),c.memoizedState=bg,P);if((c.mode&1)===0)return rf(a,c,U,null);if(E.data==="$!"){if(x=E.nextSibling&&E.nextSibling.dataset,x)var Q=x.dgst;return x=Q,P=Error(t(419)),x=yg(P,x,void 0),rf(a,c,U,x)}if(Q=(U&a.childLanes)!==0,Di||Q){if(x=Vn,x!==null){switch(U&-U){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(x.suspendedLanes|U))!==0?0:E,E!==0&&E!==P.retryLane&&(P.retryLane=E,Zs(a,E),Zr(x,a,E,-1))}return Ug(),x=yg(Error(t(421))),rf(a,c,U,x)}return E.data==="$?"?(c.flags|=128,c.child=a.child,c=qL.bind(null,a),E._reactRetry=c,null):(a=P.treeContext,ir=cs(E.nextSibling),nr=c,mn=!0,Vr=null,a!==null&&(xr[wr++]=Ws,xr[wr++]=Gs,xr[wr++]=Ta,Ws=a.id,Gs=a.overflow,Ta=c),c=Mg(c,x.children),c.flags|=4096,c)}function p0(a,c,m){a.lanes|=c;var x=a.alternate;x!==null&&(x.lanes|=c),tg(a.return,c,m)}function Eg(a,c,m,x,E){var P=a.memoizedState;P===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:E}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=x,P.tail=m,P.tailMode=E)}function m0(a,c,m){var x=c.pendingProps,E=x.revealOrder,P=x.tail;if(Ei(a,c,x.children,m),x=vn.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&p0(a,m,c);else if(a.tag===19)p0(a,m,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}x&=1}if(sn(vn,x),(c.mode&1)===0)c.memoizedState=null;else switch(E){case"forwards":for(m=c.child,E=null;m!==null;)a=m.alternate,a!==null&&Yd(a)===null&&(E=m),m=m.sibling;m=E,m===null?(E=c.child,c.child=null):(E=m.sibling,m.sibling=null),Eg(c,!1,E,m,P);break;case"backwards":for(m=null,E=c.child,c.child=null;E!==null;){if(a=E.alternate,a!==null&&Yd(a)===null){c.child=E;break}a=E.sibling,E.sibling=m,m=E,E=a}Eg(c,!0,m,null,P);break;case"together":Eg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function sf(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function qs(a,c,m){if(a!==null&&(c.dependencies=a.dependencies),ka|=c.lanes,(m&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(t(153));if(c.child!==null){for(a=c.child,m=Bo(a,a.pendingProps),c.child=m,m.return=c;a.sibling!==null;)a=a.sibling,m=m.sibling=Bo(a,a.pendingProps),m.return=c;m.sibling=null}return c.child}function OL(a,c,m){switch(c.tag){case 3:h0(c),Ul();break;case 5:Px(c);break;case 1:Ii(c.type)&&Ud(c);break;case 4:rg(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,E=c.memoizedProps.value;sn(Zd,x._currentValue),x._currentValue=E;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(sn(vn,vn.current&1),c.flags|=128,null):(m&c.child.childLanes)!==0?f0(a,c,m):(sn(vn,vn.current&1),a=qs(a,c,m),a!==null?a.sibling:null);sn(vn,vn.current&1);break;case 19:if(x=(m&c.childLanes)!==0,(a.flags&128)!==0){if(x)return m0(a,c,m);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),sn(vn,vn.current),x)break;return null;case 22:case 23:return c.lanes=0,l0(a,c,m)}return qs(a,c,m)}var g0,Tg,_0,y0;g0=function(a,c){for(var m=c.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Tg=function(){},_0=function(a,c,m,x){var E=a.memoizedProps;if(E!==x){a=c.stateNode,Pa(hs.current);var P=null;switch(m){case"input":E=De(a,E),x=De(a,x),P=[];break;case"select":E=I({},E,{value:void 0}),x=I({},x,{value:void 0}),P=[];break;case"textarea":E=Ke(a,E),x=Ke(a,x),P=[];break;default:typeof E.onClick!="function"&&typeof x.onClick=="function"&&(a.onclick=Oe)}le(m,x);var U;m=null;for(Ee in E)if(!x.hasOwnProperty(Ee)&&E.hasOwnProperty(Ee)&&E[Ee]!=null)if(Ee==="style"){var Q=E[Ee];for(U in Q)Q.hasOwnProperty(U)&&(m||(m={}),m[U]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(r.hasOwnProperty(Ee)?P||(P=[]):(P=P||[]).push(Ee,null));for(Ee in x){var ue=x[Ee];if(Q=E?.[Ee],x.hasOwnProperty(Ee)&&ue!==Q&&(ue!=null||Q!=null))if(Ee==="style")if(Q){for(U in Q)!Q.hasOwnProperty(U)||ue&&ue.hasOwnProperty(U)||(m||(m={}),m[U]="");for(U in ue)ue.hasOwnProperty(U)&&Q[U]!==ue[U]&&(m||(m={}),m[U]=ue[U])}else m||(P||(P=[]),P.push(Ee,m)),m=ue;else Ee==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,Q=Q?Q.__html:void 0,ue!=null&&Q!==ue&&(P=P||[]).push(Ee,ue)):Ee==="children"?typeof ue!="string"&&typeof ue!="number"||(P=P||[]).push(Ee,""+ue):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(r.hasOwnProperty(Ee)?(ue!=null&&Ee==="onScroll"&&Kt("scroll",a),P||Q===ue||(P=[])):(P=P||[]).push(Ee,ue))}m&&(P=P||[]).push("style",m);var Ee=P;(c.updateQueue=Ee)&&(c.flags|=4)}},y0=function(a,c,m,x){m!==x&&(c.flags|=4)};function jc(a,c){if(!mn)switch(a.tailMode){case"hidden":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?a.tail=null:m.sibling=null;break;case"collapsed":m=a.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:x.sibling=null}}function ui(a){var c=a.alternate!==null&&a.alternate.child===a.child,m=0,x=0;if(c)for(var E=a.child;E!==null;)m|=E.lanes|E.childLanes,x|=E.subtreeFlags&14680064,x|=E.flags&14680064,E.return=a,E=E.sibling;else for(E=a.child;E!==null;)m|=E.lanes|E.childLanes,x|=E.subtreeFlags,x|=E.flags,E.return=a,E=E.sibling;return a.subtreeFlags|=x,a.childLanes=m,c}function zL(a,c,m){var x=c.pendingProps;switch(qm(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ui(c),null;case 1:return Ii(c.type)&&Bd(),ui(c),null;case 3:return x=c.stateNode,Wl(),hn(Ri),hn(ai),ag(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(a===null||a.child===null)&&(Wd(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Vr!==null&&(zg(Vr),Vr=null))),Tg(a,c),ui(c),null;case 5:sg(c);var E=Pa(Fc.current);if(m=c.type,a!==null&&c.stateNode!=null)_0(a,c,m,x,E),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(t(166));return ui(c),null}if(a=Pa(hs.current),Wd(c)){x=c.stateNode,m=c.type;var P=c.memoizedProps;switch(x[vr]=c,x[Lo]=P,a=(c.mode&1)!==0,m){case"dialog":Kt("cancel",x),Kt("close",x);break;case"iframe":case"object":case"embed":Kt("load",x);break;case"video":case"audio":for(E=0;E<Mo.length;E++)Kt(Mo[E],x);break;case"source":Kt("error",x);break;case"img":case"image":case"link":Kt("error",x),Kt("load",x);break;case"details":Kt("toggle",x);break;case"input":We(x,P),Kt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!P.multiple},Kt("invalid",x);break;case"textarea":rt(x,P),Kt("invalid",x)}le(m,P),E=null;for(var U in P)if(P.hasOwnProperty(U)){var Q=P[U];U==="children"?typeof Q=="string"?x.textContent!==Q&&(P.suppressHydrationWarning!==!0&&Me(x.textContent,Q,a),E=["children",Q]):typeof Q=="number"&&x.textContent!==""+Q&&(P.suppressHydrationWarning!==!0&&Me(x.textContent,Q,a),E=["children",""+Q]):r.hasOwnProperty(U)&&Q!=null&&U==="onScroll"&&Kt("scroll",x)}switch(m){case"input":je(x),Z(x,P,!0);break;case"textarea":je(x),st(x);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(x.onclick=Oe)}x=E,c.updateQueue=x,x!==null&&(c.flags|=4)}else{U=E.nodeType===9?E:E.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=he(m)),a==="http://www.w3.org/1999/xhtml"?m==="script"?(a=U.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof x.is=="string"?a=U.createElement(m,{is:x.is}):(a=U.createElement(m),m==="select"&&(U=a,x.multiple?U.multiple=!0:x.size&&(U.size=x.size))):a=U.createElementNS(a,m),a[vr]=c,a[Lo]=x,g0(a,c,!1,!1),c.stateNode=a;e:{switch(U=Be(m,x),m){case"dialog":Kt("cancel",a),Kt("close",a),E=x;break;case"iframe":case"object":case"embed":Kt("load",a),E=x;break;case"video":case"audio":for(E=0;E<Mo.length;E++)Kt(Mo[E],a);E=x;break;case"source":Kt("error",a),E=x;break;case"img":case"image":case"link":Kt("error",a),Kt("load",a),E=x;break;case"details":Kt("toggle",a),E=x;break;case"input":We(a,x),E=De(a,x),Kt("invalid",a);break;case"option":E=x;break;case"select":a._wrapperState={wasMultiple:!!x.multiple},E=I({},x,{value:void 0}),Kt("invalid",a);break;case"textarea":rt(a,x),E=Ke(a,x),Kt("invalid",a);break;default:E=x}le(m,E),Q=E;for(P in Q)if(Q.hasOwnProperty(P)){var ue=Q[P];P==="style"?Ot(a,ue):P==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ue!=null&&Se(a,ue)):P==="children"?typeof ue=="string"?(m!=="textarea"||ue!=="")&&Fe(a,ue):typeof ue=="number"&&Fe(a,""+ue):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(r.hasOwnProperty(P)?ue!=null&&P==="onScroll"&&Kt("scroll",a):ue!=null&&k(a,P,ue,U))}switch(m){case"input":je(a),Z(a,x,!1);break;case"textarea":je(a),st(a);break;case"option":x.value!=null&&a.setAttribute("value",""+Pe(x.value));break;case"select":a.multiple=!!x.multiple,P=x.value,P!=null?Ze(a,!!x.multiple,P,!1):x.defaultValue!=null&&Ze(a,!!x.multiple,x.defaultValue,!0);break;default:typeof E.onClick=="function"&&(a.onclick=Oe)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return ui(c),null;case 6:if(a&&c.stateNode!=null)y0(a,c,a.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(t(166));if(m=Pa(Fc.current),Pa(hs.current),Wd(c)){if(x=c.stateNode,m=c.memoizedProps,x[vr]=c,(P=x.nodeValue!==m)&&(a=nr,a!==null))switch(a.tag){case 3:Me(x.nodeValue,m,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Me(x.nodeValue,m,(a.mode&1)!==0)}P&&(c.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[vr]=c,c.stateNode=x}return ui(c),null;case 13:if(hn(vn),x=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(mn&&ir!==null&&(c.mode&1)!==0&&(c.flags&128)===0)wx(),Ul(),c.flags|=98560,P=!1;else if(P=Wd(c),x!==null&&x.dehydrated!==null){if(a===null){if(!P)throw Error(t(318));if(P=c.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(t(317));P[vr]=c}else Ul(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ui(c),P=!1}else Vr!==null&&(zg(Vr),Vr=null),P=!0;if(!P)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=m,c):(x=x!==null,x!==(a!==null&&a.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(vn.current&1)!==0?On===0&&(On=3):Ug())),c.updateQueue!==null&&(c.flags|=4),ui(c),null);case 4:return Wl(),Tg(a,c),a===null&&Eo(c.stateNode.containerInfo),ui(c),null;case 10:return eg(c.type._context),ui(c),null;case 17:return Ii(c.type)&&Bd(),ui(c),null;case 19:if(hn(vn),P=c.memoizedState,P===null)return ui(c),null;if(x=(c.flags&128)!==0,U=P.rendering,U===null)if(x)jc(P,!1);else{if(On!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(U=Yd(a),U!==null){for(c.flags|=128,jc(P,!1),x=U.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=m,m=c.child;m!==null;)P=m,a=x,P.flags&=14680066,U=P.alternate,U===null?(P.childLanes=0,P.lanes=a,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=U.childLanes,P.lanes=U.lanes,P.child=U.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=U.memoizedProps,P.memoizedState=U.memoizedState,P.updateQueue=U.updateQueue,P.type=U.type,a=U.dependencies,P.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),m=m.sibling;return sn(vn,vn.current&1|2),c.child}a=a.sibling}P.tail!==null&&Vt()>ql&&(c.flags|=128,x=!0,jc(P,!1),c.lanes=4194304)}else{if(!x)if(a=Yd(U),a!==null){if(c.flags|=128,x=!0,m=a.updateQueue,m!==null&&(c.updateQueue=m,c.flags|=4),jc(P,!0),P.tail===null&&P.tailMode==="hidden"&&!U.alternate&&!mn)return ui(c),null}else 2*Vt()-P.renderingStartTime>ql&&m!==1073741824&&(c.flags|=128,x=!0,jc(P,!1),c.lanes=4194304);P.isBackwards?(U.sibling=c.child,c.child=U):(m=P.last,m!==null?m.sibling=U:c.child=U,P.last=U)}return P.tail!==null?(c=P.tail,P.rendering=c,P.tail=c.sibling,P.renderingStartTime=Vt(),c.sibling=null,m=vn.current,sn(vn,x?m&1|2:m&1),c):(ui(c),null);case 22:case 23:return Bg(),x=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(rr&1073741824)!==0&&(ui(c),c.subtreeFlags&6&&(c.flags|=8192)):ui(c),null;case 24:return null;case 25:return null}throw Error(t(156,c.tag))}function FL(a,c){switch(qm(c),c.tag){case 1:return Ii(c.type)&&Bd(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Wl(),hn(Ri),hn(ai),ag(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return sg(c),null;case 13:if(hn(vn),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(t(340));Ul()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return hn(vn),null;case 4:return Wl(),null;case 10:return eg(c.type._context),null;case 22:case 23:return Bg(),null;case 24:return null;default:return null}}var of=!1,ci=!1,BL=typeof WeakSet=="function"?WeakSet:Set,it=null;function Zl(a,c){var m=a.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){En(a,c,x)}else m.current=null}function Lg(a,c,m){try{m()}catch(x){En(a,c,x)}}var v0=!1;function UL(a,c){if(et=_a,a=Tc(),Lc(a)){if("selectionStart"in a)var m={start:a.selectionStart,end:a.selectionEnd};else e:{m=(m=a.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var E=x.anchorOffset,P=x.focusNode;x=x.focusOffset;try{m.nodeType,P.nodeType}catch{m=null;break e}var U=0,Q=-1,ue=-1,Ee=0,He=0,Ge=a,Ue=null;t:for(;;){for(var nt;Ge!==m||E!==0&&Ge.nodeType!==3||(Q=U+E),Ge!==P||x!==0&&Ge.nodeType!==3||(ue=U+x),Ge.nodeType===3&&(U+=Ge.nodeValue.length),(nt=Ge.firstChild)!==null;)Ue=Ge,Ge=nt;for(;;){if(Ge===a)break t;if(Ue===m&&++Ee===E&&(Q=U),Ue===P&&++He===x&&(ue=U),(nt=Ge.nextSibling)!==null)break;Ge=Ue,Ue=Ge.parentNode}Ge=nt}m=Q===-1||ue===-1?null:{start:Q,end:ue}}else m=null}m=m||{start:0,end:0}}else m=null;for(ft={focusedElem:a,selectionRange:m},_a=!1,it=c;it!==null;)if(c=it,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,it=a;else for(;it!==null;){c=it;try{var ot=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var at=ot.memoizedProps,Ln=ot.memoizedState,ye=c.stateNode,pe=ye.getSnapshotBeforeUpdate(c.elementType===c.type?at:jr(c.type,at),Ln);ye.__reactInternalSnapshotBeforeUpdate=pe}break;case 3:var xe=c.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ye){En(c,c.return,Ye)}if(a=c.sibling,a!==null){a.return=c.return,it=a;break}it=c.return}return ot=v0,v0=!1,ot}function Wc(a,c,m){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var E=x=x.next;do{if((E.tag&a)===a){var P=E.destroy;E.destroy=void 0,P!==void 0&&Lg(c,m,P)}E=E.next}while(E!==x)}}function af(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&a)===a){var x=m.create;m.destroy=x()}m=m.next}while(m!==c)}}function Cg(a){var c=a.ref;if(c!==null){var m=a.stateNode;switch(a.tag){case 5:a=m;break;default:a=m}typeof c=="function"?c(a):c.current=a}}function x0(a){var c=a.alternate;c!==null&&(a.alternate=null,x0(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[vr],delete c[Lo],delete c[Co],delete c[jm],delete c[Wm])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function w0(a){return a.tag===5||a.tag===3||a.tag===4}function b0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||w0(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Pg(a,c,m){var x=a.tag;if(x===5||x===6)a=a.stateNode,c?m.nodeType===8?m.parentNode.insertBefore(a,c):m.insertBefore(a,c):(m.nodeType===8?(c=m.parentNode,c.insertBefore(a,m)):(c=m,c.appendChild(a)),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=Oe));else if(x!==4&&(a=a.child,a!==null))for(Pg(a,c,m),a=a.sibling;a!==null;)Pg(a,c,m),a=a.sibling}function Ag(a,c,m){var x=a.tag;if(x===5||x===6)a=a.stateNode,c?m.insertBefore(a,c):m.appendChild(a);else if(x!==4&&(a=a.child,a!==null))for(Ag(a,c,m),a=a.sibling;a!==null;)Ag(a,c,m),a=a.sibling}var Kn=null,Wr=!1;function Do(a,c,m){for(m=m.child;m!==null;)S0(a,c,m),m=m.sibling}function S0(a,c,m){if(qi&&typeof qi.onCommitFiberUnmount=="function")try{qi.onCommitFiberUnmount(ha,m)}catch{}switch(m.tag){case 5:ci||Zl(m,c);case 6:var x=Kn,E=Wr;Kn=null,Do(a,c,m),Kn=x,Wr=E,Kn!==null&&(Wr?(a=Kn,m=m.stateNode,a.nodeType===8?a.parentNode.removeChild(m):a.removeChild(m)):Kn.removeChild(m.stateNode));break;case 18:Kn!==null&&(Wr?(a=Kn,m=m.stateNode,a.nodeType===8?Dc(a.parentNode,m):a.nodeType===1&&Dc(a,m),Ki(a)):Dc(Kn,m.stateNode));break;case 4:x=Kn,E=Wr,Kn=m.stateNode.containerInfo,Wr=!0,Do(a,c,m),Kn=x,Wr=E;break;case 0:case 11:case 14:case 15:if(!ci&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){E=x=x.next;do{var P=E,U=P.destroy;P=P.tag,U!==void 0&&((P&2)!==0||(P&4)!==0)&&Lg(m,c,U),E=E.next}while(E!==x)}Do(a,c,m);break;case 1:if(!ci&&(Zl(m,c),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(Q){En(m,c,Q)}Do(a,c,m);break;case 21:Do(a,c,m);break;case 22:m.mode&1?(ci=(x=ci)||m.memoizedState!==null,Do(a,c,m),ci=x):Do(a,c,m);break;default:Do(a,c,m)}}function M0(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var m=a.stateNode;m===null&&(m=a.stateNode=new BL),c.forEach(function(x){var E=XL.bind(null,a,x);m.has(x)||(m.add(x),x.then(E,E))})}}function Gr(a,c){var m=c.deletions;if(m!==null)for(var x=0;x<m.length;x++){var E=m[x];try{var P=a,U=c,Q=U;e:for(;Q!==null;){switch(Q.tag){case 5:Kn=Q.stateNode,Wr=!1;break e;case 3:Kn=Q.stateNode.containerInfo,Wr=!0;break e;case 4:Kn=Q.stateNode.containerInfo,Wr=!0;break e}Q=Q.return}if(Kn===null)throw Error(t(160));S0(P,U,E),Kn=null,Wr=!1;var ue=E.alternate;ue!==null&&(ue.return=null),E.return=null}catch(Ee){En(E,c,Ee)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)E0(c,a),c=c.sibling}function E0(a,c){var m=a.alternate,x=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Gr(c,a),fs(a),x&4){try{Wc(3,a,a.return),af(3,a)}catch(at){En(a,a.return,at)}try{Wc(5,a,a.return)}catch(at){En(a,a.return,at)}}break;case 1:Gr(c,a),fs(a),x&512&&m!==null&&Zl(m,m.return);break;case 5:if(Gr(c,a),fs(a),x&512&&m!==null&&Zl(m,m.return),a.flags&32){var E=a.stateNode;try{Fe(E,"")}catch(at){En(a,a.return,at)}}if(x&4&&(E=a.stateNode,E!=null)){var P=a.memoizedProps,U=m!==null?m.memoizedProps:P,Q=a.type,ue=a.updateQueue;if(a.updateQueue=null,ue!==null)try{Q==="input"&&P.type==="radio"&&P.name!=null&&Ie(E,P),Be(Q,U);var Ee=Be(Q,P);for(U=0;U<ue.length;U+=2){var He=ue[U],Ge=ue[U+1];He==="style"?Ot(E,Ge):He==="dangerouslySetInnerHTML"?Se(E,Ge):He==="children"?Fe(E,Ge):k(E,He,Ge,Ee)}switch(Q){case"input":X(E,P);break;case"textarea":Je(E,P);break;case"select":var Ue=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!P.multiple;var nt=P.value;nt!=null?Ze(E,!!P.multiple,nt,!1):Ue!==!!P.multiple&&(P.defaultValue!=null?Ze(E,!!P.multiple,P.defaultValue,!0):Ze(E,!!P.multiple,P.multiple?[]:"",!1))}E[Lo]=P}catch(at){En(a,a.return,at)}}break;case 6:if(Gr(c,a),fs(a),x&4){if(a.stateNode===null)throw Error(t(162));E=a.stateNode,P=a.memoizedProps;try{E.nodeValue=P}catch(at){En(a,a.return,at)}}break;case 3:if(Gr(c,a),fs(a),x&4&&m!==null&&m.memoizedState.isDehydrated)try{Ki(c.containerInfo)}catch(at){En(a,a.return,at)}break;case 4:Gr(c,a),fs(a);break;case 13:Gr(c,a),fs(a),E=a.child,E.flags&8192&&(P=E.memoizedState!==null,E.stateNode.isHidden=P,!P||E.alternate!==null&&E.alternate.memoizedState!==null||(Ig=Vt())),x&4&&M0(a);break;case 22:if(He=m!==null&&m.memoizedState!==null,a.mode&1?(ci=(Ee=ci)||He,Gr(c,a),ci=Ee):Gr(c,a),fs(a),x&8192){if(Ee=a.memoizedState!==null,(a.stateNode.isHidden=Ee)&&!He&&(a.mode&1)!==0)for(it=a,He=a.child;He!==null;){for(Ge=it=He;it!==null;){switch(Ue=it,nt=Ue.child,Ue.tag){case 0:case 11:case 14:case 15:Wc(4,Ue,Ue.return);break;case 1:Zl(Ue,Ue.return);var ot=Ue.stateNode;if(typeof ot.componentWillUnmount=="function"){x=Ue,m=Ue.return;try{c=x,ot.props=c.memoizedProps,ot.state=c.memoizedState,ot.componentWillUnmount()}catch(at){En(x,m,at)}}break;case 5:Zl(Ue,Ue.return);break;case 22:if(Ue.memoizedState!==null){C0(Ge);continue}}nt!==null?(nt.return=Ue,it=nt):C0(Ge)}He=He.sibling}e:for(He=null,Ge=a;;){if(Ge.tag===5){if(He===null){He=Ge;try{E=Ge.stateNode,Ee?(P=E.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(Q=Ge.stateNode,ue=Ge.memoizedProps.style,U=ue!=null&&ue.hasOwnProperty("display")?ue.display:null,Q.style.display=At("display",U))}catch(at){En(a,a.return,at)}}}else if(Ge.tag===6){if(He===null)try{Ge.stateNode.nodeValue=Ee?"":Ge.memoizedProps}catch(at){En(a,a.return,at)}}else if((Ge.tag!==22&&Ge.tag!==23||Ge.memoizedState===null||Ge===a)&&Ge.child!==null){Ge.child.return=Ge,Ge=Ge.child;continue}if(Ge===a)break e;for(;Ge.sibling===null;){if(Ge.return===null||Ge.return===a)break e;He===Ge&&(He=null),Ge=Ge.return}He===Ge&&(He=null),Ge.sibling.return=Ge.return,Ge=Ge.sibling}}break;case 19:Gr(c,a),fs(a),x&4&&M0(a);break;case 21:break;default:Gr(c,a),fs(a)}}function fs(a){var c=a.flags;if(c&2){try{e:{for(var m=a.return;m!==null;){if(w0(m)){var x=m;break e}m=m.return}throw Error(t(160))}switch(x.tag){case 5:var E=x.stateNode;x.flags&32&&(Fe(E,""),x.flags&=-33);var P=b0(a);Ag(a,P,E);break;case 3:case 4:var U=x.stateNode.containerInfo,Q=b0(a);Pg(a,Q,U);break;default:throw Error(t(161))}}catch(ue){En(a,a.return,ue)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function HL(a,c,m){it=a,T0(a)}function T0(a,c,m){for(var x=(a.mode&1)!==0;it!==null;){var E=it,P=E.child;if(E.tag===22&&x){var U=E.memoizedState!==null||of;if(!U){var Q=E.alternate,ue=Q!==null&&Q.memoizedState!==null||ci;Q=of;var Ee=ci;if(of=U,(ci=ue)&&!Ee)for(it=E;it!==null;)U=it,ue=U.child,U.tag===22&&U.memoizedState!==null?P0(E):ue!==null?(ue.return=U,it=ue):P0(E);for(;P!==null;)it=P,T0(P),P=P.sibling;it=E,of=Q,ci=Ee}L0(a)}else(E.subtreeFlags&8772)!==0&&P!==null?(P.return=E,it=P):L0(a)}}function L0(a){for(;it!==null;){var c=it;if((c.flags&8772)!==0){var m=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:ci||af(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!ci)if(m===null)x.componentDidMount();else{var E=c.elementType===c.type?m.memoizedProps:jr(c.type,m.memoizedProps);x.componentDidUpdate(E,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var P=c.updateQueue;P!==null&&Cx(c,P,x);break;case 3:var U=c.updateQueue;if(U!==null){if(m=null,c.child!==null)switch(c.child.tag){case 5:m=c.child.stateNode;break;case 1:m=c.child.stateNode}Cx(c,U,m)}break;case 5:var Q=c.stateNode;if(m===null&&c.flags&4){m=Q;var ue=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":ue.autoFocus&&m.focus();break;case"img":ue.src&&(m.src=ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Ee=c.alternate;if(Ee!==null){var He=Ee.memoizedState;if(He!==null){var Ge=He.dehydrated;Ge!==null&&Ki(Ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ci||c.flags&512&&Cg(c)}catch(Ue){En(c,c.return,Ue)}}if(c===a){it=null;break}if(m=c.sibling,m!==null){m.return=c.return,it=m;break}it=c.return}}function C0(a){for(;it!==null;){var c=it;if(c===a){it=null;break}var m=c.sibling;if(m!==null){m.return=c.return,it=m;break}it=c.return}}function P0(a){for(;it!==null;){var c=it;try{switch(c.tag){case 0:case 11:case 15:var m=c.return;try{af(4,c)}catch(ue){En(c,m,ue)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var E=c.return;try{x.componentDidMount()}catch(ue){En(c,E,ue)}}var P=c.return;try{Cg(c)}catch(ue){En(c,P,ue)}break;case 5:var U=c.return;try{Cg(c)}catch(ue){En(c,U,ue)}}}catch(ue){En(c,c.return,ue)}if(c===a){it=null;break}var Q=c.sibling;if(Q!==null){Q.return=c.return,it=Q;break}it=c.return}}var VL=Math.ceil,lf=F.ReactCurrentDispatcher,kg=F.ReactCurrentOwner,Mr=F.ReactCurrentBatchConfig,Ut=0,Vn=null,kn=null,Jn=0,rr=0,$l=Po(0),On=0,Gc=null,ka=0,uf=0,Rg=0,Zc=null,Ni=null,Ig=0,ql=1/0,Xs=null,cf=!1,Dg=null,No=null,hf=!1,Oo=null,df=0,$c=0,Ng=null,ff=-1,pf=0;function Ti(){return(Ut&6)!==0?Vt():ff!==-1?ff:ff=Vt()}function zo(a){return(a.mode&1)===0?1:(Ut&2)!==0&&Jn!==0?Jn&-Jn:EL.transition!==null?(pf===0&&(pf=gd()),pf):(a=Ft,a!==0||(a=window.event,a=a===void 0?16:Dt(a.type)),a)}function Zr(a,c,m,x){if(50<$c)throw $c=0,Ng=null,Error(t(185));Xi(a,m,x),((Ut&2)===0||a!==Vn)&&(a===Vn&&((Ut&2)===0&&(uf|=m),On===4&&Fo(a,Jn)),Oi(a,x),m===1&&Ut===0&&(c.mode&1)===0&&(ql=Vt()+500,Hd&&ko()))}function Oi(a,c){var m=a.callbackNode;pl(a,c);var x=rn(a,a===Vn?Jn:0);if(x===0)m!==null&&nn(m),a.callbackNode=null,a.callbackPriority=0;else if(c=x&-x,a.callbackPriority!==c){if(m!=null&&nn(m),c===1)a.tag===0?ML(k0.bind(null,a)):gx(k0.bind(null,a)),oi(function(){(Ut&6)===0&&ko()}),m=null;else{switch(ho(x)){case 1:m=fn;break;case 4:m=wi;break;case 16:m=pn;break;case 536870912:m=ao;break;default:m=pn}m=B0(m,A0.bind(null,a))}a.callbackPriority=c,a.callbackNode=m}}function A0(a,c){if(ff=-1,pf=0,(Ut&6)!==0)throw Error(t(327));var m=a.callbackNode;if(Xl()&&a.callbackNode!==m)return null;var x=rn(a,a===Vn?Jn:0);if(x===0)return null;if((x&30)!==0||(x&a.expiredLanes)!==0||c)c=mf(a,x);else{c=x;var E=Ut;Ut|=2;var P=I0();(Vn!==a||Jn!==c)&&(Xs=null,ql=Vt()+500,Ia(a,c));do try{GL();break}catch(Q){R0(a,Q)}while(!0);Qm(),lf.current=P,Ut=E,kn!==null?c=0:(Vn=null,Jn=0,c=On)}if(c!==0){if(c===2&&(E=ri(a),E!==0&&(x=E,c=Og(a,E))),c===1)throw m=Gc,Ia(a,0),Fo(a,x),Oi(a,Vt()),m;if(c===6)Fo(a,x);else{if(E=a.current.alternate,(x&30)===0&&!jL(E)&&(c=mf(a,x),c===2&&(P=ri(a),P!==0&&(x=P,c=Og(a,P))),c===1))throw m=Gc,Ia(a,0),Fo(a,x),Oi(a,Vt()),m;switch(a.finishedWork=E,a.finishedLanes=x,c){case 0:case 1:throw Error(t(345));case 2:Da(a,Ni,Xs);break;case 3:if(Fo(a,x),(x&130023424)===x&&(c=Ig+500-Vt(),10<c)){if(rn(a,0)!==0)break;if(E=a.suspendedLanes,(E&x)!==x){Ti(),a.pingedLanes|=a.suspendedLanes&E;break}a.timeoutHandle=Dn(Da.bind(null,a,Ni,Xs),c);break}Da(a,Ni,Xs);break;case 4:if(Fo(a,x),(x&4194240)===x)break;for(c=a.eventTimes,E=-1;0<x;){var U=31-Et(x);P=1<<U,U=c[U],U>E&&(E=U),x&=~P}if(x=E,x=Vt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*VL(x/1960))-x,10<x){a.timeoutHandle=Dn(Da.bind(null,a,Ni,Xs),x);break}Da(a,Ni,Xs);break;case 5:Da(a,Ni,Xs);break;default:throw Error(t(329))}}}return Oi(a,Vt()),a.callbackNode===m?A0.bind(null,a):null}function Og(a,c){var m=Zc;return a.current.memoizedState.isDehydrated&&(Ia(a,c).flags|=256),a=mf(a,c),a!==2&&(c=Ni,Ni=m,c!==null&&zg(c)),a}function zg(a){Ni===null?Ni=a:Ni.push.apply(Ni,a)}function jL(a){for(var c=a;;){if(c.flags&16384){var m=c.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var E=m[x],P=E.getSnapshot;E=E.value;try{if(!er(P(),E))return!1}catch{return!1}}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Fo(a,c){for(c&=~Rg,c&=~uf,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var m=31-Et(c),x=1<<m;a[m]=-1,c&=~x}}function k0(a){if((Ut&6)!==0)throw Error(t(327));Xl();var c=rn(a,0);if((c&1)===0)return Oi(a,Vt()),null;var m=mf(a,c);if(a.tag!==0&&m===2){var x=ri(a);x!==0&&(c=x,m=Og(a,x))}if(m===1)throw m=Gc,Ia(a,0),Fo(a,c),Oi(a,Vt()),m;if(m===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,Da(a,Ni,Xs),Oi(a,Vt()),null}function Fg(a,c){var m=Ut;Ut|=1;try{return a(c)}finally{Ut=m,Ut===0&&(ql=Vt()+500,Hd&&ko())}}function Ra(a){Oo!==null&&Oo.tag===0&&(Ut&6)===0&&Xl();var c=Ut;Ut|=1;var m=Mr.transition,x=Ft;try{if(Mr.transition=null,Ft=1,a)return a()}finally{Ft=x,Mr.transition=m,Ut=c,(Ut&6)===0&&ko()}}function Bg(){rr=$l.current,hn($l)}function Ia(a,c){a.finishedWork=null,a.finishedLanes=0;var m=a.timeoutHandle;if(m!==-1&&(a.timeoutHandle=-1,An(m)),kn!==null)for(m=kn.return;m!==null;){var x=m;switch(qm(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Bd();break;case 3:Wl(),hn(Ri),hn(ai),ag();break;case 5:sg(x);break;case 4:Wl();break;case 13:hn(vn);break;case 19:hn(vn);break;case 10:eg(x.type._context);break;case 22:case 23:Bg()}m=m.return}if(Vn=a,kn=a=Bo(a.current,null),Jn=rr=c,On=0,Gc=null,Rg=uf=ka=0,Ni=Zc=null,Ca!==null){for(c=0;c<Ca.length;c++)if(m=Ca[c],x=m.interleaved,x!==null){m.interleaved=null;var E=x.next,P=m.pending;if(P!==null){var U=P.next;P.next=E,x.next=U}m.pending=x}Ca=null}return a}function R0(a,c){do{var m=kn;try{if(Qm(),Kd.current=tf,Jd){for(var x=xn.memoizedState;x!==null;){var E=x.queue;E!==null&&(E.pending=null),x=x.next}Jd=!1}if(Aa=0,Hn=Nn=xn=null,Bc=!1,Uc=0,kg.current=null,m===null||m.return===null){On=1,Gc=c,kn=null;break}e:{var P=a,U=m.return,Q=m,ue=c;if(c=Jn,Q.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Ee=ue,He=Q,Ge=He.tag;if((He.mode&1)===0&&(Ge===0||Ge===11||Ge===15)){var Ue=He.alternate;Ue?(He.updateQueue=Ue.updateQueue,He.memoizedState=Ue.memoizedState,He.lanes=Ue.lanes):(He.updateQueue=null,He.memoizedState=null)}var nt=i0(U);if(nt!==null){nt.flags&=-257,r0(nt,U,Q,P,c),nt.mode&1&&n0(P,Ee,c),c=nt,ue=Ee;var ot=c.updateQueue;if(ot===null){var at=new Set;at.add(ue),c.updateQueue=at}else ot.add(ue);break e}else{if((c&1)===0){n0(P,Ee,c),Ug();break e}ue=Error(t(426))}}else if(mn&&Q.mode&1){var Ln=i0(U);if(Ln!==null){(Ln.flags&65536)===0&&(Ln.flags|=256),r0(Ln,U,Q,P,c),Km(Gl(ue,Q));break e}}P=ue=Gl(ue,Q),On!==4&&(On=2),Zc===null?Zc=[P]:Zc.push(P),P=U;do{switch(P.tag){case 3:P.flags|=65536,c&=-c,P.lanes|=c;var ye=e0(P,ue,c);Lx(P,ye);break e;case 1:Q=ue;var pe=P.type,xe=P.stateNode;if((P.flags&128)===0&&(typeof pe.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(No===null||!No.has(xe)))){P.flags|=65536,c&=-c,P.lanes|=c;var Ye=t0(P,Q,c);Lx(P,Ye);break e}}P=P.return}while(P!==null)}N0(m)}catch(ct){c=ct,kn===m&&m!==null&&(kn=m=m.return);continue}break}while(!0)}function I0(){var a=lf.current;return lf.current=tf,a===null?tf:a}function Ug(){(On===0||On===3||On===2)&&(On=4),Vn===null||(ka&268435455)===0&&(uf&268435455)===0||Fo(Vn,Jn)}function mf(a,c){var m=Ut;Ut|=2;var x=I0();(Vn!==a||Jn!==c)&&(Xs=null,Ia(a,c));do try{WL();break}catch(E){R0(a,E)}while(!0);if(Qm(),Ut=m,lf.current=x,kn!==null)throw Error(t(261));return Vn=null,Jn=0,On}function WL(){for(;kn!==null;)D0(kn)}function GL(){for(;kn!==null&&!dr();)D0(kn)}function D0(a){var c=F0(a.alternate,a,rr);a.memoizedProps=a.pendingProps,c===null?N0(a):kn=c,kg.current=null}function N0(a){var c=a;do{var m=c.alternate;if(a=c.return,(c.flags&32768)===0){if(m=zL(m,c,rr),m!==null){kn=m;return}}else{if(m=FL(m,c),m!==null){m.flags&=32767,kn=m;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{On=6,kn=null;return}}if(c=c.sibling,c!==null){kn=c;return}kn=c=a}while(c!==null);On===0&&(On=5)}function Da(a,c,m){var x=Ft,E=Mr.transition;try{Mr.transition=null,Ft=1,ZL(a,c,m,x)}finally{Mr.transition=E,Ft=x}return null}function ZL(a,c,m,x){do Xl();while(Oo!==null);if((Ut&6)!==0)throw Error(t(327));m=a.finishedWork;var E=a.finishedLanes;if(m===null)return null;if(a.finishedWork=null,a.finishedLanes=0,m===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var P=m.lanes|m.childLanes;if(Mn(a,P),a===Vn&&(kn=Vn=null,Jn=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||hf||(hf=!0,B0(pn,function(){return Xl(),null})),P=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||P){P=Mr.transition,Mr.transition=null;var U=Ft;Ft=1;var Q=Ut;Ut|=4,kg.current=null,UL(a,m),E0(m,a),_r(ft),_a=!!et,ft=et=null,a.current=m,HL(m),Un(),Ut=Q,Ft=U,Mr.transition=P}else a.current=m;if(hf&&(hf=!1,Oo=a,df=E),P=a.pendingLanes,P===0&&(No=null),da(m.stateNode),Oi(a,Vt()),c!==null)for(x=a.onRecoverableError,m=0;m<c.length;m++)E=c[m],x(E.value,{componentStack:E.stack,digest:E.digest});if(cf)throw cf=!1,a=Dg,Dg=null,a;return(df&1)!==0&&a.tag!==0&&Xl(),P=a.pendingLanes,(P&1)!==0?a===Ng?$c++:($c=0,Ng=a):$c=0,ko(),null}function Xl(){if(Oo!==null){var a=ho(df),c=Mr.transition,m=Ft;try{if(Mr.transition=null,Ft=16>a?16:a,Oo===null)var x=!1;else{if(a=Oo,Oo=null,df=0,(Ut&6)!==0)throw Error(t(331));var E=Ut;for(Ut|=4,it=a.current;it!==null;){var P=it,U=P.child;if((it.flags&16)!==0){var Q=P.deletions;if(Q!==null){for(var ue=0;ue<Q.length;ue++){var Ee=Q[ue];for(it=Ee;it!==null;){var He=it;switch(He.tag){case 0:case 11:case 15:Wc(8,He,P)}var Ge=He.child;if(Ge!==null)Ge.return=He,it=Ge;else for(;it!==null;){He=it;var Ue=He.sibling,nt=He.return;if(x0(He),He===Ee){it=null;break}if(Ue!==null){Ue.return=nt,it=Ue;break}it=nt}}}var ot=P.alternate;if(ot!==null){var at=ot.child;if(at!==null){ot.child=null;do{var Ln=at.sibling;at.sibling=null,at=Ln}while(at!==null)}}it=P}}if((P.subtreeFlags&2064)!==0&&U!==null)U.return=P,it=U;else e:for(;it!==null;){if(P=it,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:Wc(9,P,P.return)}var ye=P.sibling;if(ye!==null){ye.return=P.return,it=ye;break e}it=P.return}}var pe=a.current;for(it=pe;it!==null;){U=it;var xe=U.child;if((U.subtreeFlags&2064)!==0&&xe!==null)xe.return=U,it=xe;else e:for(U=pe;it!==null;){if(Q=it,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:af(9,Q)}}catch(ct){En(Q,Q.return,ct)}if(Q===U){it=null;break e}var Ye=Q.sibling;if(Ye!==null){Ye.return=Q.return,it=Ye;break e}it=Q.return}}if(Ut=E,ko(),qi&&typeof qi.onPostCommitFiberRoot=="function")try{qi.onPostCommitFiberRoot(ha,a)}catch{}x=!0}return x}finally{Ft=m,Mr.transition=c}}return!1}function O0(a,c,m){c=Gl(m,c),c=e0(a,c,1),a=Io(a,c,1),c=Ti(),a!==null&&(Xi(a,1,c),Oi(a,c))}function En(a,c,m){if(a.tag===3)O0(a,a,m);else for(;c!==null;){if(c.tag===3){O0(c,a,m);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(No===null||!No.has(x))){a=Gl(m,a),a=t0(c,a,1),c=Io(c,a,1),a=Ti(),c!==null&&(Xi(c,1,a),Oi(c,a));break}}c=c.return}}function $L(a,c,m){var x=a.pingCache;x!==null&&x.delete(c),c=Ti(),a.pingedLanes|=a.suspendedLanes&m,Vn===a&&(Jn&m)===m&&(On===4||On===3&&(Jn&130023424)===Jn&&500>Vt()-Ig?Ia(a,0):Rg|=m),Oi(a,c)}function z0(a,c){c===0&&((a.mode&1)===0?c=1:(c=uo,uo<<=1,(uo&130023424)===0&&(uo=4194304)));var m=Ti();a=Zs(a,c),a!==null&&(Xi(a,c,m),Oi(a,m))}function qL(a){var c=a.memoizedState,m=0;c!==null&&(m=c.retryLane),z0(a,m)}function XL(a,c){var m=0;switch(a.tag){case 13:var x=a.stateNode,E=a.memoizedState;E!==null&&(m=E.retryLane);break;case 19:x=a.stateNode;break;default:throw Error(t(314))}x!==null&&x.delete(c),z0(a,m)}var F0;F0=function(a,c,m){if(a!==null)if(a.memoizedProps!==c.pendingProps||Ri.current)Di=!0;else{if((a.lanes&m)===0&&(c.flags&128)===0)return Di=!1,OL(a,c,m);Di=(a.flags&131072)!==0}else Di=!1,mn&&(c.flags&1048576)!==0&&_x(c,jd,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;sf(a,c),a=c.pendingProps;var E=zl(c,ai.current);jl(c,m),E=cg(null,c,x,a,E,m);var P=hg();return c.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Ii(x)?(P=!0,Ud(c)):P=!1,c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,ig(c),E.updater=nf,c.stateNode=E,E._reactInternals=c,_g(c,x,a,m),c=wg(null,c,x,!0,P,m)):(c.tag=0,mn&&P&&$m(c),Ei(null,c,E,m),c=c.child),c;case 16:x=c.elementType;e:{switch(sf(a,c),a=c.pendingProps,E=x._init,x=E(x._payload),c.type=x,E=c.tag=KL(x),a=jr(x,a),E){case 0:c=xg(null,c,x,a,m);break e;case 1:c=c0(null,c,x,a,m);break e;case 11:c=s0(null,c,x,a,m);break e;case 14:c=o0(null,c,x,jr(x.type,a),m);break e}throw Error(t(306,x,""))}return c;case 0:return x=c.type,E=c.pendingProps,E=c.elementType===x?E:jr(x,E),xg(a,c,x,E,m);case 1:return x=c.type,E=c.pendingProps,E=c.elementType===x?E:jr(x,E),c0(a,c,x,E,m);case 3:e:{if(h0(c),a===null)throw Error(t(387));x=c.pendingProps,P=c.memoizedState,E=P.element,Tx(a,c),Xd(c,x,null,m);var U=c.memoizedState;if(x=U.element,P.isDehydrated)if(P={element:x,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},c.updateQueue.baseState=P,c.memoizedState=P,c.flags&256){E=Gl(Error(t(423)),c),c=d0(a,c,x,m,E);break e}else if(x!==E){E=Gl(Error(t(424)),c),c=d0(a,c,x,m,E);break e}else for(ir=cs(c.stateNode.containerInfo.firstChild),nr=c,mn=!0,Vr=null,m=Mx(c,null,x,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Ul(),x===E){c=qs(a,c,m);break e}Ei(a,c,x,m)}c=c.child}return c;case 5:return Px(c),a===null&&Ym(c),x=c.type,E=c.pendingProps,P=a!==null?a.memoizedProps:null,U=E.children,Tt(x,E)?U=null:P!==null&&Tt(x,P)&&(c.flags|=32),u0(a,c),Ei(a,c,U,m),c.child;case 6:return a===null&&Ym(c),null;case 13:return f0(a,c,m);case 4:return rg(c,c.stateNode.containerInfo),x=c.pendingProps,a===null?c.child=Hl(c,null,x,m):Ei(a,c,x,m),c.child;case 11:return x=c.type,E=c.pendingProps,E=c.elementType===x?E:jr(x,E),s0(a,c,x,E,m);case 7:return Ei(a,c,c.pendingProps,m),c.child;case 8:return Ei(a,c,c.pendingProps.children,m),c.child;case 12:return Ei(a,c,c.pendingProps.children,m),c.child;case 10:e:{if(x=c.type._context,E=c.pendingProps,P=c.memoizedProps,U=E.value,sn(Zd,x._currentValue),x._currentValue=U,P!==null)if(er(P.value,U)){if(P.children===E.children&&!Ri.current){c=qs(a,c,m);break e}}else for(P=c.child,P!==null&&(P.return=c);P!==null;){var Q=P.dependencies;if(Q!==null){U=P.child;for(var ue=Q.firstContext;ue!==null;){if(ue.context===x){if(P.tag===1){ue=$s(-1,m&-m),ue.tag=2;var Ee=P.updateQueue;if(Ee!==null){Ee=Ee.shared;var He=Ee.pending;He===null?ue.next=ue:(ue.next=He.next,He.next=ue),Ee.pending=ue}}P.lanes|=m,ue=P.alternate,ue!==null&&(ue.lanes|=m),tg(P.return,m,c),Q.lanes|=m;break}ue=ue.next}}else if(P.tag===10)U=P.type===c.type?null:P.child;else if(P.tag===18){if(U=P.return,U===null)throw Error(t(341));U.lanes|=m,Q=U.alternate,Q!==null&&(Q.lanes|=m),tg(U,m,c),U=P.sibling}else U=P.child;if(U!==null)U.return=P;else for(U=P;U!==null;){if(U===c){U=null;break}if(P=U.sibling,P!==null){P.return=U.return,U=P;break}U=U.return}P=U}Ei(a,c,E.children,m),c=c.child}return c;case 9:return E=c.type,x=c.pendingProps.children,jl(c,m),E=br(E),x=x(E),c.flags|=1,Ei(a,c,x,m),c.child;case 14:return x=c.type,E=jr(x,c.pendingProps),E=jr(x.type,E),o0(a,c,x,E,m);case 15:return a0(a,c,c.type,c.pendingProps,m);case 17:return x=c.type,E=c.pendingProps,E=c.elementType===x?E:jr(x,E),sf(a,c),c.tag=1,Ii(x)?(a=!0,Ud(c)):a=!1,jl(c,m),Jx(c,x,E),_g(c,x,E,m),wg(null,c,x,!0,a,m);case 19:return m0(a,c,m);case 22:return l0(a,c,m)}throw Error(t(156,c.tag))};function B0(a,c){return hr(a,c)}function YL(a,c,m,x){this.tag=a,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(a,c,m,x){return new YL(a,c,m,x)}function Hg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function KL(a){if(typeof a=="function")return Hg(a)?1:0;if(a!=null){if(a=a.$$typeof,a===J)return 11;if(a===oe)return 14}return 2}function Bo(a,c){var m=a.alternate;return m===null?(m=Er(a.tag,c,a.key,a.mode),m.elementType=a.elementType,m.type=a.type,m.stateNode=a.stateNode,m.alternate=a,a.alternate=m):(m.pendingProps=c,m.type=a.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=a.flags&14680064,m.childLanes=a.childLanes,m.lanes=a.lanes,m.child=a.child,m.memoizedProps=a.memoizedProps,m.memoizedState=a.memoizedState,m.updateQueue=a.updateQueue,c=a.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=a.sibling,m.index=a.index,m.ref=a.ref,m}function gf(a,c,m,x,E,P){var U=2;if(x=a,typeof a=="function")Hg(a)&&(U=1);else if(typeof a=="string")U=5;else e:switch(a){case N:return Na(m.children,E,P,c);case O:U=8,E|=8;break;case j:return a=Er(12,m,c,E|2),a.elementType=j,a.lanes=P,a;case Y:return a=Er(13,m,c,E),a.elementType=Y,a.lanes=P,a;case ee:return a=Er(19,m,c,E),a.elementType=ee,a.lanes=P,a;case ne:return _f(m,E,P,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case W:U=10;break e;case H:U=9;break e;case J:U=11;break e;case oe:U=14;break e;case ae:U=16,x=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return c=Er(U,m,c,E),c.elementType=a,c.type=x,c.lanes=P,c}function Na(a,c,m,x){return a=Er(7,a,x,c),a.lanes=m,a}function _f(a,c,m,x){return a=Er(22,a,x,c),a.elementType=ne,a.lanes=m,a.stateNode={isHidden:!1},a}function Vg(a,c,m){return a=Er(6,a,null,c),a.lanes=m,a}function jg(a,c,m){return c=Er(4,a.children!==null?a.children:[],a.key,c),c.lanes=m,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function JL(a,c,m,x,E){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=co(0),this.expirationTimes=co(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=co(0),this.identifierPrefix=x,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function Wg(a,c,m,x,E,P,U,Q,ue){return a=new JL(a,c,m,Q,ue),c===1?(c=1,P===!0&&(c|=8)):c=0,P=Er(3,null,null,c),a.current=P,P.stateNode=a,P.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},ig(P),a}function QL(a,c,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:x==null?null:""+x,children:a,containerInfo:c,implementation:m}}function U0(a){if(!a)return Ao;a=a._reactInternals;e:{if(lt(a)!==a||a.tag!==1)throw Error(t(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Ii(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(t(171))}if(a.tag===1){var m=a.type;if(Ii(m))return px(a,m,c)}return c}function H0(a,c,m,x,E,P,U,Q,ue){return a=Wg(m,x,!0,a,E,P,U,Q,ue),a.context=U0(null),m=a.current,x=Ti(),E=zo(m),P=$s(x,E),P.callback=c??null,Io(m,P,E),a.current.lanes=E,Xi(a,E,x),Oi(a,x),a}function yf(a,c,m,x){var E=c.current,P=Ti(),U=zo(E);return m=U0(m),c.context===null?c.context=m:c.pendingContext=m,c=$s(P,U),c.payload={element:a},x=x===void 0?null:x,x!==null&&(c.callback=x),a=Io(E,c,U),a!==null&&(Zr(a,E,U,P),qd(a,E,U)),U}function vf(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function V0(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var m=a.retryLane;a.retryLane=m!==0&&m<c?m:c}}function Gg(a,c){V0(a,c),(a=a.alternate)&&V0(a,c)}function eC(){return null}var j0=typeof reportError=="function"?reportError:function(a){console.error(a)};function Zg(a){this._internalRoot=a}xf.prototype.render=Zg.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(t(409));yf(a,c,null,null)},xf.prototype.unmount=Zg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;Ra(function(){yf(null,a,null,null)}),c[Gt]=null}};function xf(a){this._internalRoot=a}xf.prototype.unstable_scheduleHydration=function(a){if(a){var c=_l();a={blockedOn:null,target:a,priority:c};for(var m=0;m<In.length&&c!==0&&c<In[m].priority;m++);In.splice(m,0,a),m===0&&yl(a)}};function $g(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function wf(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function W0(){}function tC(a,c,m,x,E){if(E){if(typeof x=="function"){var P=x;x=function(){var Ee=vf(U);P.call(Ee)}}var U=H0(c,x,a,0,null,!1,!1,"",W0);return a._reactRootContainer=U,a[Gt]=U.current,Eo(a.nodeType===8?a.parentNode:a),Ra(),U}for(;E=a.lastChild;)a.removeChild(E);if(typeof x=="function"){var Q=x;x=function(){var Ee=vf(ue);Q.call(Ee)}}var ue=Wg(a,0,!1,null,null,!1,!1,"",W0);return a._reactRootContainer=ue,a[Gt]=ue.current,Eo(a.nodeType===8?a.parentNode:a),Ra(function(){yf(c,ue,m,x)}),ue}function bf(a,c,m,x,E){var P=m._reactRootContainer;if(P){var U=P;if(typeof E=="function"){var Q=E;E=function(){var ue=vf(U);Q.call(ue)}}yf(c,U,a,E)}else U=tC(m,c,a,E,x);return vf(U)}ml=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var m=Mt(c.pendingLanes);m!==0&&(zr(c,m|1),Oi(c,Vt()),(Ut&6)===0&&(ql=Vt()+500,ko()))}break;case 13:Ra(function(){var x=Zs(a,1);if(x!==null){var E=Ti();Zr(x,a,1,E)}}),Gg(a,1)}},ks=function(a){if(a.tag===13){var c=Zs(a,134217728);if(c!==null){var m=Ti();Zr(c,a,134217728,m)}Gg(a,134217728)}},gl=function(a){if(a.tag===13){var c=zo(a),m=Zs(a,c);if(m!==null){var x=Ti();Zr(m,a,c,x)}Gg(a,c)}},_l=function(){return Ft},fa=function(a,c){var m=Ft;try{return Ft=a,c()}finally{Ft=m}},Qt=function(a,c,m){switch(c){case"input":if(X(a,m),c=m.name,m.type==="radio"&&c!=null){for(m=a;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<m.length;c++){var x=m[c];if(x!==a&&x.form===a.form){var E=Nl(x);if(!E)throw Error(t(90));be(x),X(x,E)}}}break;case"textarea":Je(a,m);break;case"select":c=m.value,c!=null&&Ze(a,!!m.multiple,c,!1)}},ni=Fg,vi=Ra;var nC={usingClientEntryPoint:!1,Events:[Hs,Vs,Nl,ns,Yn,Fg]},qc={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iC={bundleType:qc.bundleType,version:qc.version,rendererPackageName:qc.rendererPackageName,rendererConfig:qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=It(a),a===null?null:a.stateNode},findFiberByHostInstance:qc.findFiberByHostInstance||eC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sf.isDisabled&&Sf.supportsFiber)try{ha=Sf.inject(iC),qi=Sf}catch{}}return zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nC,zi.createPortal=function(a,c){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$g(c))throw Error(t(200));return QL(a,c,null,m)},zi.createRoot=function(a,c){if(!$g(a))throw Error(t(299));var m=!1,x="",E=j0;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(E=c.onRecoverableError)),c=Wg(a,1,!1,null,null,m,!1,x,E),a[Gt]=c.current,Eo(a.nodeType===8?a.parentNode:a),new Zg(c)},zi.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=It(c),a=a===null?null:a.stateNode,a},zi.flushSync=function(a){return Ra(a)},zi.hydrate=function(a,c,m){if(!wf(c))throw Error(t(200));return bf(null,a,c,!0,m)},zi.hydrateRoot=function(a,c,m){if(!$g(a))throw Error(t(405));var x=m!=null&&m.hydratedSources||null,E=!1,P="",U=j0;if(m!=null&&(m.unstable_strictMode===!0&&(E=!0),m.identifierPrefix!==void 0&&(P=m.identifierPrefix),m.onRecoverableError!==void 0&&(U=m.onRecoverableError)),c=H0(c,null,a,1,m??null,E,!1,P,U),a[Gt]=c.current,Eo(a),x)for(a=0;a<x.length;a++)m=x[a],E=m._getVersion,E=E(m._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[m,E]:c.mutableSourceEagerHydrationData.push(m,E);return new xf(c)},zi.render=function(a,c,m){if(!wf(c))throw Error(t(200));return bf(null,a,c,!1,m)},zi.unmountComponentAtNode=function(a){if(!wf(a))throw Error(t(40));return a._reactRootContainer?(Ra(function(){bf(null,null,a,!1,function(){a._reactRootContainer=null,a[Gt]=null})}),!0):!1},zi.unstable_batchedUpdates=Fg,zi.unstable_renderSubtreeIntoContainer=function(a,c,m,x){if(!wf(m))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return bf(a,c,m,!1,x)},zi.version="18.3.1-next-f1338f8080-20240426",zi}var J0;function H1(){if(J0)return Yg.exports;J0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yg.exports=cC(),Yg.exports}var Q0;function hC(){if(Q0)return Mf;Q0=1;var n=H1();return Mf.createRoot=n.createRoot,Mf.hydrateRoot=n.hydrateRoot,Mf}var dC=hC();const fC=$u(dC),V1=typeof document<"u"?bn.useLayoutEffect:()=>{};var Qg;const pC=(Qg=bn.useInsertionEffect)!==null&&Qg!==void 0?Qg:V1;function mC(n){const e=de.useRef(null);return pC(()=>{e.current=n},[n]),de.useCallback((...t)=>{const i=e.current;return i?.(...t)},[])}const la=n=>{var e;return(e=n?.ownerDocument)!==null&&e!==void 0?e:document},Za=n=>n&&"window"in n&&n.window===n?n:la(n).defaultView||window;function gC(n){return n!==null&&typeof n=="object"&&"nodeType"in n&&typeof n.nodeType=="number"}function _C(n){return gC(n)&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in n}let yC=!1;function iv(){return yC}function j1(n,e){if(!iv())return e&&n?n.contains(e):!1;if(!n||!e)return!1;let t=e;for(;t!==null;){if(t===n)return!0;t.tagName==="SLOT"&&t.assignedSlot?t=t.assignedSlot.parentNode:_C(t)?t=t.host:t=t.parentNode}return!1}const hy=(n=document)=>{var e;if(!iv())return n.activeElement;let t=n.activeElement;for(;t&&"shadowRoot"in t&&(!((e=t.shadowRoot)===null||e===void 0)&&e.activeElement);)t=t.shadowRoot.activeElement;return t};function W1(n){return iv()&&n.target.shadowRoot&&n.composedPath?n.composedPath()[0]:n.target}function vC(n){var e;if(typeof window>"u"||window.navigator==null)return!1;let t=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(t)&&t.some(i=>n.test(i.brand))||n.test(window.navigator.userAgent)}function xC(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function G1(n){let e=null;return()=>(e==null&&(e=n()),e)}const wC=G1(function(){return xC(/^Mac/i)}),bC=G1(function(){return vC(/Android/i)});function Z1(){let n=de.useRef(new Map),e=de.useCallback((r,s,o,u)=>{let h=u?.once?(...d)=>{n.current.delete(o),o(...d)}:o;n.current.set(o,{type:s,eventTarget:r,fn:h,options:u}),r.addEventListener(s,h,u)},[]),t=de.useCallback((r,s,o,u)=>{var h;let d=((h=n.current.get(o))===null||h===void 0?void 0:h.fn)||o;r.removeEventListener(s,d,u),n.current.delete(o)},[]),i=de.useCallback(()=>{n.current.forEach((r,s)=>{t(r.eventTarget,r.type,s,r.options)})},[t]);return de.useEffect(()=>i,[i]),{addGlobalListener:e,removeGlobalListener:t,removeAllGlobalListeners:i}}function SC(n){return n.pointerType===""&&n.isTrusted?!0:bC()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}var MC=H1();function $1(n){let e=n;return e.nativeEvent=n,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function EC(n,e){Object.defineProperty(n,"target",{value:e}),Object.defineProperty(n,"currentTarget",{value:e})}function q1(n){let e=de.useRef({isFocused:!1,observer:null});V1(()=>{const i=e.current;return()=>{i.observer&&(i.observer.disconnect(),i.observer=null)}},[]);let t=mC(i=>{n?.(i)});return de.useCallback(i=>{if(i.target instanceof HTMLButtonElement||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLSelectElement){e.current.isFocused=!0;let r=i.target,s=o=>{if(e.current.isFocused=!1,r.disabled){let u=$1(o);t(u)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};r.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&r.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let u=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),e.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let TC=!1,id=null,dy=new Set,Lh=new Map,el=!1,fy=!1;const LC={Tab:!0,Escape:!0};function rv(n,e){for(let t of dy)t(n,e)}function CC(n){return!(n.metaKey||!wC()&&n.altKey||n.ctrlKey||n.key==="Control"||n.key==="Shift"||n.key==="Meta")}function kp(n){el=!0,CC(n)&&(id="keyboard",rv("keyboard",n))}function Pu(n){id="pointer",(n.type==="mousedown"||n.type==="pointerdown")&&(el=!0,rv("pointer",n))}function X1(n){SC(n)&&(el=!0,id="virtual")}function Y1(n){n.target===window||n.target===document||TC||!n.isTrusted||(!el&&!fy&&(id="virtual",rv("virtual",n)),el=!1,fy=!1)}function K1(){el=!1,fy=!0}function py(n){if(typeof window>"u"||typeof document>"u"||Lh.get(Za(n)))return;const e=Za(n),t=la(n);let i=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){el=!0,i.apply(this,arguments)},t.addEventListener("keydown",kp,!0),t.addEventListener("keyup",kp,!0),t.addEventListener("click",X1,!0),e.addEventListener("focus",Y1,!0),e.addEventListener("blur",K1,!1),typeof PointerEvent<"u"&&(t.addEventListener("pointerdown",Pu,!0),t.addEventListener("pointermove",Pu,!0),t.addEventListener("pointerup",Pu,!0)),e.addEventListener("beforeunload",()=>{J1(n)},{once:!0}),Lh.set(e,{focus:i})}const J1=(n,e)=>{const t=Za(n),i=la(n);e&&i.removeEventListener("DOMContentLoaded",e),Lh.has(t)&&(t.HTMLElement.prototype.focus=Lh.get(t).focus,i.removeEventListener("keydown",kp,!0),i.removeEventListener("keyup",kp,!0),i.removeEventListener("click",X1,!0),t.removeEventListener("focus",Y1,!0),t.removeEventListener("blur",K1,!1),typeof PointerEvent<"u"&&(i.removeEventListener("pointerdown",Pu,!0),i.removeEventListener("pointermove",Pu,!0),i.removeEventListener("pointerup",Pu,!0)),Lh.delete(t))};function PC(n){const e=la(n);let t;return e.readyState!=="loading"?py(n):(t=()=>{py(n)},e.addEventListener("DOMContentLoaded",t)),()=>J1(n,t)}typeof document<"u"&&PC();function Q1(){return id!=="pointer"}const AC=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function kC(n,e,t){let i=la(t?.target);const r=typeof window<"u"?Za(t?.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Za(t?.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?Za(t?.target).HTMLElement:HTMLElement,u=typeof window<"u"?Za(t?.target).KeyboardEvent:KeyboardEvent;return n=n||i.activeElement instanceof r&&!AC.has(i.activeElement.type)||i.activeElement instanceof s||i.activeElement instanceof o&&i.activeElement.isContentEditable,!(n&&e==="keyboard"&&t instanceof u&&!LC[t.key])}function RC(n,e,t){py(),de.useEffect(()=>{let i=(r,s)=>{kC(!!t?.isTextInput,r,s)&&n(Q1())};return dy.add(i),()=>{dy.delete(i)}},e)}function IC(n){let{isDisabled:e,onFocus:t,onBlur:i,onFocusChange:r}=n;const s=de.useCallback(h=>{if(h.target===h.currentTarget)return i&&i(h),r&&r(!1),!0},[i,r]),o=q1(s),u=de.useCallback(h=>{const d=la(h.target),p=d?hy(d):hy();h.target===h.currentTarget&&p===W1(h.nativeEvent)&&(t&&t(h),r&&r(!0),o(h))},[r,t,o]);return{focusProps:{onFocus:!e&&(t||r||i)?u:void 0,onBlur:!e&&(i||r)?s:void 0}}}function DC(n){let{isDisabled:e,onBlurWithin:t,onFocusWithin:i,onFocusWithinChange:r}=n,s=de.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:u}=Z1(),h=de.useCallback(g=>{g.currentTarget.contains(g.target)&&s.current.isFocusWithin&&!g.currentTarget.contains(g.relatedTarget)&&(s.current.isFocusWithin=!1,u(),t&&t(g),r&&r(!1))},[t,r,s,u]),d=q1(h),p=de.useCallback(g=>{if(!g.currentTarget.contains(g.target))return;const _=la(g.target),y=hy(_);if(!s.current.isFocusWithin&&y===W1(g.nativeEvent)){i&&i(g),r&&r(!0),s.current.isFocusWithin=!0,d(g);let w=g.currentTarget;o(_,"focus",S=>{if(s.current.isFocusWithin&&!j1(w,S.target)){let C=new _.defaultView.FocusEvent("blur",{relatedTarget:S.target});EC(C,w);let b=$1(C);h(b)}},{capture:!0})}},[i,r,d,o,h]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:p,onBlur:h}}}let my=!1,Ef=0;function NC(){my=!0,setTimeout(()=>{my=!1},50)}function ew(n){n.pointerType==="touch"&&NC()}function OC(){if(!(typeof document>"u"))return Ef===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",ew),Ef++,()=>{Ef--,!(Ef>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",ew)}}function zC(n){let{onHoverStart:e,onHoverChange:t,onHoverEnd:i,isDisabled:r}=n,[s,o]=de.useState(!1),u=de.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;de.useEffect(OC,[]);let{addGlobalListener:h,removeAllGlobalListeners:d}=Z1(),{hoverProps:p,triggerHoverEnd:g}=de.useMemo(()=>{let _=(S,C)=>{if(u.pointerType=C,r||C==="touch"||u.isHovered||!S.currentTarget.contains(S.target))return;u.isHovered=!0;let b=S.currentTarget;u.target=b,h(la(S.target),"pointerover",T=>{u.isHovered&&u.target&&!j1(u.target,T.target)&&y(T,T.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:b,pointerType:C}),t&&t(!0),o(!0)},y=(S,C)=>{let b=u.target;u.pointerType="",u.target=null,!(C==="touch"||!u.isHovered||!b)&&(u.isHovered=!1,d(),i&&i({type:"hoverend",target:b,pointerType:C}),t&&t(!1),o(!1))},w={};return typeof PointerEvent<"u"&&(w.onPointerEnter=S=>{my&&S.pointerType==="mouse"||_(S,S.pointerType)},w.onPointerLeave=S=>{!r&&S.currentTarget.contains(S.target)&&y(S,S.pointerType)}),{hoverProps:w,triggerHoverEnd:y}},[e,t,i,r,u,h,d]);return de.useEffect(()=>{r&&g({currentTarget:u.target},u.pointerType)},[r]),{hoverProps:p,isHovered:s}}function eM(n={}){let{autoFocus:e=!1,isTextInput:t,within:i}=n,r=de.useRef({isFocused:!1,isFocusVisible:e||Q1()}),[s,o]=de.useState(!1),[u,h]=de.useState(()=>r.current.isFocused&&r.current.isFocusVisible),d=de.useCallback(()=>h(r.current.isFocused&&r.current.isFocusVisible),[]),p=de.useCallback(y=>{r.current.isFocused=y,o(y),d()},[d]);RC(y=>{r.current.isFocusVisible=y,d()},[],{isTextInput:t});let{focusProps:g}=IC({isDisabled:i,onFocusChange:p}),{focusWithinProps:_}=DC({isDisabled:!i,onFocusWithinChange:p});return{isFocused:s,isFocusVisible:u,focusProps:i?_:g}}var FC=Object.defineProperty,BC=(n,e,t)=>e in n?FC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,e_=(n,e,t)=>(BC(n,typeof e!="symbol"?e+"":e,t),t);let UC=class{constructor(){e_(this,"current",this.detect()),e_(this,"handoffState","pending"),e_(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},tM=new UC;function nM(n){var e,t;return tM.isServer?null:n?"ownerDocument"in n?n.ownerDocument:"current"in n?(t=(e=n.current)==null?void 0:e.ownerDocument)!=null?t:document:null:document}function iM(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function rM(){let n=[],e={addEventListener(t,i,r,s){return t.addEventListener(i,r,s),e.add(()=>t.removeEventListener(i,r,s))},requestAnimationFrame(...t){let i=requestAnimationFrame(...t);return e.add(()=>cancelAnimationFrame(i))},nextFrame(...t){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...t))},setTimeout(...t){let i=setTimeout(...t);return e.add(()=>clearTimeout(i))},microTask(...t){let i={current:!0};return iM(()=>{i.current&&t[0]()}),e.add(()=>{i.current=!1})},style(t,i,r){let s=t.style.getPropertyValue(i);return Object.assign(t.style,{[i]:r}),this.add(()=>{Object.assign(t.style,{[i]:s})})},group(t){let i=rM();return t(i),this.add(()=>i.dispose())},add(t){return n.includes(t)||n.push(t),()=>{let i=n.indexOf(t);if(i>=0)for(let r of n.splice(i,1))r()}},dispose(){for(let t of n.splice(0))t()}};return e}function HC(){let[n]=de.useState(rM);return de.useEffect(()=>()=>n.dispose(),[n]),n}let zu=(n,e)=>{tM.isServer?de.useEffect(n,e):de.useLayoutEffect(n,e)};function _h(n){let e=de.useRef(n);return zu(()=>{e.current=n},[n]),e}let Ss=function(n){let e=_h(n);return bn.useCallback((...t)=>e.current(...t),[e])};function VC(n){let e=n.width/2,t=n.height/2;return{top:n.clientY-t,right:n.clientX+e,bottom:n.clientY+t,left:n.clientX-e}}function jC(n,e){return!(!n||!e||n.right<e.left||n.left>e.right||n.bottom<e.top||n.top>e.bottom)}function WC({disabled:n=!1}={}){let e=de.useRef(null),[t,i]=de.useState(!1),r=HC(),s=Ss(()=>{e.current=null,i(!1),r.dispose()}),o=Ss(u=>{if(r.dispose(),e.current===null){e.current=u.currentTarget,i(!0);{let h=nM(u.currentTarget);r.addEventListener(h,"pointerup",s,!1),r.addEventListener(h,"pointermove",d=>{if(e.current){let p=VC(d);i(jC(p,e.current.getBoundingClientRect()))}},!1),r.addEventListener(h,"pointercancel",s,!1)}}});return{pressed:t,pressProps:n?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}function tw(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Ya(n,e,...t){if(n in e){let r=e[n];return typeof r=="function"?r(...t):r}let i=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Ya),i}var gy=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(gy||{}),GC=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(GC||{});function qu(){let n=$C();return de.useCallback(e=>ZC({mergeRefs:n,...e}),[n])}function ZC({ourProps:n,theirProps:e,slot:t,defaultTag:i,features:r,visible:s=!0,name:o,mergeRefs:u}){u=u??qC;let h=sM(e,n);if(s)return Tf(h,t,i,o,u);let d=r??0;if(d&2){let{static:p=!1,...g}=h;if(p)return Tf(g,t,i,o,u)}if(d&1){let{unmount:p=!0,...g}=h;return Ya(p?0:1,{0(){return null},1(){return Tf({...g,hidden:!0,style:{display:"none"}},t,i,o,u)}})}return Tf(h,t,i,o,u)}function Tf(n,e={},t,i,r){let{as:s=t,children:o,refName:u="ref",...h}=t_(n,["unmount","static"]),d=n.ref!==void 0?{[u]:n.ref}:{},p=typeof o=="function"?o(e):o;"className"in h&&h.className&&typeof h.className=="function"&&(h.className=h.className(e)),h["aria-labelledby"]&&h["aria-labelledby"]===h.id&&(h["aria-labelledby"]=void 0);let g={};if(e){let _=!1,y=[];for(let[w,S]of Object.entries(e))typeof S=="boolean"&&(_=!0),S===!0&&y.push(w.replace(/([A-Z])/g,C=>`-${C.toLowerCase()}`));if(_){g["data-headlessui-state"]=y.join(" ");for(let w of y)g[`data-${w}`]=""}}if(s===de.Fragment&&(Object.keys(Yl(h)).length>0||Object.keys(Yl(g)).length>0))if(!de.isValidElement(p)||Array.isArray(p)&&p.length>1){if(Object.keys(Yl(h)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Yl(h)).concat(Object.keys(Yl(g))).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`))}else{let _=p.props,y=_?.className,w=typeof y=="function"?(...b)=>tw(y(...b),h.className):tw(y,h.className),S=w?{className:w}:{},C=sM(p.props,Yl(t_(h,["ref"])));for(let b in g)b in C&&delete g[b];return de.cloneElement(p,Object.assign({},C,g,d,{ref:r(XC(p),d.ref)},S))}return de.createElement(s,Object.assign({},t_(h,["ref"]),s!==de.Fragment&&d,s!==de.Fragment&&g),p)}function $C(){let n=de.useRef([]),e=de.useCallback(t=>{for(let i of n.current)i!=null&&(typeof i=="function"?i(t):i.current=t)},[]);return(...t)=>{if(!t.every(i=>i==null))return n.current=t,e}}function qC(...n){return n.every(e=>e==null)?void 0:e=>{for(let t of n)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function sM(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let i of n)for(let r in i)r.startsWith("on")&&typeof i[r]=="function"?(t[r]!=null||(t[r]=[]),t[r].push(i[r])):e[r]=i[r];if(e.disabled||e["aria-disabled"])for(let i in t)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(t[i]=[r=>{var s;return(s=r?.preventDefault)==null?void 0:s.call(r)}]);for(let i in t)Object.assign(e,{[i](r,...s){let o=t[i];for(let u of o){if((r instanceof Event||r?.nativeEvent instanceof Event)&&r.defaultPrevented)return;u(r,...s)}}});return e}function oM(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let i of n)for(let r in i)r.startsWith("on")&&typeof i[r]=="function"?(t[r]!=null||(t[r]=[]),t[r].push(i[r])):e[r]=i[r];for(let i in t)Object.assign(e,{[i](...r){let s=t[i];for(let o of s)o?.(...r)}});return e}function Xu(n){var e;return Object.assign(de.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function Yl(n){let e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function t_(n,e=[]){let t=Object.assign({},n);for(let i of e)i in t&&delete t[i];return t}function XC(n){return bn.version.split(".")[0]>="19"?n.props.ref:n.ref}let YC="span";var aM=(n=>(n[n.None=1]="None",n[n.Focusable=2]="Focusable",n[n.Hidden=4]="Hidden",n))(aM||{});function KC(n,e){var t;let{features:i=1,...r}=n,s={ref:e,"aria-hidden":(i&2)===2?!0:(t=r["aria-hidden"])!=null?t:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return qu()({ourProps:s,theirProps:r,slot:{},defaultTag:YC,name:"Hidden"})}let lM=Xu(KC),JC=Symbol();function rd(...n){let e=de.useRef(n);de.useEffect(()=>{e.current=n},[n]);let t=Ss(i=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(i):r.current=i)});return n.every(i=>i==null||i?.[JC])?void 0:t}var Kr=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(Kr||{});let QC=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(","),eP=["[data-autofocus]"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var Jr=(n=>(n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n[n.AutoFocus=64]="AutoFocus",n))(Jr||{}),yh=(n=>(n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow",n))(yh||{}),tP=(n=>(n[n.Previous=-1]="Previous",n[n.Next=1]="Next",n))(tP||{});function nP(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(QC)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function iP(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(eP)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var rP=(n=>(n[n.Strict=0]="Strict",n[n.Loose=1]="Loose",n))(rP||{}),sP=(n=>(n[n.Keyboard=0]="Keyboard",n[n.Mouse=1]="Mouse",n))(sP||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{n.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:n.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let oP=["textarea","input"].join(",");function aP(n){var e,t;return(t=(e=n?.matches)==null?void 0:e.call(n,oP))!=null?t:!1}function Eu(n,e=t=>t){return n.slice().sort((t,i)=>{let r=e(t),s=e(i);if(r===null||s===null)return 0;let o=r.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Kl(n,e,{sorted:t=!0,relativeTo:i=null,skipElements:r=[]}={}){let s=Array.isArray(n)?n.length>0?n[0].ownerDocument:document:n.ownerDocument,o=Array.isArray(n)?t?Eu(n):n:e&64?iP(n):nP(n);r.length>0&&o.length>1&&(o=o.filter(y=>!r.some(w=>w!=null&&"current"in w?w?.current===y:w===y))),i=i??s.activeElement;let u=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(i))-1;if(e&4)return Math.max(0,o.indexOf(i))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=e&32?{preventScroll:!0}:{},p=0,g=o.length,_;do{if(p>=g||p+g<=0)return 0;let y=h+p;if(e&16)y=(y+g)%g;else{if(y<0)return 3;if(y>=g)return 1}_=o[y],_?.focus(d),p+=u}while(_!==s.activeElement);return e&6&&aP(_)&&_.select(),2}function lP(n,e){return de.useMemo(()=>{var t;if(n.type)return n.type;let i=(t=n.as)!=null?t:"button";if(typeof i=="string"&&i.toLowerCase()==="button"||e?.tagName==="BUTTON"&&!e.hasAttribute("type"))return"button"},[n.type,n.as,e])}function uP(){let n=de.useRef(!1);return zu(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function cP({onFocus:n}){let[e,t]=de.useState(!0),i=uP();return e?bn.createElement(lM,{as:"button",type:"button",features:aM.Focusable,onFocus:r=>{r.preventDefault();let s,o=50;function u(){if(o--<=0){s&&cancelAnimationFrame(s);return}if(n()){if(cancelAnimationFrame(s),!i.current)return;t(!1);return}s=requestAnimationFrame(u)}s=requestAnimationFrame(u)}}):null}const uM=de.createContext(null);function hP(){return{groups:new Map,get(n,e){var t;let i=this.groups.get(n);i||(i=new Map,this.groups.set(n,i));let r=(t=i.get(e))!=null?t:0;i.set(e,r+1);let s=Array.from(i.keys()).indexOf(e);function o(){let u=i.get(e);u>1?i.set(e,u-1):i.delete(e)}return[s,o]}}}function dP({children:n}){let e=de.useRef(hP());return de.createElement(uM.Provider,{value:e},n)}function cM(n){let e=de.useContext(uM);if(!e)throw new Error("You must wrap your component in a <StableCollection>");let t=de.useId(),[i,r]=e.current.get(n,t);return de.useEffect(()=>r,[]),i}var fP=(n=>(n[n.Forwards=0]="Forwards",n[n.Backwards=1]="Backwards",n))(fP||{}),pP=(n=>(n[n.Less=-1]="Less",n[n.Equal=0]="Equal",n[n.Greater=1]="Greater",n))(pP||{}),mP=(n=>(n[n.SetSelectedIndex=0]="SetSelectedIndex",n[n.RegisterTab=1]="RegisterTab",n[n.UnregisterTab=2]="UnregisterTab",n[n.RegisterPanel=3]="RegisterPanel",n[n.UnregisterPanel=4]="UnregisterPanel",n))(mP||{});let gP={0(n,e){var t;let i=Eu(n.tabs,p=>p.current),r=Eu(n.panels,p=>p.current),s=i.filter(p=>{var g;return!((g=p.current)!=null&&g.hasAttribute("disabled"))}),o={...n,tabs:i,panels:r};if(e.index<0||e.index>i.length-1){let p=Ya(Math.sign(e.index-n.selectedIndex),{[-1]:()=>1,0:()=>Ya(Math.sign(e.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(s.length===0)return o;let g=Ya(p,{0:()=>i.indexOf(s[0]),1:()=>i.indexOf(s[s.length-1])});return{...o,selectedIndex:g===-1?n.selectedIndex:g}}let u=i.slice(0,e.index),h=[...i.slice(e.index),...u].find(p=>s.includes(p));if(!h)return o;let d=(t=i.indexOf(h))!=null?t:n.selectedIndex;return d===-1&&(d=n.selectedIndex),{...o,selectedIndex:d}},1(n,e){if(n.tabs.includes(e.tab))return n;let t=n.tabs[n.selectedIndex],i=Eu([...n.tabs,e.tab],s=>s.current),r=n.selectedIndex;return n.info.current.isControlled||(r=i.indexOf(t),r===-1&&(r=n.selectedIndex)),{...n,tabs:i,selectedIndex:r}},2(n,e){return{...n,tabs:n.tabs.filter(t=>t!==e.tab)}},3(n,e){return n.panels.includes(e.panel)?n:{...n,panels:Eu([...n.panels,e.panel],t=>t.current)}},4(n,e){return{...n,panels:n.panels.filter(t=>t!==e.panel)}}},sv=de.createContext(null);sv.displayName="TabsDataContext";function Fu(n){let e=de.useContext(sv);if(e===null){let t=new Error(`<${n} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Fu),t}return e}let ov=de.createContext(null);ov.displayName="TabsActionsContext";function av(n){let e=de.useContext(ov);if(e===null){let t=new Error(`<${n} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,av),t}return e}function _P(n,e){return Ya(e.type,gP,n,e)}let yP="div";function vP(n,e){let{defaultIndex:t=0,vertical:i=!1,manual:r=!1,onChange:s,selectedIndex:o=null,...u}=n;const h=i?"vertical":"horizontal",d=r?"manual":"auto";let p=o!==null,g=_h({isControlled:p}),_=rd(e),[y,w]=de.useReducer(_P,{info:g,selectedIndex:o??t,tabs:[],panels:[]}),S=de.useMemo(()=>({selectedIndex:y.selectedIndex}),[y.selectedIndex]),C=_h(s||(()=>{})),b=_h(y.tabs),T=de.useMemo(()=>({orientation:h,activation:d,...y}),[h,d,y]),k=Ss(W=>(w({type:1,tab:W}),()=>w({type:2,tab:W}))),F=Ss(W=>(w({type:3,panel:W}),()=>w({type:4,panel:W}))),R=Ss(W=>{B.current!==W&&C.current(W),p||w({type:0,index:W})}),B=_h(p?n.selectedIndex:y.selectedIndex),N=de.useMemo(()=>({registerTab:k,registerPanel:F,change:R}),[]);zu(()=>{w({type:0,index:o??t})},[o]),zu(()=>{if(B.current===void 0||y.tabs.length<=0)return;let W=Eu(y.tabs,H=>H.current);W.some((H,J)=>y.tabs[J]!==H)&&R(W.indexOf(y.tabs[B.current]))});let O={ref:_},j=qu();return bn.createElement(dP,null,bn.createElement(ov.Provider,{value:N},bn.createElement(sv.Provider,{value:T},T.tabs.length<=0&&bn.createElement(cP,{onFocus:()=>{var W,H;for(let J of b.current)if(((W=J.current)==null?void 0:W.tabIndex)===0)return(H=J.current)==null||H.focus(),!0;return!1}}),j({ourProps:O,theirProps:u,slot:S,defaultTag:yP,name:"Tabs"}))))}let xP="div";function wP(n,e){let{orientation:t,selectedIndex:i}=Fu("Tab.List"),r=rd(e),s=de.useMemo(()=>({selectedIndex:i}),[i]),o=n,u={ref:r,role:"tablist","aria-orientation":t};return qu()({ourProps:u,theirProps:o,slot:s,defaultTag:xP,name:"Tabs.List"})}let bP="button";function SP(n,e){var t,i;let r=de.useId(),{id:s=`headlessui-tabs-tab-${r}`,disabled:o=!1,autoFocus:u=!1,...h}=n,{orientation:d,activation:p,selectedIndex:g,tabs:_,panels:y}=Fu("Tab"),w=av("Tab"),S=Fu("Tab"),[C,b]=de.useState(null),T=de.useRef(null),k=rd(T,e,b);zu(()=>w.registerTab(T),[w,T]);let F=cM("tabs"),R=_.indexOf(T);R===-1&&(R=F);let B=R===g,N=Ss(I=>{var G;let se=I();if(se===yh.Success&&p==="auto"){let D=(G=nM(T))==null?void 0:G.activeElement,me=S.tabs.findIndex(ve=>ve.current===D);me!==-1&&w.change(me)}return se}),O=Ss(I=>{let G=_.map(se=>se.current).filter(Boolean);if(I.key===Kr.Space||I.key===Kr.Enter){I.preventDefault(),I.stopPropagation(),w.change(R);return}switch(I.key){case Kr.Home:case Kr.PageUp:return I.preventDefault(),I.stopPropagation(),N(()=>Kl(G,Jr.First));case Kr.End:case Kr.PageDown:return I.preventDefault(),I.stopPropagation(),N(()=>Kl(G,Jr.Last))}if(N(()=>Ya(d,{vertical(){return I.key===Kr.ArrowUp?Kl(G,Jr.Previous|Jr.WrapAround):I.key===Kr.ArrowDown?Kl(G,Jr.Next|Jr.WrapAround):yh.Error},horizontal(){return I.key===Kr.ArrowLeft?Kl(G,Jr.Previous|Jr.WrapAround):I.key===Kr.ArrowRight?Kl(G,Jr.Next|Jr.WrapAround):yh.Error}}))===yh.Success)return I.preventDefault()}),j=de.useRef(!1),W=Ss(()=>{var I;j.current||(j.current=!0,(I=T.current)==null||I.focus({preventScroll:!0}),w.change(R),iM(()=>{j.current=!1}))}),H=Ss(I=>{I.preventDefault()}),{isFocusVisible:J,focusProps:Y}=eM({autoFocus:u}),{isHovered:ee,hoverProps:oe}=zC({isDisabled:o}),{pressed:ae,pressProps:ne}=WC({disabled:o}),K=de.useMemo(()=>({selected:B,hover:ee,active:ae,focus:J,autofocus:u,disabled:o}),[B,ee,J,ae,u,o]),fe=oM({ref:k,onKeyDown:O,onMouseDown:H,onClick:W,id:s,role:"tab",type:lP(n,C),"aria-controls":(i=(t=y[R])==null?void 0:t.current)==null?void 0:i.id,"aria-selected":B,tabIndex:B?0:-1,disabled:o||void 0,autoFocus:u},Y,oe,ne);return qu()({ourProps:fe,theirProps:h,slot:K,defaultTag:bP,name:"Tabs.Tab"})}let MP="div";function EP(n,e){let{selectedIndex:t}=Fu("Tab.Panels"),i=rd(e),r=de.useMemo(()=>({selectedIndex:t}),[t]),s=n,o={ref:i};return qu()({ourProps:o,theirProps:s,slot:r,defaultTag:MP,name:"Tabs.Panels"})}let TP="div",LP=gy.RenderStrategy|gy.Static;function CP(n,e){var t,i,r,s;let o=de.useId(),{id:u=`headlessui-tabs-panel-${o}`,tabIndex:h=0,...d}=n,{selectedIndex:p,tabs:g,panels:_}=Fu("Tab.Panel"),y=av("Tab.Panel"),w=de.useRef(null),S=rd(w,e);zu(()=>y.registerPanel(w),[y,w]);let C=cM("panels"),b=_.indexOf(w);b===-1&&(b=C);let T=b===p,{isFocusVisible:k,focusProps:F}=eM(),R=de.useMemo(()=>({selected:T,focus:k}),[T,k]),B=oM({ref:S,id:u,role:"tabpanel","aria-labelledby":(i=(t=g[b])==null?void 0:t.current)==null?void 0:i.id,tabIndex:T?h:-1},F),N=qu();return!T&&((r=d.unmount)==null||r)&&!((s=d.static)!=null&&s)?bn.createElement(lM,{"aria-hidden":"true",...B}):N({ourProps:B,theirProps:d,slot:R,defaultTag:TP,features:LP,visible:T,name:"Tabs.Panel"})}let PP=Xu(SP),AP=Xu(vP),kP=Xu(wP),RP=Xu(EP),IP=Xu(CP),Oa=Object.assign(PP,{Group:AP,List:kP,Panels:RP,Panel:IP});function hM(n,e){const t=de.useRef(e);de.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}const DP=1;function NP(n){return Object.freeze({__version:DP,map:n})}function lv(n,e){return Object.freeze({...n,...e})}const dM=de.createContext(null),fM=dM.Provider;function Qp(){const n=de.useContext(dM);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function pM(n){function e(t,i){const{instance:r,context:s}=n(t).current;return de.useImperativeHandle(i,()=>r),t.children==null?null:bn.createElement(fM,{value:s},t.children)}return de.forwardRef(e)}function OP(n){function e(t,i){const[r,s]=de.useState(!1),{instance:o}=n(t,s).current;de.useImperativeHandle(i,()=>o),de.useEffect(function(){r&&o.update()},[o,r,t.children]);const u=o._contentNode;return u?MC.createPortal(t.children,u):null}return de.forwardRef(e)}function zP(n){function e(t,i){const{instance:r}=n(t).current;return de.useImperativeHandle(i,()=>r),null}return de.forwardRef(e)}function uv(n,e){const t=de.useRef();de.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function em(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}function FP(n,e){return function(i,r){const s=Qp(),o=n(em(i,s),s);return hM(s.map,i.attribution),uv(o.current,i.eventHandlers),e(o.current,s,i,r),o}}var vh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var BP=vh.exports,nw;function UP(){return nw||(nw=1,(function(n,e){(function(t,i){i(e)})(BP,(function(t){var i="1.9.4";function r(l){var f,v,M,A;for(v=1,M=arguments.length;v<M;v++){A=arguments[v];for(f in A)l[f]=A[f]}return l}var s=Object.create||(function(){function l(){}return function(f){return l.prototype=f,new l}})();function o(l,f){var v=Array.prototype.slice;if(l.bind)return l.bind.apply(l,v.call(arguments,1));var M=v.call(arguments,2);return function(){return l.apply(f,M.length?M.concat(v.call(arguments)):arguments)}}var u=0;function h(l){return"_leaflet_id"in l||(l._leaflet_id=++u),l._leaflet_id}function d(l,f,v){var M,A,V,re;return re=function(){M=!1,A&&(V.apply(v,A),A=!1)},V=function(){M?A=arguments:(l.apply(v,arguments),setTimeout(re,f),M=!0)},V}function p(l,f,v){var M=f[1],A=f[0],V=M-A;return l===M&&v?l:((l-A)%V+V)%V+A}function g(){return!1}function _(l,f){if(f===!1)return l;var v=Math.pow(10,f===void 0?6:f);return Math.round(l*v)/v}function y(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function w(l){return y(l).split(/\s+/)}function S(l,f){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?s(l.options):{});for(var v in f)l.options[v]=f[v];return l.options}function C(l,f,v){var M=[];for(var A in l)M.push(encodeURIComponent(v?A.toUpperCase():A)+"="+encodeURIComponent(l[A]));return(!f||f.indexOf("?")===-1?"?":"&")+M.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function T(l,f){return l.replace(b,function(v,M){var A=f[M];if(A===void 0)throw new Error("No value provided for variable "+v);return typeof A=="function"&&(A=A(f)),A})}var k=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function F(l,f){for(var v=0;v<l.length;v++)if(l[v]===f)return v;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var N=0;function O(l){var f=+new Date,v=Math.max(0,16-(f-N));return N=f+v,window.setTimeout(l,v)}var j=window.requestAnimationFrame||B("RequestAnimationFrame")||O,W=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function H(l,f,v){if(v&&j===O)l.call(f);else return j.call(window,o(l,f))}function J(l){l&&W.call(window,l)}var Y={__proto__:null,extend:r,create:s,bind:o,get lastId(){return u},stamp:h,throttle:d,wrapNum:p,falseFn:g,formatNum:_,trim:y,splitWords:w,setOptions:S,getParamString:C,template:T,isArray:k,indexOf:F,emptyImageUrl:R,requestFn:j,cancelFn:W,requestAnimFrame:H,cancelAnimFrame:J};function ee(){}ee.extend=function(l){var f=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=f.__super__=this.prototype,M=s(v);M.constructor=f,f.prototype=M;for(var A in this)Object.prototype.hasOwnProperty.call(this,A)&&A!=="prototype"&&A!=="__super__"&&(f[A]=this[A]);return l.statics&&r(f,l.statics),l.includes&&(oe(l.includes),r.apply(null,[M].concat(l.includes))),r(M,l),delete M.statics,delete M.includes,M.options&&(M.options=v.options?s(v.options):{},r(M.options,l.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var V=0,re=M._initHooks.length;V<re;V++)M._initHooks[V].call(this)}},f},ee.include=function(l){var f=this.prototype.options;return r(this.prototype,l),l.options&&(this.prototype.options=f,this.mergeOptions(l.options)),this},ee.mergeOptions=function(l){return r(this.prototype.options,l),this},ee.addInitHook=function(l){var f=Array.prototype.slice.call(arguments,1),v=typeof l=="function"?l:function(){this[l].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function oe(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=k(l)?l:[l];for(var f=0;f<l.length;f++)l[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(l,f,v){if(typeof l=="object")for(var M in l)this._on(M,l[M],f);else{l=w(l);for(var A=0,V=l.length;A<V;A++)this._on(l[A],f,v)}return this},off:function(l,f,v){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var M in l)this._off(M,l[M],f);else{l=w(l);for(var A=arguments.length===1,V=0,re=l.length;V<re;V++)A?this._off(l[V]):this._off(l[V],f,v)}return this},_on:function(l,f,v,M){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(l,f,v)===!1){v===this&&(v=void 0);var A={fn:f,ctx:v};M&&(A.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(A)}},_off:function(l,f,v){var M,A,V;if(this._events&&(M=this._events[l],!!M)){if(arguments.length===1){if(this._firingCount)for(A=0,V=M.length;A<V;A++)M[A].fn=g;delete this._events[l];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var re=this._listens(l,f,v);if(re!==!1){var _e=M[re];this._firingCount&&(_e.fn=g,this._events[l]=M=M.slice()),M.splice(re,1)}}},fire:function(l,f,v){if(!this.listens(l,v))return this;var M=r({},f,{type:l,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var A=this._events[l];if(A){this._firingCount=this._firingCount+1||1;for(var V=0,re=A.length;V<re;V++){var _e=A[V],Me=_e.fn;_e.once&&this.off(l,Me,_e.ctx),Me.call(_e.ctx||this,M)}this._firingCount--}}return v&&this._propagateEvent(M),this},listens:function(l,f,v,M){typeof l!="string"&&console.warn('"string" type argument expected');var A=f;typeof f!="function"&&(M=!!f,A=void 0,v=void 0);var V=this._events&&this._events[l];if(V&&V.length&&this._listens(l,A,v)!==!1)return!0;if(M){for(var re in this._eventParents)if(this._eventParents[re].listens(l,f,v,M))return!0}return!1},_listens:function(l,f,v){if(!this._events)return!1;var M=this._events[l]||[];if(!f)return!!M.length;v===this&&(v=void 0);for(var A=0,V=M.length;A<V;A++)if(M[A].fn===f&&M[A].ctx===v)return A;return!1},once:function(l,f,v){if(typeof l=="object")for(var M in l)this._on(M,l[M],f,!0);else{l=w(l);for(var A=0,V=l.length;A<V;A++)this._on(l[A],f,v,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[h(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[h(l)],this},_propagateEvent:function(l){for(var f in this._eventParents)this._eventParents[f].fire(l.type,r({layer:l.target,propagatedFrom:l.target},l),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var ne=ee.extend(ae);function K(l,f,v){this.x=v?Math.round(l):l,this.y=v?Math.round(f):f}var fe=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};K.prototype={clone:function(){return new K(this.x,this.y)},add:function(l){return this.clone()._add(I(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(I(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new K(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new K(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=fe(this.x),this.y=fe(this.y),this},distanceTo:function(l){l=I(l);var f=l.x-this.x,v=l.y-this.y;return Math.sqrt(f*f+v*v)},equals:function(l){return l=I(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=I(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function I(l,f,v){return l instanceof K?l:k(l)?new K(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new K(l.x,l.y):new K(l,f,v)}function G(l,f){if(l)for(var v=f?[l,f]:l,M=0,A=v.length;M<A;M++)this.extend(v[M])}G.prototype={extend:function(l){var f,v;if(!l)return this;if(l instanceof K||typeof l[0]=="number"||"x"in l)f=v=I(l);else if(l=se(l),f=l.min,v=l.max,!f||!v)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=v.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(l){return I((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return I(this.min.x,this.max.y)},getTopRight:function(){return I(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var f,v;return typeof l[0]=="number"||l instanceof K?l=I(l):l=se(l),l instanceof G?(f=l.min,v=l.max):f=v=l,f.x>=this.min.x&&v.x<=this.max.x&&f.y>=this.min.y&&v.y<=this.max.y},intersects:function(l){l=se(l);var f=this.min,v=this.max,M=l.min,A=l.max,V=A.x>=f.x&&M.x<=v.x,re=A.y>=f.y&&M.y<=v.y;return V&&re},overlaps:function(l){l=se(l);var f=this.min,v=this.max,M=l.min,A=l.max,V=A.x>f.x&&M.x<v.x,re=A.y>f.y&&M.y<v.y;return V&&re},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var f=this.min,v=this.max,M=Math.abs(f.x-v.x)*l,A=Math.abs(f.y-v.y)*l;return se(I(f.x-M,f.y-A),I(v.x+M,v.y+A))},equals:function(l){return l?(l=se(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function se(l,f){return!l||l instanceof G?l:new G(l,f)}function D(l,f){if(l)for(var v=f?[l,f]:l,M=0,A=v.length;M<A;M++)this.extend(v[M])}D.prototype={extend:function(l){var f=this._southWest,v=this._northEast,M,A;if(l instanceof ve)M=l,A=l;else if(l instanceof D){if(M=l._southWest,A=l._northEast,!M||!A)return this}else return l?this.extend(te(l)||me(l)):this;return!f&&!v?(this._southWest=new ve(M.lat,M.lng),this._northEast=new ve(A.lat,A.lng)):(f.lat=Math.min(M.lat,f.lat),f.lng=Math.min(M.lng,f.lng),v.lat=Math.max(A.lat,v.lat),v.lng=Math.max(A.lng,v.lng)),this},pad:function(l){var f=this._southWest,v=this._northEast,M=Math.abs(f.lat-v.lat)*l,A=Math.abs(f.lng-v.lng)*l;return new D(new ve(f.lat-M,f.lng-A),new ve(v.lat+M,v.lng+A))},getCenter:function(){return new ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof ve||"lat"in l?l=te(l):l=me(l);var f=this._southWest,v=this._northEast,M,A;return l instanceof D?(M=l.getSouthWest(),A=l.getNorthEast()):M=A=l,M.lat>=f.lat&&A.lat<=v.lat&&M.lng>=f.lng&&A.lng<=v.lng},intersects:function(l){l=me(l);var f=this._southWest,v=this._northEast,M=l.getSouthWest(),A=l.getNorthEast(),V=A.lat>=f.lat&&M.lat<=v.lat,re=A.lng>=f.lng&&M.lng<=v.lng;return V&&re},overlaps:function(l){l=me(l);var f=this._southWest,v=this._northEast,M=l.getSouthWest(),A=l.getNorthEast(),V=A.lat>f.lat&&M.lat<v.lat,re=A.lng>f.lng&&M.lng<v.lng;return V&&re},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,f){return l?(l=me(l),this._southWest.equals(l.getSouthWest(),f)&&this._northEast.equals(l.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function me(l,f){return l instanceof D?l:new D(l,f)}function ve(l,f,v){if(isNaN(l)||isNaN(f))throw new Error("Invalid LatLng object: ("+l+", "+f+")");this.lat=+l,this.lng=+f,v!==void 0&&(this.alt=+v)}ve.prototype={equals:function(l,f){if(!l)return!1;l=te(l);var v=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return v<=(f===void 0?1e-9:f)},toString:function(l){return"LatLng("+_(this.lat,l)+", "+_(this.lng,l)+")"},distanceTo:function(l){return Pe.distance(this,te(l))},wrap:function(){return Pe.wrapLatLng(this)},toBounds:function(l){var f=180*l/40075017,v=f/Math.cos(Math.PI/180*this.lat);return me([this.lat-f,this.lng-v],[this.lat+f,this.lng+v])},clone:function(){return new ve(this.lat,this.lng,this.alt)}};function te(l,f,v){return l instanceof ve?l:k(l)&&typeof l[0]!="object"?l.length===3?new ve(l[0],l[1],l[2]):l.length===2?new ve(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new ve(l.lat,"lng"in l?l.lng:l.lon,l.alt):f===void 0?null:new ve(l,f,v)}var Ne={latLngToPoint:function(l,f){var v=this.projection.project(l),M=this.scale(f);return this.transformation._transform(v,M)},pointToLatLng:function(l,f){var v=this.scale(f),M=this.transformation.untransform(l,v);return this.projection.unproject(M)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var f=this.projection.bounds,v=this.scale(l),M=this.transformation.transform(f.min,v),A=this.transformation.transform(f.max,v);return new G(M,A)},infinite:!1,wrapLatLng:function(l){var f=this.wrapLng?p(l.lng,this.wrapLng,!0):l.lng,v=this.wrapLat?p(l.lat,this.wrapLat,!0):l.lat,M=l.alt;return new ve(v,f,M)},wrapLatLngBounds:function(l){var f=l.getCenter(),v=this.wrapLatLng(f),M=f.lat-v.lat,A=f.lng-v.lng;if(M===0&&A===0)return l;var V=l.getSouthWest(),re=l.getNorthEast(),_e=new ve(V.lat-M,V.lng-A),Me=new ve(re.lat-M,re.lng-A);return new D(_e,Me)}},Pe=r({},Ne,{wrapLng:[-180,180],R:6371e3,distance:function(l,f){var v=Math.PI/180,M=l.lat*v,A=f.lat*v,V=Math.sin((f.lat-l.lat)*v/2),re=Math.sin((f.lng-l.lng)*v/2),_e=V*V+Math.cos(M)*Math.cos(A)*re*re,Me=2*Math.atan2(Math.sqrt(_e),Math.sqrt(1-_e));return this.R*Me}}),ke=6378137,ze={R:ke,MAX_LATITUDE:85.0511287798,project:function(l){var f=Math.PI/180,v=this.MAX_LATITUDE,M=Math.max(Math.min(v,l.lat),-v),A=Math.sin(M*f);return new K(this.R*l.lng*f,this.R*Math.log((1+A)/(1-A))/2)},unproject:function(l){var f=180/Math.PI;return new ve((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*f,l.x*f/this.R)},bounds:(function(){var l=ke*Math.PI;return new G([-l,-l],[l,l])})()};function je(l,f,v,M){if(k(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=f,this._c=v,this._d=M}je.prototype={transform:function(l,f){return this._transform(l.clone(),f)},_transform:function(l,f){return f=f||1,l.x=f*(this._a*l.x+this._b),l.y=f*(this._c*l.y+this._d),l},untransform:function(l,f){return f=f||1,new K((l.x/f-this._b)/this._a,(l.y/f-this._d)/this._c)}};function be(l,f,v,M){return new je(l,f,v,M)}var Re=r({},Pe,{code:"EPSG:3857",projection:ze,transformation:(function(){var l=.5/(Math.PI*ze.R);return be(l,.5,-l,.5)})()}),De=r({},Re,{code:"EPSG:900913"});function We(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function Ie(l,f){var v="",M,A,V,re,_e,Me;for(M=0,V=l.length;M<V;M++){for(_e=l[M],A=0,re=_e.length;A<re;A++)Me=_e[A],v+=(A?"L":"M")+Me.x+" "+Me.y;v+=f?ce.svg?"z":"x":""}return v||"M0 0"}var X=document.documentElement.style,Z="ActiveXObject"in window,we=Z&&!document.addEventListener,Ae="msLaunchUri"in navigator&&!("documentMode"in document),Ze=$("webkit"),Ke=$("android"),rt=$("android 2")||$("android 3"),Je=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),st=Ke&&$("Google")&&Je<537&&!("AudioNode"in window),he=!!window.opera,q=!Ae&&$("chrome"),Le=$("gecko")&&!Ze&&!he&&!Z,Se=!q&&$("safari"),Fe=$("phantom"),Xe="OTransition"in X,ut=navigator.platform.indexOf("Win")===0,At=Z&&"transition"in X,Ot="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rt,_n="MozPerspective"in X,le=!window.L_DISABLE_3D&&(At||Ot||_n)&&!Xe&&!Fe,Be=typeof orientation<"u"||$("mobile"),tt=Be&&Ze,Ct=Be&&Ot,Qt=!window.PointerEvent&&window.MSPointerEvent,Sn=!!(window.PointerEvent||Qt),Tn="ontouchstart"in window||!!window.TouchEvent,Zi=!window.L_NO_TOUCH&&(Tn||Sn),ns=Be&&he,Yn=Be&&Le,ni=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,vi=(function(){var l=!1;try{var f=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",g,f),window.removeEventListener("testPassiveEventSupport",g,f)}catch{}return l})(),$i=(function(){return!!document.createElement("canvas").getContext})(),ii=!!(document.createElementNS&&We("svg").createSVGRect),xi=!!ii&&(function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),oo=!ii&&(function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var f=l.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}})(),As=navigator.platform.indexOf("Mac")===0,uc=navigator.platform.indexOf("Linux")===0;function $(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var ce={ie:Z,ielt9:we,edge:Ae,webkit:Ze,android:Ke,android23:rt,androidStock:st,opera:he,chrome:q,gecko:Le,safari:Se,phantom:Fe,opera12:Xe,win:ut,ie3d:At,webkit3d:Ot,gecko3d:_n,any3d:le,mobile:Be,mobileWebkit:tt,mobileWebkit3d:Ct,msPointer:Qt,pointer:Sn,touch:Zi,touchNative:Tn,mobileOpera:ns,mobileGecko:Yn,retina:ni,passiveEvents:vi,canvas:$i,svg:ii,vml:oo,inlineSvg:xi,mac:As,linux:uc},ge=ce.msPointer?"MSPointerDown":"pointerdown",Ce=ce.msPointer?"MSPointerMove":"pointermove",Ve=ce.msPointer?"MSPointerUp":"pointerup",St=ce.msPointer?"MSPointerCancel":"pointercancel",dt={touchstart:ge,touchmove:Ce,touchend:Ve,touchcancel:St},lt={touchstart:Vt,touchmove:Un,touchend:Un,touchcancel:Un},xt={},zt=!1;function kt(l,f,v){return f==="touchstart"&&dr(),lt[f]?(v=lt[f].bind(this,v),l.addEventListener(dt[f],v,!1),v):(console.warn("wrong event specified:",f),g)}function It(l,f,v){if(!dt[f]){console.warn("wrong event specified:",f);return}l.removeEventListener(dt[f],v,!1)}function _t(l){xt[l.pointerId]=l}function hr(l){xt[l.pointerId]&&(xt[l.pointerId]=l)}function nn(l){delete xt[l.pointerId]}function dr(){zt||(document.addEventListener(ge,_t,!0),document.addEventListener(Ce,hr,!0),document.addEventListener(Ve,nn,!0),document.addEventListener(St,nn,!0),zt=!0)}function Un(l,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var v in xt)f.touches.push(xt[v]);f.changedTouches=[f],l(f)}}function Vt(l,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&yn(f),Un(l,f)}function fr(l){var f={},v,M;for(M in l)v=l[M],f[M]=v&&v.bind?v.bind(l):v;return l=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var fn=200;function wi(l,f){l.addEventListener("dblclick",f);var v=0,M;function A(V){if(V.detail!==1){M=V.detail;return}if(!(V.pointerType==="mouse"||V.sourceCapabilities&&!V.sourceCapabilities.firesTouchEvents)){var re=Is(V);if(!(re.some(function(Me){return Me instanceof HTMLLabelElement&&Me.attributes.for})&&!re.some(function(Me){return Me instanceof HTMLInputElement||Me instanceof HTMLSelectElement}))){var _e=Date.now();_e-v<=fn?(M++,M===2&&f(fr(V))):M=1,v=_e}}}return l.addEventListener("click",A),{dblclick:f,simDblclick:A}}function pn(l,f){l.removeEventListener("dblclick",f.dblclick),l.removeEventListener("click",f.simDblclick)}var cc=co(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ao=co(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ha=ao==="webkitTransition"||ao==="OTransition"?ao+"End":"transitionend";function qi(l){return typeof l=="string"?document.getElementById(l):l}function da(l,f){var v=l.style[f]||l.currentStyle&&l.currentStyle[f];if((!v||v==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(l,null);v=M?M[f]:null}return v==="auto"?null:v}function Et(l,f,v){var M=document.createElement(l);return M.className=f||"",v&&v.appendChild(M),M}function cn(l){var f=l.parentNode;f&&f.removeChild(l)}function fl(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function lo(l){var f=l.parentNode;f&&f.lastChild!==l&&f.appendChild(l)}function Or(l){var f=l.parentNode;f&&f.firstChild!==l&&f.insertBefore(l,f.firstChild)}function uo(l,f){if(l.classList!==void 0)return l.classList.contains(f);var v=pl(l);return v.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(v)}function Mt(l,f){if(l.classList!==void 0)for(var v=w(f),M=0,A=v.length;M<A;M++)l.classList.add(v[M]);else if(!uo(l,f)){var V=pl(l);hc(l,(V?V+" ":"")+f)}}function rn(l,f){l.classList!==void 0?l.classList.remove(f):hc(l,y((" "+pl(l)+" ").replace(" "+f+" "," ")))}function hc(l,f){l.className.baseVal===void 0?l.className=f:l.className.baseVal=f}function pl(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function ri(l,f){"opacity"in l.style?l.style.opacity=f:"filter"in l.style&&gd(l,f)}function gd(l,f){var v=!1,M="DXImageTransform.Microsoft.Alpha";try{v=l.filters.item(M)}catch{if(f===1)return}f=Math.round(f*100),v?(v.Enabled=f!==100,v.Opacity=f):l.style.filter+=" progid:"+M+"(opacity="+f+")"}function co(l){for(var f=document.documentElement.style,v=0;v<l.length;v++)if(l[v]in f)return l[v];return!1}function Xi(l,f,v){var M=f||new K(0,0);l.style[cc]=(ce.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(v?" scale("+v+")":"")}function Mn(l,f){l._leaflet_pos=f,ce.any3d?Xi(l,f):(l.style.left=f.x+"px",l.style.top=f.y+"px")}function zr(l){return l._leaflet_pos||new K(0,0)}var Ft,ho,ml;if("onselectstart"in document)Ft=function(){vt(window,"selectstart",yn)},ho=function(){Yt(window,"selectstart",yn)};else{var ks=co(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ft=function(){if(ks){var l=document.documentElement.style;ml=l[ks],l[ks]="none"}},ho=function(){ks&&(document.documentElement.style[ks]=ml,ml=void 0)}}function gl(){vt(window,"dragstart",yn)}function _l(){Yt(window,"dragstart",yn)}var fa,pa;function fo(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(Yi(),fa=l,pa=l.style.outlineStyle,l.style.outlineStyle="none",vt(window,"keydown",Yi))}function Yi(){fa&&(fa.style.outlineStyle=pa,fa=void 0,pa=void 0,Yt(window,"keydown",Yi))}function Fr(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function pr(l){var f=l.getBoundingClientRect();return{x:f.width/l.offsetWidth||1,y:f.height/l.offsetHeight||1,boundingClientRect:f}}var ma={__proto__:null,TRANSFORM:cc,TRANSITION:ao,TRANSITION_END:ha,get:qi,getStyle:da,create:Et,remove:cn,empty:fl,toFront:lo,toBack:Or,hasClass:uo,addClass:Mt,removeClass:rn,setClass:hc,getClass:pl,setOpacity:ri,testProp:co,setTransform:Xi,setPosition:Mn,getPosition:zr,get disableTextSelection(){return Ft},get enableTextSelection(){return ho},disableImageDrag:gl,enableImageDrag:_l,preventOutline:fo,restoreOutline:Yi,getSizedParentNode:Fr,getScale:pr};function vt(l,f,v,M){if(f&&typeof f=="object")for(var A in f)fc(l,A,f[A],v);else{f=w(f);for(var V=0,re=f.length;V<re;V++)fc(l,f[V],v,M)}return this}var In="_leaflet_events";function Yt(l,f,v,M){if(arguments.length===1)dc(l),delete l[In];else if(f&&typeof f=="object")for(var A in f)yl(l,A,f[A],v);else if(f=w(f),arguments.length===2)dc(l,function(_e){return F(f,_e)!==-1});else for(var V=0,re=f.length;V<re;V++)yl(l,f[V],v,M);return this}function dc(l,f){for(var v in l[In]){var M=v.split(/\d/)[0];(!f||f(M))&&yl(l,M,null,null,v)}}var Rs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function fc(l,f,v,M){var A=f+h(v)+(M?"_"+h(M):"");if(l[In]&&l[In][A])return this;var V=function(_e){return v.call(M||l,_e||window.event)},re=V;!ce.touchNative&&ce.pointer&&f.indexOf("touch")===0?V=kt(l,f,V):ce.touch&&f==="dblclick"?V=wi(l,V):"addEventListener"in l?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?l.addEventListener(Rs[f]||f,V,ce.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(V=function(_e){_e=_e||window.event,ya(l,_e)&&re(_e)},l.addEventListener(Rs[f],V,!1)):l.addEventListener(f,re,!1):l.attachEvent("on"+f,V),l[In]=l[In]||{},l[In][A]=V}function yl(l,f,v,M,A){A=A||f+h(v)+(M?"_"+h(M):"");var V=l[In]&&l[In][A];if(!V)return this;!ce.touchNative&&ce.pointer&&f.indexOf("touch")===0?It(l,f,V):ce.touch&&f==="dblclick"?pn(l,V):"removeEventListener"in l?l.removeEventListener(Rs[f]||f,V,!1):l.detachEvent("on"+f,V),l[In][A]=null}function mr(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function vl(l){return fc(l,"wheel",mr),this}function ga(l){return vt(l,"mousedown touchstart dblclick contextmenu",mr),l._leaflet_disable_click=!0,this}function yn(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function Ki(l){return yn(l),mr(l),this}function Is(l){if(l.composedPath)return l.composedPath();for(var f=[],v=l.target;v;)f.push(v),v=v.parentNode;return f}function _a(l,f){if(!f)return new K(l.clientX,l.clientY);var v=pr(f),M=v.boundingClientRect;return new K((l.clientX-M.left)/v.x-f.clientLeft,(l.clientY-M.top)/v.y-f.clientTop)}var Pm=ce.linux&&ce.chrome?window.devicePixelRatio:ce.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function _d(l){return ce.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/Pm:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function ya(l,f){var v=f.relatedTarget;if(!v)return!0;try{for(;v&&v!==l;)v=v.parentNode}catch{return!1}return v!==l}var xl={__proto__:null,on:vt,off:Yt,stopPropagation:mr,disableScrollPropagation:vl,disableClickPropagation:ga,preventDefault:yn,stop:Ki,getPropagationPath:Is,getMousePosition:_a,getWheelDelta:_d,isExternalTarget:ya,addListener:vt,removeListener:Yt},wl=ne.extend({run:function(l,f,v,M){this.stop(),this._el=l,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=zr(l),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(l){var f=+new Date-this._startTime,v=this._duration*1e3;f<v?this._runFrame(this._easeOut(f/v),l):(this._runFrame(1),this._complete())},_runFrame:function(l,f){var v=this._startPos.add(this._offset.multiplyBy(l));f&&v._round(),Mn(this._el,v),this.fire("step")},_complete:function(){J(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),Dt=ne.extend({options:{crs:Re,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,f){f=S(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(te(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ao&&ce.any3d&&!ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),vt(this._proxy,ha,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,f,v){if(f=f===void 0?this._zoom:this._limitZoom(f),l=this._limitCenter(te(l),f,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=r({animate:v.animate},v.zoom),v.pan=r({animate:v.animate,duration:v.duration},v.pan));var M=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,f,v.zoom):this._tryAnimatedPan(l,v.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(l,f,v.pan&&v.pan.noMoveStart),this},setZoom:function(l,f){return this._loaded?this.setView(this.getCenter(),l,{zoom:f}):(this._zoom=l,this)},zoomIn:function(l,f){return l=l||(ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,f)},zoomOut:function(l,f){return l=l||(ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,f)},setZoomAround:function(l,f,v){var M=this.getZoomScale(f),A=this.getSize().divideBy(2),V=l instanceof K?l:this.latLngToContainerPoint(l),re=V.subtract(A).multiplyBy(1-1/M),_e=this.containerPointToLatLng(A.add(re));return this.setView(_e,f,{zoom:v})},_getBoundsCenterZoom:function(l,f){f=f||{},l=l.getBounds?l.getBounds():me(l);var v=I(f.paddingTopLeft||f.padding||[0,0]),M=I(f.paddingBottomRight||f.padding||[0,0]),A=this.getBoundsZoom(l,!1,v.add(M));if(A=typeof f.maxZoom=="number"?Math.min(f.maxZoom,A):A,A===1/0)return{center:l.getCenter(),zoom:A};var V=M.subtract(v).divideBy(2),re=this.project(l.getSouthWest(),A),_e=this.project(l.getNorthEast(),A),Me=this.unproject(re.add(_e).divideBy(2).add(V),A);return{center:Me,zoom:A}},fitBounds:function(l,f){if(l=me(l),!l.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(l,f);return this.setView(v.center,v.zoom,f)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,f){return this.setView(l,this._zoom,{pan:f})},panBy:function(l,f){if(l=I(l).round(),f=f||{},!l.x&&!l.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new wl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){Mt(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,v,f.duration||.25,f.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,f,v){if(v=v||{},v.animate===!1||!ce.any3d)return this.setView(l,f,v);this._stop();var M=this.project(this.getCenter()),A=this.project(l),V=this.getSize(),re=this._zoom;l=te(l),f=f===void 0?re:f;var _e=Math.max(V.x,V.y),Me=_e*this.getZoomScale(re,f),Oe=A.distanceTo(M)||1,et=1.42,ft=et*et;function Tt(Gt){var Co=Gt?-1:1,jm=Gt?Me:_e,Wm=Me*Me-_e*_e+Co*ft*ft*Oe*Oe,Us=2*jm*ft*Oe,Hs=Wm/Us,Vs=Math.sqrt(Hs*Hs+1)-Hs,Nl=Vs<1e-9?-18:Math.log(Vs);return Nl}function Dn(Gt){return(Math.exp(Gt)-Math.exp(-Gt))/2}function An(Gt){return(Math.exp(Gt)+Math.exp(-Gt))/2}function Mi(Gt){return Dn(Gt)/An(Gt)}var oi=Tt(0);function To(Gt){return _e*(An(oi)/An(oi+et*Gt))}function Dc(Gt){return _e*(An(oi)*Mi(oi+et*Gt)-Dn(oi))/ft}function cs(Gt){return 1-Math.pow(1-Gt,1.5)}var Fd=Date.now(),Bs=(Tt(1)-oi)/et,vr=v.duration?1e3*v.duration:1e3*Bs*.8;function Lo(){var Gt=(Date.now()-Fd)/vr,Co=cs(Gt)*Bs;Gt<=1?(this._flyToFrame=H(Lo,this),this._move(this.unproject(M.add(A.subtract(M).multiplyBy(Dc(Co)/Oe)),re),this.getScaleZoom(_e/To(Co),re),{flyTo:!0})):this._move(l,f)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),Lo.call(this),this},flyToBounds:function(l,f){var v=this._getBoundsCenterZoom(l,f);return this.flyTo(v.center,v.zoom,f)},setMaxBounds:function(l){return l=me(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var f=this.options.minZoom;return this.options.minZoom=l,this._loaded&&f!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var f=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&f!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,f){this._enforcingBounds=!0;var v=this.getCenter(),M=this._limitCenter(v,this._zoom,me(l));return v.equals(M)||this.panTo(M,f),this._enforcingBounds=!1,this},panInside:function(l,f){f=f||{};var v=I(f.paddingTopLeft||f.padding||[0,0]),M=I(f.paddingBottomRight||f.padding||[0,0]),A=this.project(this.getCenter()),V=this.project(l),re=this.getPixelBounds(),_e=se([re.min.add(v),re.max.subtract(M)]),Me=_e.getSize();if(!_e.contains(V)){this._enforcingBounds=!0;var Oe=V.subtract(_e.getCenter()),et=_e.extend(V).getSize().subtract(Me);A.x+=Oe.x<0?-et.x:et.x,A.y+=Oe.y<0?-et.y:et.y,this.panTo(this.unproject(A),f),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=r({animate:!1,pan:!0},l===!0?{animate:!0}:l);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),M=f.divideBy(2).round(),A=v.divideBy(2).round(),V=M.subtract(A);return!V.x&&!V.y?this:(l.animate&&l.pan?this.panBy(V):(l.pan&&this._rawPanBy(V),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=r({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=o(this._handleGeolocationResponse,this),v=o(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,v,l):navigator.geolocation.getCurrentPosition(f,v,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var f=l.code,v=l.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var f=l.coords.latitude,v=l.coords.longitude,M=new ve(f,v),A=M.toBounds(l.coords.accuracy*2),V=this._locateOptions;if(V.setView){var re=this.getBoundsZoom(A);this.setView(M,V.maxZoom?Math.min(re,V.maxZoom):re)}var _e={latlng:M,bounds:A,timestamp:l.timestamp};for(var Me in l.coords)typeof l.coords[Me]=="number"&&(_e[Me]=l.coords[Me]);this.fire("locationfound",_e)}},addHandler:function(l,f){if(!f)return this;var v=this[l]=new f(this);return this._handlers.push(v),this.options[l]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),cn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(J(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)cn(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,f){var v="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),M=Et("div",v,f||this._mapPane);return l&&(this._panes[l]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),f=this.unproject(l.getBottomLeft()),v=this.unproject(l.getTopRight());return new D(f,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,f,v){l=me(l),v=I(v||[0,0]);var M=this.getZoom()||0,A=this.getMinZoom(),V=this.getMaxZoom(),re=l.getNorthWest(),_e=l.getSouthEast(),Me=this.getSize().subtract(v),Oe=se(this.project(_e,M),this.project(re,M)).getSize(),et=ce.any3d?this.options.zoomSnap:1,ft=Me.x/Oe.x,Tt=Me.y/Oe.y,Dn=f?Math.max(ft,Tt):Math.min(ft,Tt);return M=this.getScaleZoom(Dn,M),et&&(M=Math.round(M/(et/100))*(et/100),M=f?Math.ceil(M/et)*et:Math.floor(M/et)*et),Math.max(A,Math.min(V,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new K(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,f){var v=this._getTopLeftPoint(l,f);return new G(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,f){var v=this.options.crs;return f=f===void 0?this._zoom:f,v.scale(l)/v.scale(f)},getScaleZoom:function(l,f){var v=this.options.crs;f=f===void 0?this._zoom:f;var M=v.zoom(l*v.scale(f));return isNaN(M)?1/0:M},project:function(l,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(te(l),f)},unproject:function(l,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(I(l),f)},layerPointToLatLng:function(l){var f=I(l).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(l){var f=this.project(te(l))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(te(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(me(l))},distance:function(l,f){return this.options.crs.distance(te(l),te(f))},containerPointToLayerPoint:function(l){return I(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return I(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var f=this.containerPointToLayerPoint(I(l));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(te(l)))},mouseEventToContainerPoint:function(l){return _a(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var f=this._container=qi(l);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");vt(f,"scroll",this._onScroll,this),this._containerId=h(f)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&ce.any3d,Mt(l,"leaflet-container"+(ce.touch?" leaflet-touch":"")+(ce.retina?" leaflet-retina":"")+(ce.ielt9?" leaflet-oldie":"")+(ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=da(l,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Mn(this._mapPane,new K(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Mt(l.markerPane,"leaflet-zoom-hide"),Mt(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,f,v){Mn(this._mapPane,new K(0,0));var M=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var A=this._zoom!==f;this._moveStart(A,v)._move(l,f)._moveEnd(A),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(l,f){return l&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(l,f,v,M){f===void 0&&(f=this._zoom);var A=this._zoom!==f;return this._zoom=f,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),M?v&&v.pinch&&this.fire("zoom",v):((A||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return J(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){Mn(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[h(this._container)]=this;var f=l?Yt:vt;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),ce.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){J(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,f){for(var v=[],M,A=f==="mouseout"||f==="mouseover",V=l.target||l.srcElement,re=!1;V;){if(M=this._targets[h(V)],M&&(f==="click"||f==="preclick")&&this._draggableMoved(M)){re=!0;break}if(M&&M.listens(f,!0)&&(A&&!ya(V,l)||(v.push(M),A))||V===this._container)break;V=V.parentNode}return!v.length&&!re&&!A&&this.listens(f,!0)&&(v=[this]),v},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var f=l.target||l.srcElement;if(!(!this._loaded||f._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(f))){var v=l.type;v==="mousedown"&&fo(f),this._fireDOMEvent(l,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,f,v){if(l.type==="click"){var M=r({},l);M.type="preclick",this._fireDOMEvent(M,M.type,v)}var A=this._findEventTargets(l,f);if(v){for(var V=[],re=0;re<v.length;re++)v[re].listens(f,!0)&&V.push(v[re]);A=V.concat(A)}if(A.length){f==="contextmenu"&&yn(l);var _e=A[0],Me={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var Oe=_e.getLatLng&&(!_e._radius||_e._radius<=10);Me.containerPoint=Oe?this.latLngToContainerPoint(_e.getLatLng()):this.mouseEventToContainerPoint(l),Me.layerPoint=this.containerPointToLayerPoint(Me.containerPoint),Me.latlng=Oe?_e.getLatLng():this.layerPointToLatLng(Me.layerPoint)}for(re=0;re<A.length;re++)if(A[re].fire(f,Me,!0),Me.originalEvent._stopped||A[re].options.bubblingMouseEvents===!1&&F(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,f=this._handlers.length;l<f;l++)this._handlers[l].disable()},whenReady:function(l,f){return this._loaded?l.call(f||this,{target:this}):this.on("load",l,f),this},_getMapPanePos:function(){return zr(this._mapPane)||new K(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,f){var v=l&&f!==void 0?this._getNewPixelOrigin(l,f):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,f){var v=this.getSize()._divideBy(2);return this.project(l,f)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,f,v){var M=this._getNewPixelOrigin(v,f);return this.project(l,f)._subtract(M)},_latLngBoundsToNewLayerBounds:function(l,f,v){var M=this._getNewPixelOrigin(v,f);return se([this.project(l.getSouthWest(),f)._subtract(M),this.project(l.getNorthWest(),f)._subtract(M),this.project(l.getSouthEast(),f)._subtract(M),this.project(l.getNorthEast(),f)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,f,v){if(!v)return l;var M=this.project(l,f),A=this.getSize().divideBy(2),V=new G(M.subtract(A),M.add(A)),re=this._getBoundsOffset(V,v,f);return Math.abs(re.x)<=1&&Math.abs(re.y)<=1?l:this.unproject(M.add(re),f)},_limitOffset:function(l,f){if(!f)return l;var v=this.getPixelBounds(),M=new G(v.min.add(l),v.max.add(l));return l.add(this._getBoundsOffset(M,f))},_getBoundsOffset:function(l,f,v){var M=se(this.project(f.getNorthEast(),v),this.project(f.getSouthWest(),v)),A=M.min.subtract(l.min),V=M.max.subtract(l.max),re=this._rebound(A.x,-V.x),_e=this._rebound(A.y,-V.y);return new K(re,_e)},_rebound:function(l,f){return l+f>0?Math.round(l-f)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(f))},_limitZoom:function(l){var f=this.getMinZoom(),v=this.getMaxZoom(),M=ce.any3d?this.options.zoomSnap:1;return M&&(l=Math.round(l/M)*M),Math.max(f,Math.min(v,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){rn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,f){var v=this._getCenterOffset(l)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,f),!0)},_createAnimProxy:function(){var l=this._proxy=Et("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(f){var v=cc,M=this._proxy.style[v];Xi(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),M===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){cn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),f=this.getZoom();Xi(this._proxy,this.project(l,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,f,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(f),A=this._getCenterOffset(l)._divideBy(1-1/M);return v.animate!==!0&&!this.getSize().contains(A)?!1:(H(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(l,f,!0)},this),!0)},_animateZoom:function(l,f,v,M){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=f,Mt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:f,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&rn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function is(l,f){return new Dt(l,f)}var bi=ee.extend({options:{position:"topright"},initialize:function(l){S(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var f=this._map;return f&&f.removeControl(this),this.options.position=l,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var f=this._container=this.onAdd(l),v=this.getPosition(),M=l._controlCorners[v];return Mt(f,"leaflet-control"),v.indexOf("bottom")!==-1?M.insertBefore(f,M.firstChild):M.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(cn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),rs=function(l){return new bi(l)};Dt.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},f="leaflet-",v=this._controlContainer=Et("div",f+"control-container",this._container);function M(A,V){var re=f+A+" "+f+V;l[A+V]=Et("div",re,v)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)cn(this._controlCorners[l]);cn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var pc=bi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,f,v,M){return v<M?-1:M<v?1:0}},initialize:function(l,f,v){S(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in l)this._addLayer(l[M],M);for(M in f)this._addLayer(f[M],M,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return bi.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,f){return this._addLayer(l,f),this._map?this._update():this},addOverlay:function(l,f){return this._addLayer(l,f,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var f=this._getLayer(h(l));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){Mt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(Mt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):rn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return rn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",f=this._container=Et("div",l),v=this.options.collapsed;f.setAttribute("aria-haspopup",!0),ga(f),vl(f);var M=this._section=Et("section",l+"-list");v&&(this._map.on("click",this.collapse,this),vt(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var A=this._layersLink=Et("a",l+"-toggle",f);A.href="#",A.title="Layers",A.setAttribute("role","button"),vt(A,{keydown:function(V){V.keyCode===13&&this._expandSafely()},click:function(V){yn(V),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=Et("div",l+"-base",M),this._separator=Et("div",l+"-separator",M),this._overlaysList=Et("div",l+"-overlays",M),f.appendChild(M)},_getLayer:function(l){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&h(this._layers[f].layer)===l)return this._layers[f]},_addLayer:function(l,f,v){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:f,overlay:v}),this.options.sortLayers&&this._layers.sort(o(function(M,A){return this.options.sortFunction(M.layer,A.layer,M.name,A.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;fl(this._baseLayersList),fl(this._overlaysList),this._layerControlInputs=[];var l,f,v,M,A=0;for(v=0;v<this._layers.length;v++)M=this._layers[v],this._addItem(M),f=f||M.overlay,l=l||!M.overlay,A+=M.overlay?0:1;return this.options.hideSingleBase&&(l=l&&A>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=f&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var f=this._getLayer(h(l.target)),v=f.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;v&&this._map.fire(v,f)},_createRadioElement:function(l,f){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(f?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=v,M.firstChild},_addItem:function(l){var f=document.createElement("label"),v=this._map.hasLayer(l.layer),M;l.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=v):M=this._createRadioElement("leaflet-base-layers_"+h(this),v),this._layerControlInputs.push(M),M.layerId=h(l.layer),vt(M,"click",this._onInputClick,this);var A=document.createElement("span");A.innerHTML=" "+l.name;var V=document.createElement("span");f.appendChild(V),V.appendChild(M),V.appendChild(A);var re=l.overlay?this._overlaysList:this._baseLayersList;return re.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,f,v,M=[],A=[];this._handlingClick=!0;for(var V=l.length-1;V>=0;V--)f=l[V],v=this._getLayer(f.layerId).layer,f.checked?M.push(v):f.checked||A.push(v);for(V=0;V<A.length;V++)this._map.hasLayer(A[V])&&this._map.removeLayer(A[V]);for(V=0;V<M.length;V++)this._map.hasLayer(M[V])||this._map.addLayer(M[V]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,f,v,M=this._map.getZoom(),A=l.length-1;A>=0;A--)f=l[A],v=this._getLayer(f.layerId).layer,f.disabled=v.options.minZoom!==void 0&&M<v.options.minZoom||v.options.maxZoom!==void 0&&M>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,vt(l,"click",yn),this.expand();var f=this;setTimeout(function(){Yt(l,"click",yn),f._preventClick=!1})}}),bl=function(l,f,v){return new pc(l,f,v)},po=bi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var f="leaflet-control-zoom",v=Et("div",f+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,f+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,f+"-out",v,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,f,v,M,A){var V=Et("a",v,M);return V.innerHTML=l,V.href="#",V.title=f,V.setAttribute("role","button"),V.setAttribute("aria-label",f),ga(V),vt(V,"click",Ki),vt(V,"click",A,this),vt(V,"click",this._refocusOnMap,this),V},_updateDisabled:function(){var l=this._map,f="leaflet-disabled";rn(this._zoomInButton,f),rn(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(Mt(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(Mt(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});Dt.mergeOptions({zoomControl:!0}),Dt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new po,this.addControl(this.zoomControl))});var yd=function(l){return new po(l)},si=bi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var f="leaflet-control-scale",v=Et("div",f),M=this.options;return this._addScales(M,f+"-line",v),l.on(M.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),v},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,f,v){l.metric&&(this._mScale=Et("div",f,v)),l.imperial&&(this._iScale=Et("div",f,v))},_update:function(){var l=this._map,f=l.getSize().y/2,v=l.distance(l.containerPointToLatLng([0,f]),l.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(v)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var f=this._getRoundNum(l),v=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,v,f/l)},_updateImperial:function(l){var f=l*3.2808399,v,M,A;f>5280?(v=f/5280,M=this._getRoundNum(v),this._updateScale(this._iScale,M+" mi",M/v)):(A=this._getRoundNum(f),this._updateScale(this._iScale,A+" ft",A/f))},_updateScale:function(l,f,v){l.style.width=Math.round(this.options.maxWidth*v)+"px",l.innerHTML=f},_getRoundNum:function(l){var f=Math.pow(10,(Math.floor(l)+"").length-1),v=l/f;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,f*v}}),mo=function(l){return new si(l)},mc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ds=bi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ce.inlineSvg?mc+" ":"")+"Leaflet</a>"},initialize:function(l){S(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=Et("div","leaflet-control-attribution"),ga(this._container);for(var f in l._layers)l._layers[f].getAttribution&&this.addAttribution(l._layers[f].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var f in this._attributions)this._attributions[f]&&l.push(f);var v=[];this.options.prefix&&v.push(this.options.prefix),l.length&&v.push(l.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});Dt.mergeOptions({attributionControl:!0}),Dt.addInitHook(function(){this.options.attributionControl&&new Ds().addTo(this)});var Am=function(l){return new Ds(l)};bi.Layers=pc,bi.Zoom=po,bi.Scale=si,bi.Attribution=Ds,rs.layers=bl,rs.zoom=yd,rs.scale=mo,rs.attribution=Am;var Ai=ee.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ai.addTo=function(l,f){return l.addHandler(f,this),this};var gc={Events:ae},go=ce.touch?"touchstart mousedown":"mousedown",Ji=ne.extend({options:{clickTolerance:3},initialize:function(l,f,v,M){S(this,M),this._element=l,this._dragStartTarget=f||l,this._preventOutline=v},enable:function(){this._enabled||(vt(this._dragStartTarget,go,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ji._dragging===this&&this.finishDrag(!0),Yt(this._dragStartTarget,go,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!uo(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){Ji._dragging===this&&this.finishDrag();return}if(!(Ji._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(Ji._dragging=this,this._preventOutline&&fo(this._element),gl(),Ft(),!this._moving)){this.fire("down");var f=l.touches?l.touches[0]:l,v=Fr(this._element);this._startPoint=new K(f.clientX,f.clientY),this._startPos=zr(this._element),this._parentScale=pr(v);var M=l.type==="mousedown";vt(document,M?"mousemove":"touchmove",this._onMove,this),vt(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var f=l.touches&&l.touches.length===1?l.touches[0]:l,v=new K(f.clientX,f.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,yn(l),this._moved||(this.fire("dragstart"),this._moved=!0,Mt(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Mt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),Mn(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){rn(document.body,"leaflet-dragging"),this._lastTarget&&(rn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Yt(document,"mousemove touchmove",this._onMove,this),Yt(document,"mouseup touchend touchcancel",this._onUp,this),_l(),ho();var f=this._moved&&this._moving;this._moving=!1,Ji._dragging=!1,f&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function _c(l,f,v){var M,A=[1,4,2,8],V,re,_e,Me,Oe,et,ft,Tt;for(V=0,et=l.length;V<et;V++)l[V]._code=Ns(l[V],f);for(_e=0;_e<4;_e++){for(ft=A[_e],M=[],V=0,et=l.length,re=et-1;V<et;re=V++)Me=l[V],Oe=l[re],Me._code&ft?Oe._code&ft||(Tt=Ml(Oe,Me,ft,f,v),Tt._code=Ns(Tt,f),M.push(Tt)):(Oe._code&ft&&(Tt=Ml(Oe,Me,ft,f,v),Tt._code=Ns(Tt,f),M.push(Tt)),M.push(Me));l=M}return l}function vd(l,f){var v,M,A,V,re,_e,Me,Oe,et;if(!l||l.length===0)throw new Error("latlngs not passed");ki(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var ft=te([0,0]),Tt=me(l),Dn=Tt.getNorthWest().distanceTo(Tt.getSouthWest())*Tt.getNorthEast().distanceTo(Tt.getNorthWest());Dn<1700&&(ft=yc(l));var An=l.length,Mi=[];for(v=0;v<An;v++){var oi=te(l[v]);Mi.push(f.project(te([oi.lat-ft.lat,oi.lng-ft.lng])))}for(_e=Me=Oe=0,v=0,M=An-1;v<An;M=v++)A=Mi[v],V=Mi[M],re=A.y*V.x-V.y*A.x,Me+=(A.x+V.x)*re,Oe+=(A.y+V.y)*re,_e+=re*3;_e===0?et=Mi[0]:et=[Me/_e,Oe/_e];var To=f.unproject(I(et));return te([To.lat+ft.lat,To.lng+ft.lng])}function yc(l){for(var f=0,v=0,M=0,A=0;A<l.length;A++){var V=te(l[A]);f+=V.lat,v+=V.lng,M++}return te([f/M,v/M])}var km={__proto__:null,clipPolygon:_c,polygonCenter:vd,centroid:yc};function Sl(l,f){if(!f||!l.length)return l.slice();var v=f*f;return l=Dm(l,v),l=Im(l,v),l}function xd(l,f,v){return Math.sqrt(Os(l,f,v,!0))}function Rm(l,f,v){return Os(l,f,v)}function Im(l,f){var v=l.length,M=typeof Uint8Array<"u"?Uint8Array:Array,A=new M(v);A[0]=A[v-1]=1,vc(l,A,f,0,v-1);var V,re=[];for(V=0;V<v;V++)A[V]&&re.push(l[V]);return re}function vc(l,f,v,M,A){var V=0,re,_e,Me;for(_e=M+1;_e<=A-1;_e++)Me=Os(l[_e],l[M],l[A],!0),Me>V&&(re=_e,V=Me);V>v&&(f[re]=1,vc(l,f,v,M,re),vc(l,f,v,re,A))}function Dm(l,f){for(var v=[l[0]],M=1,A=0,V=l.length;M<V;M++)Nm(l[M],l[A])>f&&(v.push(l[M]),A=M);return A<V-1&&v.push(l[V-1]),v}var xc;function wd(l,f,v,M,A){var V=M?xc:Ns(l,v),re=Ns(f,v),_e,Me,Oe;for(xc=re;;){if(!(V|re))return[l,f];if(V&re)return!1;_e=V||re,Me=Ml(l,f,_e,v,A),Oe=Ns(Me,v),_e===V?(l=Me,V=Oe):(f=Me,re=Oe)}}function Ml(l,f,v,M,A){var V=f.x-l.x,re=f.y-l.y,_e=M.min,Me=M.max,Oe,et;return v&8?(Oe=l.x+V*(Me.y-l.y)/re,et=Me.y):v&4?(Oe=l.x+V*(_e.y-l.y)/re,et=_e.y):v&2?(Oe=Me.x,et=l.y+re*(Me.x-l.x)/V):v&1&&(Oe=_e.x,et=l.y+re*(_e.x-l.x)/V),new K(Oe,et,A)}function Ns(l,f){var v=0;return l.x<f.min.x?v|=1:l.x>f.max.x&&(v|=2),l.y<f.min.y?v|=4:l.y>f.max.y&&(v|=8),v}function Nm(l,f){var v=f.x-l.x,M=f.y-l.y;return v*v+M*M}function Os(l,f,v,M){var A=f.x,V=f.y,re=v.x-A,_e=v.y-V,Me=re*re+_e*_e,Oe;return Me>0&&(Oe=((l.x-A)*re+(l.y-V)*_e)/Me,Oe>1?(A=v.x,V=v.y):Oe>0&&(A+=re*Oe,V+=_e*Oe)),re=l.x-A,_e=l.y-V,M?re*re+_e*_e:new K(A,V)}function ki(l){return!k(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function bd(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ki(l)}function Sd(l,f){var v,M,A,V,re,_e,Me,Oe;if(!l||l.length===0)throw new Error("latlngs not passed");ki(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var et=te([0,0]),ft=me(l),Tt=ft.getNorthWest().distanceTo(ft.getSouthWest())*ft.getNorthEast().distanceTo(ft.getNorthWest());Tt<1700&&(et=yc(l));var Dn=l.length,An=[];for(v=0;v<Dn;v++){var Mi=te(l[v]);An.push(f.project(te([Mi.lat-et.lat,Mi.lng-et.lng])))}for(v=0,M=0;v<Dn-1;v++)M+=An[v].distanceTo(An[v+1])/2;if(M===0)Oe=An[0];else for(v=0,V=0;v<Dn-1;v++)if(re=An[v],_e=An[v+1],A=re.distanceTo(_e),V+=A,V>M){Me=(V-M)/A,Oe=[_e.x-Me*(_e.x-re.x),_e.y-Me*(_e.y-re.y)];break}var oi=f.unproject(I(Oe));return te([oi.lat+et.lat,oi.lng+et.lng])}var Md={__proto__:null,simplify:Sl,pointToSegmentDistance:xd,closestPointOnSegment:Rm,clipSegment:wd,_getEdgeIntersection:Ml,_getBitCode:Ns,_sqClosestPointOnSegment:Os,isFlat:ki,_flat:bd,polylineCenter:Sd},wc={project:function(l){return new K(l.lng,l.lat)},unproject:function(l){return new ve(l.y,l.x)},bounds:new G([-180,-90],[180,90])},bc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new G([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var f=Math.PI/180,v=this.R,M=l.lat*f,A=this.R_MINOR/v,V=Math.sqrt(1-A*A),re=V*Math.sin(M),_e=Math.tan(Math.PI/4-M/2)/Math.pow((1-re)/(1+re),V/2);return M=-v*Math.log(Math.max(_e,1e-10)),new K(l.lng*f*v,M)},unproject:function(l){for(var f=180/Math.PI,v=this.R,M=this.R_MINOR/v,A=Math.sqrt(1-M*M),V=Math.exp(-l.y/v),re=Math.PI/2-2*Math.atan(V),_e=0,Me=.1,Oe;_e<15&&Math.abs(Me)>1e-7;_e++)Oe=A*Math.sin(re),Oe=Math.pow((1-Oe)/(1+Oe),A/2),Me=Math.PI/2-2*Math.atan(V*Oe)-re,re+=Me;return new ve(re*f,l.x*f/v)}},Om={__proto__:null,LonLat:wc,Mercator:bc,SphericalMercator:ze},zm=r({},Pe,{code:"EPSG:3395",projection:bc,transformation:(function(){var l=.5/(Math.PI*bc.R);return be(l,.5,-l,.5)})()}),Ed=r({},Pe,{code:"EPSG:4326",projection:wc,transformation:be(1/180,1,-1/180,.5)}),Fm=r({},Ne,{projection:wc,transformation:be(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,f){var v=f.lng-l.lng,M=f.lat-l.lat;return Math.sqrt(v*v+M*M)},infinite:!0});Ne.Earth=Pe,Ne.EPSG3395=zm,Ne.EPSG3857=Re,Ne.EPSG900913=De,Ne.EPSG4326=Ed,Ne.Simple=Fm;var Qi=ne.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[h(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[h(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var f=l.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var v=this.getEvents();f.on(v,this),this.once("remove",function(){f.off(v,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});Dt.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var f=h(l);return this._layers[f]?this:(this._layers[f]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var f=h(l);return this._layers[f]?(this._loaded&&l.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return h(l)in this._layers},eachLayer:function(l,f){for(var v in this._layers)l.call(f,this._layers[v]);return this},_addLayers:function(l){l=l?k(l)?l:[l]:[];for(var f=0,v=l.length;f<v;f++)this.addLayer(l[f])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[h(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var f=h(l);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,f=-1/0,v=this._getZoomSpan();for(var M in this._zoomBoundLayers){var A=this._zoomBoundLayers[M].options;l=A.minZoom===void 0?l:Math.min(l,A.minZoom),f=A.maxZoom===void 0?f:Math.max(f,A.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=l===1/0?void 0:l,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ss=Qi.extend({initialize:function(l,f){S(this,f),this._layers={};var v,M;if(l)for(v=0,M=l.length;v<M;v++)this.addLayer(l[v])},addLayer:function(l){var f=this.getLayerId(l);return this._layers[f]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var f=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(l){var f=typeof l=="number"?l:this.getLayerId(l);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var f=Array.prototype.slice.call(arguments,1),v,M;for(v in this._layers)M=this._layers[v],M[l]&&M[l].apply(M,f);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,f){for(var v in this._layers)l.call(f,this._layers[v]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return h(l)}}),va=function(l,f){return new ss(l,f)},Br=ss.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),ss.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),ss.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new D;for(var f in this._layers){var v=this._layers[f];l.extend(v.getBounds?v.getBounds():v.getLatLng())}return l}}),Td=function(l,f){return new Br(l,f)},zs=ee.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){S(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,f){var v=this._getIconUrl(l);if(!v){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(v,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(M,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(l,f){var v=this.options,M=v[f+"Size"];typeof M=="number"&&(M=[M,M]);var A=I(M),V=I(f==="shadow"&&v.shadowAnchor||v.iconAnchor||A&&A.divideBy(2,!0));l.className="leaflet-marker-"+f+" "+(v.className||""),V&&(l.style.marginLeft=-V.x+"px",l.style.marginTop=-V.y+"px"),A&&(l.style.width=A.x+"px",l.style.height=A.y+"px")},_createImg:function(l,f){return f=f||document.createElement("img"),f.src=l,f},_getIconUrl:function(l){return ce.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function Ld(l){return new zs(l)}var _o=zs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof _o.imagePath!="string"&&(_o.imagePath=this._detectIconPath()),(this.options.imagePath||_o.imagePath)+zs.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var f=function(v,M,A){var V=M.exec(v);return V&&V[A]};return l=f(l,/^url\((['"])?(.+)\1\)$/,2),l&&f(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=Et("div","leaflet-default-icon-path",document.body),f=da(l,"background-image")||da(l,"backgroundImage");if(document.body.removeChild(l),f=this._stripUrl(f),f)return f;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),Sc=Ai.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new Ji(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Mt(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&rn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var f=this._marker,v=f._map,M=this._marker.options.autoPanSpeed,A=this._marker.options.autoPanPadding,V=zr(f._icon),re=v.getPixelBounds(),_e=v.getPixelOrigin(),Me=se(re.min._subtract(_e).add(A),re.max._subtract(_e).subtract(A));if(!Me.contains(V)){var Oe=I((Math.max(Me.max.x,V.x)-Me.max.x)/(re.max.x-Me.max.x)-(Math.min(Me.min.x,V.x)-Me.min.x)/(re.min.x-Me.min.x),(Math.max(Me.max.y,V.y)-Me.max.y)/(re.max.y-Me.max.y)-(Math.min(Me.min.y,V.y)-Me.min.y)/(re.min.y-Me.min.y)).multiplyBy(M);v.panBy(Oe,{animate:!1}),this._draggable._newPos._add(Oe),this._draggable._startPos._add(Oe),Mn(f._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=H(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(J(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,l)))},_onDrag:function(l){var f=this._marker,v=f._shadow,M=zr(f._icon),A=f._map.layerPointToLatLng(M);v&&Mn(v,M),f._latlng=A,l.latlng=A,l.oldLatLng=this._oldLatLng,f.fire("move",l).fire("drag",l)},_onDragEnd:function(l){J(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),Ur=Qi.extend({options:{icon:new _o,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,f){S(this,f),this._latlng=te(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var f=this._latlng;return this._latlng=te(l),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=l.icon.createIcon(this._icon),M=!1;v!==this._icon&&(this._icon&&this._removeIcon(),M=!0,l.title&&(v.title=l.title),v.tagName==="IMG"&&(v.alt=l.alt||"")),Mt(v,f),l.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&vt(v,"focus",this._panOnFocus,this);var A=l.icon.createShadow(this._shadow),V=!1;A!==this._shadow&&(this._removeShadow(),V=!0),A&&(Mt(A,f),A.alt=""),this._shadow=A,l.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),A&&V&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Yt(this._icon,"focus",this._panOnFocus,this),cn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&cn(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&Mn(this._icon,l),this._shadow&&Mn(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(Mt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Sc)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Sc(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&ri(this._icon,l),this._shadow&&ri(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var f=this.options.icon.options,v=f.iconSize?I(f.iconSize):I(0,0),M=f.iconAnchor?I(f.iconAnchor):I(0,0);l.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:v.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Bm(l,f){return new Ur(l,f)}var os=Qi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return S(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),El=os.extend({options:{fill:!0,radius:10},initialize:function(l,f){S(this,f),this._latlng=te(l),this._radius=this.options.radius},setLatLng:function(l){var f=this._latlng;return this._latlng=te(l),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var f=l&&l.radius||this._radius;return os.prototype.setStyle.call(this,l),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,f=this._radiusY||l,v=this._clickTolerance(),M=[l+v,f+v];this._pxBounds=new G(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Cd(l,f){return new El(l,f)}var Tl=El.extend({initialize:function(l,f,v){if(typeof f=="number"&&(f=r({},v,{radius:f})),S(this,f),this._latlng=te(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:os.prototype.setStyle,_project:function(){var l=this._latlng.lng,f=this._latlng.lat,v=this._map,M=v.options.crs;if(M.distance===Pe.distance){var A=Math.PI/180,V=this._mRadius/Pe.R/A,re=v.project([f+V,l]),_e=v.project([f-V,l]),Me=re.add(_e).divideBy(2),Oe=v.unproject(Me).lat,et=Math.acos((Math.cos(V*A)-Math.sin(f*A)*Math.sin(Oe*A))/(Math.cos(f*A)*Math.cos(Oe*A)))/A;(isNaN(et)||et===0)&&(et=V/Math.cos(Math.PI/180*f)),this._point=Me.subtract(v.getPixelOrigin()),this._radius=isNaN(et)?0:Me.x-v.project([Oe,l-et]).x,this._radiusY=Me.y-re.y}else{var ft=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(ft).x}this._updateBounds()}});function xa(l,f,v){return new Tl(l,f,v)}var Si=os.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,f){S(this,f),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var f=1/0,v=null,M=Os,A,V,re=0,_e=this._parts.length;re<_e;re++)for(var Me=this._parts[re],Oe=1,et=Me.length;Oe<et;Oe++){A=Me[Oe-1],V=Me[Oe];var ft=M(l,A,V,!0);ft<f&&(f=ft,v=M(l,A,V))}return v&&(v.distance=Math.sqrt(f)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Sd(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,f){return f=f||this._defaultShape(),l=te(l),f.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new D,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return ki(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var f=[],v=ki(l),M=0,A=l.length;M<A;M++)v?(f[M]=te(l[M]),this._bounds.extend(f[M])):f[M]=this._convertLatLngs(l[M]);return f},_project:function(){var l=new G;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),f=new K(l,l);this._rawPxBounds&&(this._pxBounds=new G([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(l,f,v){var M=l[0]instanceof ve,A=l.length,V,re;if(M){for(re=[],V=0;V<A;V++)re[V]=this._map.latLngToLayerPoint(l[V]),v.extend(re[V]);f.push(re)}else for(V=0;V<A;V++)this._projectLatlngs(l[V],f,v)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,v,M,A,V,re,_e,Me;for(v=0,A=0,V=this._rings.length;v<V;v++)for(Me=this._rings[v],M=0,re=Me.length;M<re-1;M++)_e=wd(Me[M],Me[M+1],l,M,!0),_e&&(f[A]=f[A]||[],f[A].push(_e[0]),(_e[1]!==Me[M+1]||M===re-2)&&(f[A].push(_e[1]),A++))}},_simplifyPoints:function(){for(var l=this._parts,f=this.options.smoothFactor,v=0,M=l.length;v<M;v++)l[v]=Sl(l[v],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,f){var v,M,A,V,re,_e,Me=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(v=0,V=this._parts.length;v<V;v++)for(_e=this._parts[v],M=0,re=_e.length,A=re-1;M<re;A=M++)if(!(!f&&M===0)&&xd(l,_e[A],_e[M])<=Me)return!0;return!1}});function Um(l,f){return new Si(l,f)}Si._flat=bd;var Hr=Si.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var f=Si.prototype._convertLatLngs.call(this,l),v=f.length;return v>=2&&f[0]instanceof ve&&f[0].equals(f[v-1])&&f.pop(),f},_setLatLngs:function(l){Si.prototype._setLatLngs.call(this,l),ki(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ki(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,f=this.options.weight,v=new K(f,f);if(l=new G(l.min.subtract(v),l.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,A=this._rings.length,V;M<A;M++)V=_c(this._rings[M],l,!0),V.length&&this._parts.push(V)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var f=!1,v,M,A,V,re,_e,Me,Oe;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(V=0,Me=this._parts.length;V<Me;V++)for(v=this._parts[V],re=0,Oe=v.length,_e=Oe-1;re<Oe;_e=re++)M=v[re],A=v[_e],M.y>l.y!=A.y>l.y&&l.x<(A.x-M.x)*(l.y-M.y)/(A.y-M.y)+M.x&&(f=!f);return f||Si.prototype._containsPoint.call(this,l,!0)}});function Hm(l,f){return new Hr(l,f)}var gr=Br.extend({initialize:function(l,f){S(this,f),this._layers={},l&&this.addData(l)},addData:function(l){var f=k(l)?l:l.features,v,M,A;if(f){for(v=0,M=f.length;v<M;v++)A=f[v],(A.geometries||A.geometry||A.features||A.coordinates)&&this.addData(A);return this}var V=this.options;if(V.filter&&!V.filter(l))return this;var re=yo(l,V);return re?(re.feature=kl(l),re.defaultOptions=re.options,this.resetStyle(re),V.onEachFeature&&V.onEachFeature(l,re),this.addLayer(re)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=r({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(f){this._setLayerStyle(f,l)},this)},_setLayerStyle:function(l,f){l.setStyle&&(typeof f=="function"&&(f=f(l.feature)),l.setStyle(f))}});function yo(l,f){var v=l.type==="Feature"?l.geometry:l,M=v?v.coordinates:null,A=[],V=f&&f.pointToLayer,re=f&&f.coordsToLatLng||Cl,_e,Me,Oe,et;if(!M&&!v)return null;switch(v.type){case"Point":return _e=re(M),Ll(V,l,_e,f);case"MultiPoint":for(Oe=0,et=M.length;Oe<et;Oe++)_e=re(M[Oe]),A.push(Ll(V,l,_e,f));return new Br(A);case"LineString":case"MultiLineString":return Me=wa(M,v.type==="LineString"?0:1,re),new Si(Me,f);case"Polygon":case"MultiPolygon":return Me=wa(M,v.type==="Polygon"?1:2,re),new Hr(Me,f);case"GeometryCollection":for(Oe=0,et=v.geometries.length;Oe<et;Oe++){var ft=yo({geometry:v.geometries[Oe],type:"Feature",properties:l.properties},f);ft&&A.push(ft)}return new Br(A);case"FeatureCollection":for(Oe=0,et=v.features.length;Oe<et;Oe++){var Tt=yo(v.features[Oe],f);Tt&&A.push(Tt)}return new Br(A);default:throw new Error("Invalid GeoJSON object.")}}function Ll(l,f,v,M){return l?l(f,v):new Ur(v,M&&M.markersInheritOptions&&M)}function Cl(l){return new ve(l[1],l[0],l[2])}function wa(l,f,v){for(var M=[],A=0,V=l.length,re;A<V;A++)re=f?wa(l[A],f-1,v):(v||Cl)(l[A]),M.push(re);return M}function Pl(l,f){return l=te(l),l.alt!==void 0?[_(l.lng,f),_(l.lat,f),_(l.alt,f)]:[_(l.lng,f),_(l.lat,f)]}function Al(l,f,v,M){for(var A=[],V=0,re=l.length;V<re;V++)A.push(f?Al(l[V],ki(l[V])?0:f-1,v,M):Pl(l[V],M));return!f&&v&&A.length>0&&A.push(A[0].slice()),A}function vo(l,f){return l.feature?r({},l.feature,{geometry:f}):kl(f)}function kl(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var Mc={toGeoJSON:function(l){return vo(this,{type:"Point",coordinates:Pl(this.getLatLng(),l)})}};Ur.include(Mc),Tl.include(Mc),El.include(Mc),Si.include({toGeoJSON:function(l){var f=!ki(this._latlngs),v=Al(this._latlngs,f?1:0,!1,l);return vo(this,{type:(f?"Multi":"")+"LineString",coordinates:v})}}),Hr.include({toGeoJSON:function(l){var f=!ki(this._latlngs),v=f&&!ki(this._latlngs[0]),M=Al(this._latlngs,v?2:f?1:0,!0,l);return f||(M=[M]),vo(this,{type:(v?"Multi":"")+"Polygon",coordinates:M})}}),ss.include({toMultiPoint:function(l){var f=[];return this.eachLayer(function(v){f.push(v.toGeoJSON(l).geometry.coordinates)}),vo(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(l){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(l);var v=f==="GeometryCollection",M=[];return this.eachLayer(function(A){if(A.toGeoJSON){var V=A.toGeoJSON(l);if(v)M.push(V.geometry);else{var re=kl(V);re.type==="FeatureCollection"?M.push.apply(M,re.features):M.push(re)}}}),v?vo(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function Pd(l,f){return new gr(l,f)}var er=Pd,as=Qi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,f,v){this._url=l,this._bounds=me(f),S(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Mt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){cn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&lo(this._image),this},bringToBack:function(){return this._map&&Or(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=me(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",f=this._image=l?this._url:Et("img");if(Mt(f,"leaflet-image-layer"),this._zoomAnimated&&Mt(f,"leaflet-zoom-animated"),this.options.className&&Mt(f,this.options.className),f.onselectstart=g,f.onmousemove=g,f.onload=o(this.fire,this,"load"),f.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(l){var f=this._map.getZoomScale(l.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;Xi(this._image,v,f)},_reset:function(){var l=this._image,f=new G(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=f.getSize();Mn(l,f.min),l.style.width=v.x+"px",l.style.height=v.y+"px"},_updateOpacity:function(){ri(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),Ad=function(l,f,v){return new as(l,f,v)},Ec=as.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",f=this._image=l?this._url:Et("video");if(Mt(f,"leaflet-image-layer"),this._zoomAnimated&&Mt(f,"leaflet-zoom-animated"),this.options.className&&Mt(f,this.options.className),f.onselectstart=g,f.onmousemove=g,f.onloadeddata=o(this.fire,this,"load"),l){for(var v=f.getElementsByTagName("source"),M=[],A=0;A<v.length;A++)M.push(v[A].src);this._url=v.length>0?M:[f.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var V=0;V<this._url.length;V++){var re=Et("source");re.src=this._url[V],f.appendChild(re)}}});function kd(l,f,v){return new Ec(l,f,v)}var Tc=as.extend({_initImage:function(){var l=this._image=this._url;Mt(l,"leaflet-image-layer"),this._zoomAnimated&&Mt(l,"leaflet-zoom-animated"),this.options.className&&Mt(l,this.options.className),l.onselectstart=g,l.onmousemove=g}});function Lc(l,f,v){return new Tc(l,f,v)}var _r=Qi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,f){l&&(l instanceof ve||k(l))?(this._latlng=te(l),S(this,f)):(S(this,l),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&ri(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&ri(this._container,1),this.bringToFront(),this.options.interactive&&(Mt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(ri(this._container,0),this._removeTimeout=setTimeout(o(cn,void 0,this._container),200)):cn(this._container),this.options.interactive&&(rn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=te(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&lo(this._container),this},bringToBack:function(){return this._map&&Or(this._container),this},_prepareOpen:function(l){var f=this._source;if(!f._map)return!1;if(f instanceof Br){f=null;var v=this._source._layers;for(var M in v)if(v[M]._map){f=v[M];break}if(!f)return!1;this._source=f}if(!l)if(f.getCenter)l=f.getCenter();else if(f.getLatLng)l=f.getLatLng();else if(f.getBounds)l=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")l.innerHTML=f;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),f=I(this.options.offset),v=this._getAnchor();this._zoomAnimated?Mn(this._container,l.add(v)):f=f.add(l).add(v);var M=this._containerBottom=-f.y,A=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=M+"px",this._container.style.left=A+"px"}},_getAnchor:function(){return[0,0]}});Dt.include({_initOverlay:function(l,f,v,M){var A=f;return A instanceof l||(A=new l(M).setContent(f)),v&&A.setLatLng(v),A}}),Qi.include({_initOverlay:function(l,f,v,M){var A=v;return A instanceof l?(S(A,M),A._source=this):(A=f&&!M?f:new l(M,this),A.setContent(v)),A}});var Rl=_r.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,_r.prototype.openOn.call(this,l)},onAdd:function(l){_r.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof os||this._source.on("preclick",mr))},onRemove:function(l){_r.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof os||this._source.off("preclick",mr))},getEvents:function(){var l=_r.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",f=this._container=Et("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=Et("div",l+"-content-wrapper",f);if(this._contentNode=Et("div",l+"-content",v),ga(f),vl(this._contentNode),vt(f,"contextmenu",mr),this._tipContainer=Et("div",l+"-tip-container",f),this._tip=Et("div",l+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=Et("a",l+"-close-button",f);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',vt(M,"click",function(A){yn(A),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,f=l.style;f.width="",f.whiteSpace="nowrap";var v=l.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),f.width=v+1+"px",f.whiteSpace="",f.height="";var M=l.offsetHeight,A=this.options.maxHeight,V="leaflet-popup-scrolled";A&&M>A?(f.height=A+"px",Mt(l,V)):rn(l,V),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),v=this._getAnchor();Mn(this._container,f.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,f=parseInt(da(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+f,M=this._containerWidth,A=new K(this._containerLeft,-v-this._containerBottom);A._add(zr(this._container));var V=l.layerPointToContainerPoint(A),re=I(this.options.autoPanPadding),_e=I(this.options.autoPanPaddingTopLeft||re),Me=I(this.options.autoPanPaddingBottomRight||re),Oe=l.getSize(),et=0,ft=0;V.x+M+Me.x>Oe.x&&(et=V.x+M-Oe.x+Me.x),V.x-et-_e.x<0&&(et=V.x-_e.x),V.y+v+Me.y>Oe.y&&(ft=V.y+v-Oe.y+Me.y),V.y-ft-_e.y<0&&(ft=V.y-_e.y),(et||ft)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([et,ft]))}},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xo=function(l,f){return new Rl(l,f)};Dt.mergeOptions({closePopupOnClick:!0}),Dt.include({openPopup:function(l,f,v){return this._initOverlay(Rl,l,f,v).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),Qi.include({bindPopup:function(l,f){return this._popup=this._initOverlay(Rl,this._popup,l,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof Br||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){Ki(l);var f=l.layer||l.target;if(this._popup._source===f&&!(f instanceof os)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=f,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var wo=_r.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){_r.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){_r.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=_r.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",f=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Et("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var f,v,M=this._map,A=this._container,V=M.latLngToContainerPoint(M.getCenter()),re=M.layerPointToContainerPoint(l),_e=this.options.direction,Me=A.offsetWidth,Oe=A.offsetHeight,et=I(this.options.offset),ft=this._getAnchor();_e==="top"?(f=Me/2,v=Oe):_e==="bottom"?(f=Me/2,v=0):_e==="center"?(f=Me/2,v=Oe/2):_e==="right"?(f=0,v=Oe/2):_e==="left"?(f=Me,v=Oe/2):re.x<V.x?(_e="right",f=0,v=Oe/2):(_e="left",f=Me+(et.x+ft.x)*2,v=Oe/2),l=l.subtract(I(f,v,!0)).add(et).add(ft),rn(A,"leaflet-tooltip-right"),rn(A,"leaflet-tooltip-left"),rn(A,"leaflet-tooltip-top"),rn(A,"leaflet-tooltip-bottom"),Mt(A,"leaflet-tooltip-"+_e),Mn(A,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&ri(this._container,l)},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(f)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ba=function(l,f){return new wo(l,f)};Dt.include({openTooltip:function(l,f,v){return this._initOverlay(wo,l,f,v).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),Qi.include({bindTooltip:function(l,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(wo,this._tooltip,l,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var f=l?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[f](v),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof Br||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var f=typeof l.getElement=="function"&&l.getElement();f&&(vt(f,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),vt(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var f=typeof l.getElement=="function"&&l.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var f=l.latlng,v,M;this._tooltip.options.sticky&&l.originalEvent&&(v=this._map.mouseEventToContainerPoint(l.originalEvent),M=this._map.containerPointToLayerPoint(v),f=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(f)}});var Il=zs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var f=l&&l.tagName==="DIV"?l:document.createElement("div"),v=this.options;if(v.html instanceof Element?(fl(f),f.appendChild(v.html)):f.innerHTML=v.html!==!1?v.html:"",v.bgPos){var M=I(v.bgPos);f.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function Rd(l){return new Il(l)}zs.Default=_o;var ls=Qi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){S(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),cn(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(lo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Or(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof K?l:new K(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var f=this.getPane().children,v=-l(-1/0,1/0),M=0,A=f.length,V;M<A;M++)V=f[M].style.zIndex,f[M]!==this._container&&V&&(v=l(v,+V));isFinite(v)&&(this.options.zIndex=v+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ce.ielt9){ri(this._container,this.options.opacity);var l=+new Date,f=!1,v=!1;for(var M in this._tiles){var A=this._tiles[M];if(!(!A.current||!A.loaded)){var V=Math.min(1,(l-A.loaded)/200);ri(A.el,V),V<1?f=!0:(A.active?v=!0:this._onOpaqueTile(A),A.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),f&&(J(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=Et("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,f=this.options.maxZoom;if(l!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===l?(this._levels[v].el.style.zIndex=f-Math.abs(l-v),this._onUpdateLevel(v)):(cn(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var M=this._levels[l],A=this._map;return M||(M=this._levels[l]={},M.el=Et("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=f,M.origin=A.project(A.unproject(A.getPixelOrigin()),l).round(),M.zoom=l,this._setZoomTransform(M,A.getCenter(),A.getZoom()),g(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var l,f,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)f=this._tiles[l],f.retain=f.current;for(l in this._tiles)if(f=this._tiles[l],f.current&&!f.active){var M=f.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var f in this._tiles)this._tiles[f].coords.z===l&&this._removeTile(f)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)cn(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,f,v,M){var A=Math.floor(l/2),V=Math.floor(f/2),re=v-1,_e=new K(+A,+V);_e.z=+re;var Me=this._tileCoordsToKey(_e),Oe=this._tiles[Me];return Oe&&Oe.active?(Oe.retain=!0,!0):(Oe&&Oe.loaded&&(Oe.retain=!0),re>M?this._retainParent(A,V,re,M):!1)},_retainChildren:function(l,f,v,M){for(var A=2*l;A<2*l+2;A++)for(var V=2*f;V<2*f+2;V++){var re=new K(A,V);re.z=v+1;var _e=this._tileCoordsToKey(re),Me=this._tiles[_e];if(Me&&Me.active){Me.retain=!0;continue}else Me&&Me.loaded&&(Me.retain=!0);v+1<M&&this._retainChildren(A,V,v+1,M)}},_resetView:function(l){var f=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var f=this.options;return f.minNativeZoom!==void 0&&l<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<l?f.maxNativeZoom:l},_setView:function(l,f,v,M){var A=Math.round(f);this.options.maxZoom!==void 0&&A>this.options.maxZoom||this.options.minZoom!==void 0&&A<this.options.minZoom?A=void 0:A=this._clampZoom(A);var V=this.options.updateWhenZooming&&A!==this._tileZoom;(!M||V)&&(this._tileZoom=A,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),A!==void 0&&this._update(l),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(l,f)},_setZoomTransforms:function(l,f){for(var v in this._levels)this._setZoomTransform(this._levels[v],l,f)},_setZoomTransform:function(l,f,v){var M=this._map.getZoomScale(v,l.zoom),A=l.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(f,v)).round();ce.any3d?Xi(l.el,A,M):Mn(l.el,A)},_resetGrid:function(){var l=this._map,f=l.options.crs,v=this._tileSize=this.getTileSize(),M=this._tileZoom,A=this._map.getPixelWorldBounds(this._tileZoom);A&&(this._globalTileRange=this._pxBoundsToTileRange(A)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,f.wrapLng[0]],M).x/v.x),Math.ceil(l.project([0,f.wrapLng[1]],M).x/v.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([f.wrapLat[0],0],M).y/v.x),Math.ceil(l.project([f.wrapLat[1],0],M).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var f=this._map,v=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),M=f.getZoomScale(v,this._tileZoom),A=f.project(l,this._tileZoom).floor(),V=f.getSize().divideBy(M*2);return new G(A.subtract(V),A.add(V))},_update:function(l){var f=this._map;if(f){var v=this._clampZoom(f.getZoom());if(l===void 0&&(l=f.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(l),A=this._pxBoundsToTileRange(M),V=A.getCenter(),re=[],_e=this.options.keepBuffer,Me=new G(A.getBottomLeft().subtract([_e,-_e]),A.getTopRight().add([_e,-_e]));if(!(isFinite(A.min.x)&&isFinite(A.min.y)&&isFinite(A.max.x)&&isFinite(A.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Oe in this._tiles){var et=this._tiles[Oe].coords;(et.z!==this._tileZoom||!Me.contains(new K(et.x,et.y)))&&(this._tiles[Oe].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(l,v);return}for(var ft=A.min.y;ft<=A.max.y;ft++)for(var Tt=A.min.x;Tt<=A.max.x;Tt++){var Dn=new K(Tt,ft);if(Dn.z=this._tileZoom,!!this._isValidTile(Dn)){var An=this._tiles[this._tileCoordsToKey(Dn)];An?An.current=!0:re.push(Dn)}}if(re.sort(function(oi,To){return oi.distanceTo(V)-To.distanceTo(V)}),re.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Mi=document.createDocumentFragment();for(Tt=0;Tt<re.length;Tt++)this._addTile(re[Tt],Mi);this._level.el.appendChild(Mi)}}}},_isValidTile:function(l){var f=this._map.options.crs;if(!f.infinite){var v=this._globalTileRange;if(!f.wrapLng&&(l.x<v.min.x||l.x>v.max.x)||!f.wrapLat&&(l.y<v.min.y||l.y>v.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(l);return me(this.options.bounds).overlaps(M)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var f=this._map,v=this.getTileSize(),M=l.scaleBy(v),A=M.add(v),V=f.unproject(M,l.z),re=f.unproject(A,l.z);return[V,re]},_tileCoordsToBounds:function(l){var f=this._tileCoordsToNwSe(l),v=new D(f[0],f[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var f=l.split(":"),v=new K(+f[0],+f[1]);return v.z=+f[2],v},_removeTile:function(l){var f=this._tiles[l];f&&(cn(f.el),delete this._tiles[l],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){Mt(l,"leaflet-tile");var f=this.getTileSize();l.style.width=f.x+"px",l.style.height=f.y+"px",l.onselectstart=g,l.onmousemove=g,ce.ielt9&&this.options.opacity<1&&ri(l,this.options.opacity)},_addTile:function(l,f){var v=this._getTilePos(l),M=this._tileCoordsToKey(l),A=this.createTile(this._wrapCoords(l),o(this._tileReady,this,l));this._initTile(A),this.createTile.length<2&&H(o(this._tileReady,this,l,null,A)),Mn(A,v),this._tiles[M]={el:A,coords:l,current:!0},f.appendChild(A),this.fire("tileloadstart",{tile:A,coords:l})},_tileReady:function(l,f,v){f&&this.fire("tileerror",{error:f,tile:v,coords:l});var M=this._tileCoordsToKey(l);v=this._tiles[M],v&&(v.loaded=+new Date,this._map._fadeAnimated?(ri(v.el,0),J(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),f||(Mt(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ce.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var f=new K(this._wrapX?p(l.x,this._wrapX):l.x,this._wrapY?p(l.y,this._wrapY):l.y);return f.z=l.z,f},_pxBoundsToTileRange:function(l){var f=this.getTileSize();return new G(l.min.unscaleBy(f).floor(),l.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function bo(l){return new ls(l)}var us=ls.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,f){this._url=l,f=S(this,f),f.detectRetina&&ce.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,f){return this._url===l&&f===void 0&&(f=!0),this._url=l,f||this.redraw(),this},createTile:function(l,f){var v=document.createElement("img");return vt(v,"load",o(this._tileOnLoad,this,f,v)),vt(v,"error",o(this._tileOnError,this,f,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(l),v},getTileUrl:function(l){var f={r:ce.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-l.y;this.options.tms&&(f.y=v),f["-y"]=v}return T(this._url,r(f,this.options))},_tileOnLoad:function(l,f){ce.ielt9?setTimeout(o(l,this,null,f),0):l(null,f)},_tileOnError:function(l,f,v){var M=this.options.errorTileUrl;M&&f.getAttribute("src")!==M&&(f.src=M),l(v,f)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,f=this.options.maxZoom,v=this.options.zoomReverse,M=this.options.zoomOffset;return v&&(l=f-l),l+M},_getSubdomain:function(l){var f=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var l,f;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(f=this._tiles[l].el,f.onload=g,f.onerror=g,!f.complete)){f.src=R;var v=this._tiles[l].coords;cn(f),delete this._tiles[l],this.fire("tileabort",{tile:f,coords:v})}},_removeTile:function(l){var f=this._tiles[l];if(f)return f.el.setAttribute("src",R),ls.prototype._removeTile.call(this,l)},_tileReady:function(l,f,v){if(!(!this._map||v&&v.getAttribute("src")===R))return ls.prototype._tileReady.call(this,l,f,v)}});function Cc(l,f){return new us(l,f)}var Sa=us.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,f){this._url=l;var v=r({},this.defaultWmsParams);for(var M in f)M in this.options||(v[M]=f[M]);f=S(this,f);var A=f.detectRetina&&ce.retina?2:1,V=this.getTileSize();v.width=V.x*A,v.height=V.y*A,this.wmsParams=v},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,us.prototype.onAdd.call(this,l)},getTileUrl:function(l){var f=this._tileCoordsToNwSe(l),v=this._crs,M=se(v.project(f[0]),v.project(f[1])),A=M.min,V=M.max,re=(this._wmsVersion>=1.3&&this._crs===Ed?[A.y,A.x,V.y,V.x]:[A.x,A.y,V.x,V.y]).join(","),_e=us.prototype.getTileUrl.call(this,l);return _e+C(this.wmsParams,_e,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+re},setParams:function(l,f){return r(this.wmsParams,l),f||this.redraw(),this}});function Id(l,f){return new Sa(l,f)}us.WMS=Sa,Cc.wms=Id;var yr=Qi.extend({options:{padding:.1},initialize:function(l){S(this,l),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Mt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,f){var v=this._map.getZoomScale(f,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),A=this._map.project(this._center,f),V=M.multiplyBy(-v).add(A).subtract(this._map._getNewPixelOrigin(l,f));ce.any3d?Xi(this._container,V,v):Mn(this._container,V)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,f=this._map.getSize(),v=this._map.containerPointToLayerPoint(f.multiplyBy(-l)).round();this._bounds=new G(v,v.add(f.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Pc=yr.extend({options:{tolerance:0},getEvents:function(){var l=yr.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){yr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");vt(l,"mousemove",this._onMouseMove,this),vt(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),vt(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){J(this._redrawRequest),delete this._ctx,cn(this._container),Yt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var f in this._layers)l=this._layers[f],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yr.prototype._update.call(this);var l=this._bounds,f=this._container,v=l.getSize(),M=ce.retina?2:1;Mn(f,l.min),f.width=M*v.x,f.height=M*v.y,f.style.width=v.x+"px",f.style.height=v.y+"px",ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){yr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[h(l)]=l;var f=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var f=l._order,v=f.next,M=f.prev;v?v.prev=M:this._drawLast=M,M?M.next=v:this._drawFirst=v,delete l._order,delete this._layers[h(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var f=l.options.dashArray.split(/[, ]+/),v=[],M,A;for(A=0;A<f.length;A++){if(M=Number(f[A]),isNaN(M))return;v.push(M)}l.options._dashArray=v}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var f=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new G,this._redrawBounds.extend(l._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(l._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var f=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,f=this._redrawBounds;if(this._ctx.save(),f){var v=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)l=M.layer,(!f||l._pxBounds&&l._pxBounds.intersects(f))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,f){if(this._drawing){var v,M,A,V,re=l._parts,_e=re.length,Me=this._ctx;if(_e){for(Me.beginPath(),v=0;v<_e;v++){for(M=0,A=re[v].length;M<A;M++)V=re[v][M],Me[M?"lineTo":"moveTo"](V.x,V.y);f&&Me.closePath()}this._fillStroke(Me,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var f=l._point,v=this._ctx,M=Math.max(Math.round(l._radius),1),A=(Math.max(Math.round(l._radiusY),1)||M)/M;A!==1&&(v.save(),v.scale(1,A)),v.beginPath(),v.arc(f.x,f.y/A,M,0,Math.PI*2,!1),A!==1&&v.restore(),this._fillStroke(v,l)}},_fillStroke:function(l,f){var v=f.options;v.fill&&(l.globalAlpha=v.fillOpacity,l.fillStyle=v.fillColor||v.color,l.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(l.setLineDash&&l.setLineDash(f.options&&f.options._dashArray||[]),l.globalAlpha=v.opacity,l.lineWidth=v.weight,l.strokeStyle=v.color,l.lineCap=v.lineCap,l.lineJoin=v.lineJoin,l.stroke())},_onClick:function(l){for(var f=this._map.mouseEventToLayerPoint(l),v,M,A=this._drawFirst;A;A=A.next)v=A.layer,v.options.interactive&&v._containsPoint(f)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(v))&&(M=v);this._fireEvent(M?[M]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,f)}},_handleMouseOut:function(l){var f=this._hoveredLayer;f&&(rn(this._container,"leaflet-interactive"),this._fireEvent([f],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,f){if(!this._mouseHoverThrottled){for(var v,M,A=this._drawFirst;A;A=A.next)v=A.layer,v.options.interactive&&v._containsPoint(f)&&(M=v);M!==this._hoveredLayer&&(this._handleMouseOut(l),M&&(Mt(this._container,"leaflet-interactive"),this._fireEvent([M],l,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,f,v){this._map._fireDOMEvent(f,v||f.type,l)},_bringToFront:function(l){var f=l._order;if(f){var v=f.next,M=f.prev;if(v)v.prev=M;else return;M?M.next=v:v&&(this._drawFirst=v),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(l)}},_bringToBack:function(l){var f=l._order;if(f){var v=f.next,M=f.prev;if(M)M.next=v;else return;v?v.prev=M:M&&(this._drawLast=M),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(l)}}});function Ac(l){return ce.canvas?new Pc(l):null}var So=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Dd={_initContainer:function(){this._container=Et("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(yr.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var f=l._container=So("shape");Mt(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",l._path=So("path"),f.appendChild(l._path),this._updateStyle(l),this._layers[h(l)]=l},_addPath:function(l){var f=l._container;this._container.appendChild(f),l.options.interactive&&l.addInteractiveTarget(f)},_removePath:function(l){var f=l._container;cn(f),l.removeInteractiveTarget(f),delete this._layers[h(l)]},_updateStyle:function(l){var f=l._stroke,v=l._fill,M=l.options,A=l._container;A.stroked=!!M.stroke,A.filled=!!M.fill,M.stroke?(f||(f=l._stroke=So("stroke")),A.appendChild(f),f.weight=M.weight+"px",f.color=M.color,f.opacity=M.opacity,M.dashArray?f.dashStyle=k(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=M.lineCap.replace("butt","flat"),f.joinstyle=M.lineJoin):f&&(A.removeChild(f),l._stroke=null),M.fill?(v||(v=l._fill=So("fill")),A.appendChild(v),v.color=M.fillColor||M.color,v.opacity=M.fillOpacity):v&&(A.removeChild(v),l._fill=null)},_updateCircle:function(l){var f=l._point.round(),v=Math.round(l._radius),M=Math.round(l._radiusY||v);this._setPath(l,l._empty()?"M0 0":"AL "+f.x+","+f.y+" "+v+","+M+" 0,"+65535*360)},_setPath:function(l,f){l._path.v=f},_bringToFront:function(l){lo(l._container)},_bringToBack:function(l){Or(l._container)}},tr=ce.vml?So:We,Fs=yr.extend({_initContainer:function(){this._container=tr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=tr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){cn(this._container),Yt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yr.prototype._update.call(this);var l=this._bounds,f=l.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,v.setAttribute("width",f.x),v.setAttribute("height",f.y)),Mn(v,l.min),v.setAttribute("viewBox",[l.min.x,l.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(l){var f=l._path=tr("path");l.options.className&&Mt(f,l.options.className),l.options.interactive&&Mt(f,"leaflet-interactive"),this._updateStyle(l),this._layers[h(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){cn(l._path),l.removeInteractiveTarget(l._path),delete this._layers[h(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var f=l._path,v=l.options;f&&(v.stroke?(f.setAttribute("stroke",v.color),f.setAttribute("stroke-opacity",v.opacity),f.setAttribute("stroke-width",v.weight),f.setAttribute("stroke-linecap",v.lineCap),f.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?f.setAttribute("stroke-dasharray",v.dashArray):f.removeAttribute("stroke-dasharray"),v.dashOffset?f.setAttribute("stroke-dashoffset",v.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),v.fill?(f.setAttribute("fill",v.fillColor||v.color),f.setAttribute("fill-opacity",v.fillOpacity),f.setAttribute("fill-rule",v.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(l,f){this._setPath(l,Ie(l._parts,f))},_updateCircle:function(l){var f=l._point,v=Math.max(Math.round(l._radius),1),M=Math.max(Math.round(l._radiusY),1)||v,A="a"+v+","+M+" 0 1,0 ",V=l._empty()?"M0 0":"M"+(f.x-v)+","+f.y+A+v*2+",0 "+A+-v*2+",0 ";this._setPath(l,V)},_setPath:function(l,f){l._path.setAttribute("d",f)},_bringToFront:function(l){lo(l._path)},_bringToBack:function(l){Or(l._path)}});ce.vml&&Fs.include(Dd);function Dl(l){return ce.svg||ce.vml?new Fs(l):null}Dt.include({getRenderer:function(l){var f=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var f=this._paneRenderers[l];return f===void 0&&(f=this._createRenderer({pane:l}),this._paneRenderers[l]=f),f},_createRenderer:function(l){return this.options.preferCanvas&&Ac(l)||Dl(l)}});var Nd=Hr.extend({initialize:function(l,f){Hr.prototype.initialize.call(this,this._boundsToLatLngs(l),f)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=me(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function Vm(l,f){return new Nd(l,f)}Fs.create=tr,Fs.pointsToPath=Ie,gr.geometryToLayer=yo,gr.coordsToLatLng=Cl,gr.coordsToLatLngs=wa,gr.latLngToCoords=Pl,gr.latLngsToCoords=Al,gr.getFeature=vo,gr.asFeature=kl,Dt.mergeOptions({boxZoom:!0});var Mo=Ai.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){vt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Yt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){cn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ft(),gl(),this._startPoint=this._map.mouseEventToContainerPoint(l),vt(document,{contextmenu:Ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=Et("div","leaflet-zoom-box",this._container),Mt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var f=new G(this._point,this._startPoint),v=f.getSize();Mn(this._box,f.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(cn(this._box),rn(this._container,"leaflet-crosshair")),ho(),_l(),Yt(document,{contextmenu:Ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var f=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Dt.addInitHook("addHandler","boxZoom",Mo),Dt.mergeOptions({doubleClickZoom:!0});var Od=Ai.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var f=this._map,v=f.getZoom(),M=f.options.zoomDelta,A=l.originalEvent.shiftKey?v-M:v+M;f.options.doubleClickZoom==="center"?f.setZoom(A):f.setZoomAround(l.containerPoint,A)}});Dt.addInitHook("addHandler","doubleClickZoom",Od),Dt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var kc=Ai.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new Ji(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}Mt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){rn(this._map._container,"leaflet-grab"),rn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=me(this._map.options.maxBounds);this._offsetLimit=se(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var f=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(f),this._prunePositions(f)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,f){return l-(l-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;l.x<f.min.x&&(l.x=this._viscousLimit(l.x,f.min.x)),l.y<f.min.y&&(l.y=this._viscousLimit(l.y,f.min.y)),l.x>f.max.x&&(l.x=this._viscousLimit(l.x,f.max.x)),l.y>f.max.y&&(l.y=this._viscousLimit(l.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,f=Math.round(l/2),v=this._initialWorldOffset,M=this._draggable._newPos.x,A=(M-f+v)%l+f-v,V=(M+f+v)%l-f-v,re=Math.abs(A+v)<Math.abs(V+v)?A:V;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=re},_onDragEnd:function(l){var f=this._map,v=f.options,M=!v.inertia||l.noInertia||this._times.length<2;if(f.fire("dragend",l),M)f.fire("moveend");else{this._prunePositions(+new Date);var A=this._lastPos.subtract(this._positions[0]),V=(this._lastTime-this._times[0])/1e3,re=v.easeLinearity,_e=A.multiplyBy(re/V),Me=_e.distanceTo([0,0]),Oe=Math.min(v.inertiaMaxSpeed,Me),et=_e.multiplyBy(Oe/Me),ft=Oe/(v.inertiaDeceleration*re),Tt=et.multiplyBy(-ft/2).round();!Tt.x&&!Tt.y?f.fire("moveend"):(Tt=f._limitOffset(Tt,f.options.maxBounds),H(function(){f.panBy(Tt,{duration:ft,easeLinearity:re,noMoveStart:!0,animate:!0})}))}}});Dt.addInitHook("addHandler","dragging",kc),Dt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Rc=Ai.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),vt(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Yt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,f=document.documentElement,v=l.scrollTop||f.scrollTop,M=l.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(M,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var f=this._panKeys={},v=this.keyCodes,M,A;for(M=0,A=v.left.length;M<A;M++)f[v.left[M]]=[-1*l,0];for(M=0,A=v.right.length;M<A;M++)f[v.right[M]]=[l,0];for(M=0,A=v.down.length;M<A;M++)f[v.down[M]]=[0,l];for(M=0,A=v.up.length;M<A;M++)f[v.up[M]]=[0,-1*l]},_setZoomDelta:function(l){var f=this._zoomKeys={},v=this.keyCodes,M,A;for(M=0,A=v.zoomIn.length;M<A;M++)f[v.zoomIn[M]]=l;for(M=0,A=v.zoomOut.length;M<A;M++)f[v.zoomOut[M]]=-l},_addHooks:function(){vt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Yt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var f=l.keyCode,v=this._map,M;if(f in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(M=this._panKeys[f],l.shiftKey&&(M=I(M).multiplyBy(3)),v.options.maxBounds&&(M=v._limitOffset(I(M),v.options.maxBounds)),v.options.worldCopyJump){var A=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(M)));v.panTo(A)}else v.panBy(M)}else if(f in this._zoomKeys)v.setZoom(v.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;Ki(l)}}});Dt.addInitHook("addHandler","keyboard",Rc),Dt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Kt=Ai.extend({addHooks:function(){vt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Yt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var f=_d(l),v=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var M=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),M),Ki(l)},_performZoom:function(){var l=this._map,f=l.getZoom(),v=this._map.options.zoomSnap||0;l._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),A=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,V=v?Math.ceil(A/v)*v:A,re=l._limitZoom(f+(this._delta>0?V:-V))-f;this._delta=0,this._startTime=null,re&&(l.options.scrollWheelZoom==="center"?l.setZoom(f+re):l.setZoomAround(this._lastMousePos,f+re))}});Dt.addInitHook("addHandler","scrollWheelZoom",Kt);var Ic=600;Dt.mergeOptions({tapHold:ce.touchNative&&ce.safari&&ce.mobile,tapTolerance:15});var Ma=Ai.extend({addHooks:function(){vt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Yt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var f=l.touches[0];this._startPos=this._newPos=new K(f.clientX,f.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(vt(document,"touchend",yn),vt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),Ic),vt(document,"touchend touchcancel contextmenu",this._cancel,this),vt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){Yt(document,"touchend",yn),Yt(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),Yt(document,"touchend touchcancel contextmenu",this._cancel,this),Yt(document,"touchmove",this._onMove,this)},_onMove:function(l){var f=l.touches[0];this._newPos=new K(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,f){var v=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});v._simulated=!0,f.target.dispatchEvent(v)}});Dt.addInitHook("addHandler","tapHold",Ma),Dt.mergeOptions({touchZoom:ce.touch,bounceAtZoomLimits:!0});var Eo=Ai.extend({addHooks:function(){Mt(this._map._container,"leaflet-touch-zoom"),vt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){rn(this._map._container,"leaflet-touch-zoom"),Yt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var f=this._map;if(!(!l.touches||l.touches.length!==2||f._animatingZoom||this._zooming)){var v=f.mouseEventToContainerPoint(l.touches[0]),M=f.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(v.add(M)._divideBy(2))),this._startDist=v.distanceTo(M),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),vt(document,"touchmove",this._onTouchMove,this),vt(document,"touchend touchcancel",this._onTouchEnd,this),yn(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var f=this._map,v=f.mouseEventToContainerPoint(l.touches[0]),M=f.mouseEventToContainerPoint(l.touches[1]),A=v.distanceTo(M)/this._startDist;if(this._zoom=f.getScaleZoom(A,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&A<1||this._zoom>f.getMaxZoom()&&A>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,A===1)return}else{var V=v._add(M)._divideBy(2)._subtract(this._centerPoint);if(A===1&&V.x===0&&V.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(V),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),J(this._animRequest);var re=o(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(re,this,!0),yn(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,J(this._animRequest),Yt(document,"touchmove",this._onTouchMove,this),Yt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Dt.addInitHook("addHandler","touchZoom",Eo),Dt.BoxZoom=Mo,Dt.DoubleClickZoom=Od,Dt.Drag=kc,Dt.Keyboard=Rc,Dt.ScrollWheelZoom=Kt,Dt.TapHold=Ma,Dt.TouchZoom=Eo,t.Bounds=G,t.Browser=ce,t.CRS=Ne,t.Canvas=Pc,t.Circle=Tl,t.CircleMarker=El,t.Class=ee,t.Control=bi,t.DivIcon=Il,t.DivOverlay=_r,t.DomEvent=xl,t.DomUtil=ma,t.Draggable=Ji,t.Evented=ne,t.FeatureGroup=Br,t.GeoJSON=gr,t.GridLayer=ls,t.Handler=Ai,t.Icon=zs,t.ImageOverlay=as,t.LatLng=ve,t.LatLngBounds=D,t.Layer=Qi,t.LayerGroup=ss,t.LineUtil=Md,t.Map=Dt,t.Marker=Ur,t.Mixin=gc,t.Path=os,t.Point=K,t.PolyUtil=km,t.Polygon=Hr,t.Polyline=Si,t.Popup=Rl,t.PosAnimation=wl,t.Projection=Om,t.Rectangle=Nd,t.Renderer=yr,t.SVG=Fs,t.SVGOverlay=Tc,t.TileLayer=us,t.Tooltip=wo,t.Transformation=je,t.Util=Y,t.VideoOverlay=Ec,t.bind=o,t.bounds=se,t.canvas=Ac,t.circle=xa,t.circleMarker=Cd,t.control=rs,t.divIcon=Rd,t.extend=r,t.featureGroup=Td,t.geoJSON=Pd,t.geoJson=er,t.gridLayer=bo,t.icon=Ld,t.imageOverlay=Ad,t.latLng=te,t.latLngBounds=me,t.layerGroup=va,t.map=is,t.marker=Bm,t.point=I,t.polygon=Hm,t.polyline=Um,t.popup=xo,t.rectangle=Vm,t.setOptions=S,t.stamp=h,t.svg=Dl,t.svgOverlay=Lc,t.tileLayer=Cc,t.tooltip=ba,t.transformation=be,t.version=i,t.videoOverlay=kd;var zd=window.L;t.noConflict=function(){return window.L=zd,this},window.L=t}))})(vh,vh.exports)),vh.exports}var sl=UP();const ol=$u(sl);function sd(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function tm(n,e){return e==null?function(i,r){const s=de.useRef();return s.current||(s.current=n(i,r)),s}:function(i,r){const s=de.useRef();s.current||(s.current=n(i,r));const o=de.useRef(i),{instance:u}=s.current;return de.useEffect(function(){o.current!==i&&(e(u,i,o.current),o.current=i)},[u,i,r]),s}}function mM(n,e){de.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function gM(n){return function(t){const i=Qp(),r=n(em(t,i),i);return hM(i.map,t.attribution),uv(r.current,t.eventHandlers),mM(r.current,i),r}}function HP(n,e){const t=de.useRef();de.useEffect(function(){if(e.pathOptions!==t.current){const r=e.pathOptions??{};n.instance.setStyle(r),t.current=r}},[n,e])}function VP(n){return function(t){const i=Qp(),r=n(em(t,i),i);return uv(r.current,t.eventHandlers),mM(r.current,i),HP(r.current,t),r}}function jP(n,e){const t=tm(n,e),i=gM(t);return pM(i)}function WP(n,e){const t=tm(n),i=FP(t,e);return OP(i)}function _M(n,e){const t=tm(n,e),i=VP(t);return pM(i)}function GP(n,e){const t=tm(n,e),i=gM(t);return zP(i)}function ZP(n,e,t){const{opacity:i,zIndex:r}=e;i!=null&&i!==t.opacity&&n.setOpacity(i),r!=null&&r!==t.zIndex&&n.setZIndex(r)}function nm(){return Qp().map}function $P(n){const e=nm();return de.useEffect(function(){return e.on(n),function(){e.off(n)}},[e,n]),e}function _y(){return _y=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_y.apply(this,arguments)}function qP({bounds:n,boundsOptions:e,center:t,children:i,className:r,id:s,placeholder:o,style:u,whenReady:h,zoom:d,...p},g){const[_]=de.useState({className:r,id:s,style:u}),[y,w]=de.useState(null);de.useImperativeHandle(g,()=>y?.map??null,[y]);const S=de.useCallback(b=>{if(b!==null&&y===null){const T=new sl.Map(b,p);t!=null&&d!=null?T.setView(t,d):n!=null&&T.fitBounds(n,e),h!=null&&T.whenReady(h),w(NP(T))}},[]);de.useEffect(()=>()=>{y?.map.remove()},[y]);const C=y?bn.createElement(fM,{value:y},i):o??null;return bn.createElement("div",_y({},_,{ref:S}),C)}const Bu=de.forwardRef(qP),so=jP(function({position:e,...t},i){const r=new sl.Marker(e,t);return sd(r,lv(i,{overlayContainer:r}))},function(e,t,i){t.position!==i.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==i.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==i.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==i.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),yM=_M(function({positions:e,...t},i){const r=new sl.Polygon(e,t);return sd(r,lv(i,{overlayContainer:r}))},function(e,t,i){t.positions!==i.positions&&e.setLatLngs(t.positions)}),Rp=_M(function({positions:e,...t},i){const r=new sl.Polyline(e,t);return sd(r,lv(i,{overlayContainer:r}))},function(e,t,i){t.positions!==i.positions&&e.setLatLngs(t.positions)}),Jo=WP(function(e,t){const i=new sl.Popup(e,t.overlayContainer);return sd(i,t)},function(e,t,{position:i},r){de.useEffect(function(){const{instance:o}=e;function u(d){d.popup===o&&(o.update(),r(!0))}function h(d){d.popup===o&&r(!1)}return t.map.on({popupopen:u,popupclose:h}),t.overlayContainer==null?(i!=null&&o.setLatLng(i),o.openOn(t.map)):t.overlayContainer.bindPopup(o),function(){t.map.off({popupopen:u,popupclose:h}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(o)}},[e,t,r,i])}),Uu=GP(function({url:e,...t},i){const r=new sl.TileLayer(e,em(t,i));return sd(r,i)},function(e,t,i){ZP(e,t,i);const{url:r}=t;r!=null&&r!==i.url&&e.setUrl(r)}),XP=ol.icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});ol.Marker.prototype.options.icon=XP;function YP({siteData:n,setSiteData:e,initialData:t={}}){const[i,r]=de.useState("single"),[s,o]=de.useState(""),[u,h]=de.useState([]),[d,p]=de.useState(!1);function g(S){return(S||"").split(`
`).map((C,b)=>C.trim()).filter(C=>C.length>0).map((C,b)=>{const T=C.split(/[\s,]+/);return i==="single"?{name:n.name||`Site-${b+1}`,lat:parseFloat(T[0])||0,lon:parseFloat(T[1])||0}:{name:T[0]||`Site-${b+1}`,lat:parseFloat(T[1])||0,lon:parseFloat(T[2])||0}})}function _(){const S=g(s);e({...n,sites:S}),alert("Site parameters updated!")}const y=()=>{h(g(s)),p(!0)};function w({coords:S}){const C=nm();if(S.length>0){const b=ol.latLngBounds(S.map(T=>[T.lat,T.lon]));C.fitBounds(b,{padding:[30,30]})}return null}return de.useEffect(()=>{t&&Object.keys(t).length>0&&e(t)},[t]),z.jsxs("div",{className:"p-4 space-y-4",children:[z.jsxs("div",{className:"flex items-center space-x-4",children:[z.jsxs("label",{className:"flex items-center space-x-2",children:[z.jsx("input",{type:"radio",checked:i==="single",onChange:()=>r("single")}),z.jsx("span",{children:"Single Site"})]}),z.jsxs("label",{className:"flex items-center space-x-2",children:[z.jsx("input",{type:"radio",checked:i==="multi",onChange:()=>r("multi")}),z.jsx("span",{children:"Multi Site"})]})]}),i==="single"&&z.jsxs(z.Fragment,{children:[z.jsxs("div",{children:[z.jsx("label",{className:"block font-semibold",children:"Site Name"}),z.jsx("input",{type:"text",className:"input",value:n.name||"",onChange:S=>e({...n,name:S.target.value})})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium mb-2",children:"Coordinate (Latitude, Longitude)"}),z.jsx("textarea",{rows:2,value:s,onChange:S=>o(S.target.value),placeholder:"-6.9 107.6",className:"w-full border px-3 py-2 rounded-lg font-mono text-sm"}),z.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Format: ",z.jsx("code",{children:"Lat Lon"})]})]})]}),i==="multi"&&z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium mb-2",children:"Input Sites (Name, Latitude, Longitude)"}),z.jsx("textarea",{rows:6,value:s,onChange:S=>o(S.target.value),placeholder:`SiteA -6.9 107.6
SiteB -7.0 108.1`,className:"w-full border px-3 py-2 rounded-lg font-mono text-sm"}),z.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Format: ",z.jsx("code",{children:"Name Lat Lon"}),", pisahkan dengan spasi/koma/tab."]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block font-semibold",children:"Rock/Soil Site"}),z.jsxs("select",{className:"input",value:n.siteType||"",onChange:S=>{const C={...n,siteType:S.target.value};e(C)},children:[z.jsx("option",{value:"",children:"Select"}),z.jsx("option",{value:"rock",children:"Rock Site"}),z.jsx("option",{value:"soil",children:"Soil Site"})]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block font-semibold",children:"Wall"}),z.jsxs("select",{className:"input",value:n.wall||"",onChange:S=>e({...n,wall:S.target.value}),children:[z.jsx("option",{value:"",children:"Select"}),z.jsx("option",{value:"hanging",children:"Site on Hanging Wall"}),z.jsx("option",{value:"foot",children:"Site on Foot Wall"})]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block font-semibold",children:"Vs30 (m/s)"}),z.jsx("input",{type:"number",className:"input",value:n.vs30||"",onChange:S=>e({...n,vs30:S.target.value})})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block font-semibold",children:"Depth of Basement Rock (D, km)"}),z.jsx("input",{type:"number",className:"input",value:n.depth||"",onChange:S=>e({...n,depth:S.target.value})})]}),z.jsxs("div",{className:"flex space-x-2",children:[z.jsx("button",{onClick:y,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Preview on Map"}),z.jsx("button",{onClick:_,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Update"})]}),d&&u.length>0&&z.jsx("div",{className:"mt-4 h-64 border rounded-lg overflow-hidden",children:z.jsxs(Bu,{center:[u[0].lat,u[0].lon],zoom:6,className:"h-full w-full",children:[z.jsx(Uu,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),z.jsx(w,{coords:u}),u.map((S,C)=>z.jsx(so,{position:[S.lat,S.lon],children:z.jsxs(Jo,{children:[z.jsx("strong",{children:S.name}),z.jsx("br",{}),"Lat: ",S.lat,", Lon: ",S.lon]})},C))]})})]})}function KP({datasources:n,selectedSources:e,setSelectedSources:t,selectedGmpes:i,setSelectedGmpes:r,siteParameter:s}){const[o,u]=de.useState([]),[h,d]=de.useState(!0),[p,g]=de.useState(null),_="https://sha-api-production.up.railway.app/api/v1";de.useEffect(()=>{async function b(){try{const T=await fetch(`${_}/gmpe`);if(!T.ok)throw new Error(`Fetch status: ${T.status}`);const k=await T.json();u(Array.isArray(k)?k:k.data||[])}catch(T){console.error(" GMPE fetch error:",T),g(T.message||"Gagal fetch GMPE")}finally{d(!1)}}b()},[_]);const y=b=>t(T=>T.some(k=>k.id===b.id)?T.filter(k=>k.id!==b.id):[...T,b]),w=()=>t(b=>b.length===n.length?[]:n),S=b=>{r(T=>T.find(F=>F.gmpeId===b.id)?T.filter(F=>F.gmpeId!==b.id):[...T,{gmpeId:b.id,gmpeName:b.name,weight:0}])},C=(b,T)=>{r(k=>k.map(F=>F.gmpeId===b?{...F,weight:parseFloat(T)||0}:F))};return h?z.jsx("div",{className:"p-4",children:" Memuat GMPE..."}):p?z.jsxs("div",{className:"p-4 text-red-500",children:[" ",p]}):(i.reduce((b,T)=>b+(T.weight||0),0),z.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-6",children:[z.jsxs("div",{className:"border rounded-lg p-4 flex flex-col",children:[z.jsx("h2",{className:"font-semibold mb-2",children:"Available Datasources"}),z.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[z.jsx("input",{type:"checkbox",checked:e.length===n.length&&n.length>0,onChange:w}),z.jsx("span",{className:"font-medium",children:"Select All"})]}),z.jsx("div",{className:"flex-1 max-h-80 overflow-y-auto pr-2 space-y-1",children:n.length===0?z.jsx("p",{className:"text-gray-500",children:"No datasource available"}):n.map(b=>{const T=e.some(k=>k.id===b.id);return z.jsx("div",{onClick:()=>y(b),className:`cursor-pointer px-3 py-2 rounded border ${T?"bg-blue-100 border-blue-400":"hover:bg-gray-100 border-gray-300"}`,children:b.name||"Unnamed Source"},b.id)})})]}),z.jsxs("div",{className:"border rounded-lg p-4 flex flex-col",children:[z.jsx("h2",{className:"font-semibold mb-2",children:"Available GMPEs"}),z.jsx("div",{className:"flex-1 max-h-80 overflow-y-auto pr-2 space-y-1",children:o.length===0?z.jsx("p",{className:"text-gray-500",children:"Tidak ada GMPE tersedia"}):o.map(b=>{const T=i.find(k=>k.gmpeId===b.id);return z.jsxs("div",{onClick:()=>S(b),className:`gmpe-item ${T?"selected":""}`,children:[z.jsxs("span",{children:[b.name," (",b.year||"-",", ",b.tectonic_region||b.region||"-",")"]}),T&&z.jsx("input",{type:"number",step:"0.01",value:T.weight,onChange:k=>C(b.id,k.target.value),onClick:k=>k.stopPropagation()})]},b.id)})}),z.jsxs("div",{className:`mt-2 text-sm ${Math.abs(i.reduce((b,T)=>b+(T.weight||0),0)-1)>.001?"text-red-600 font-semibold":"text-gray-600"}`,children:["Total weight = ",z.jsx("strong",{children:i.reduce((b,T)=>b+(T.weight||0),0).toFixed(2)}),Math.abs(i.reduce((b,T)=>b+(T.weight||0),0)-1)>.001?" (harus = 1.0)":"  Sudah valid"]})]})]}))}const JP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",QP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",eA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";function vM(n,e){return function(){return n.apply(e,arguments)}}const{toString:tA}=Object.prototype,{getPrototypeOf:cv}=Object,{iterator:im,toStringTag:xM}=Symbol,rm=(n=>e=>{const t=tA.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ts=n=>(n=n.toLowerCase(),e=>rm(e)===n),sm=n=>e=>typeof e===n,{isArray:Yu}=Array,Vh=sm("undefined");function od(n){return n!==null&&!Vh(n)&&n.constructor!==null&&!Vh(n.constructor)&&Hi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const wM=ts("ArrayBuffer");function nA(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&wM(n.buffer),e}const iA=sm("string"),Hi=sm("function"),bM=sm("number"),ad=n=>n!==null&&typeof n=="object",rA=n=>n===!0||n===!1,Sp=n=>{if(rm(n)!=="object")return!1;const e=cv(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(xM in n)&&!(im in n)},sA=n=>{if(!ad(n)||od(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},oA=ts("Date"),aA=ts("File"),lA=ts("Blob"),uA=ts("FileList"),cA=n=>ad(n)&&Hi(n.pipe),hA=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Hi(n.append)&&((e=rm(n))==="formdata"||e==="object"&&Hi(n.toString)&&n.toString()==="[object FormData]"))},dA=ts("URLSearchParams"),[fA,pA,mA,gA]=["ReadableStream","Request","Response","Headers"].map(ts),_A=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ld(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),Yu(n))for(i=0,r=n.length;i<r;i++)e.call(null,n[i],i,n);else{if(od(n))return;const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let u;for(i=0;i<o;i++)u=s[i],e.call(null,n[u],u,n)}}function SM(n,e){if(od(n))return null;e=e.toLowerCase();const t=Object.keys(n);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}const $a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,MM=n=>!Vh(n)&&n!==$a;function yy(){const{caseless:n}=MM(this)&&this||{},e={},t=(i,r)=>{const s=n&&SM(e,r)||r;Sp(e[s])&&Sp(i)?e[s]=yy(e[s],i):Sp(i)?e[s]=yy({},i):Yu(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&ld(arguments[i],t);return e}const yA=(n,e,t,{allOwnKeys:i}={})=>(ld(e,(r,s)=>{t&&Hi(r)?n[s]=vM(r,t):n[s]=r},{allOwnKeys:i}),n),vA=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),xA=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},wA=(n,e,t,i)=>{let r,s,o;const u={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),s=r.length;s-- >0;)o=r[s],(!i||i(o,n,e))&&!u[o]&&(e[o]=n[o],u[o]=!0);n=t!==!1&&cv(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},bA=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},SA=n=>{if(!n)return null;if(Yu(n))return n;let e=n.length;if(!bM(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},MA=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&cv(Uint8Array)),EA=(n,e)=>{const i=(n&&n[im]).call(n);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(n,s[0],s[1])}},TA=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},LA=ts("HTMLFormElement"),CA=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),iw=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),PA=ts("RegExp"),EM=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};ld(t,(r,s)=>{let o;(o=e(r,s,n))!==!1&&(i[s]=o||r)}),Object.defineProperties(n,i)},AA=n=>{EM(n,(e,t)=>{if(Hi(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Hi(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},kA=(n,e)=>{const t={},i=r=>{r.forEach(s=>{t[s]=!0})};return Yu(n)?i(n):i(String(n).split(e)),t},RA=()=>{},IA=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function DA(n){return!!(n&&Hi(n.append)&&n[xM]==="FormData"&&n[im])}const NA=n=>{const e=new Array(10),t=(i,r)=>{if(ad(i)){if(e.indexOf(i)>=0)return;if(od(i))return i;if(!("toJSON"in i)){e[r]=i;const s=Yu(i)?[]:{};return ld(i,(o,u)=>{const h=t(o,r+1);!Vh(h)&&(s[u]=h)}),e[r]=void 0,s}}return i};return t(n,0)},OA=ts("AsyncFunction"),zA=n=>n&&(ad(n)||Hi(n))&&Hi(n.then)&&Hi(n.catch),TM=((n,e)=>n?setImmediate:e?((t,i)=>($a.addEventListener("message",({source:r,data:s})=>{r===$a&&s===t&&i.length&&i.shift()()},!1),r=>{i.push(r),$a.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Hi($a.postMessage)),FA=typeof queueMicrotask<"u"?queueMicrotask.bind($a):typeof process<"u"&&process.nextTick||TM,BA=n=>n!=null&&Hi(n[im]),Te={isArray:Yu,isArrayBuffer:wM,isBuffer:od,isFormData:hA,isArrayBufferView:nA,isString:iA,isNumber:bM,isBoolean:rA,isObject:ad,isPlainObject:Sp,isEmptyObject:sA,isReadableStream:fA,isRequest:pA,isResponse:mA,isHeaders:gA,isUndefined:Vh,isDate:oA,isFile:aA,isBlob:lA,isRegExp:PA,isFunction:Hi,isStream:cA,isURLSearchParams:dA,isTypedArray:MA,isFileList:uA,forEach:ld,merge:yy,extend:yA,trim:_A,stripBOM:vA,inherits:xA,toFlatObject:wA,kindOf:rm,kindOfTest:ts,endsWith:bA,toArray:SA,forEachEntry:EA,matchAll:TA,isHTMLForm:LA,hasOwnProperty:iw,hasOwnProp:iw,reduceDescriptors:EM,freezeMethods:AA,toObjectSet:kA,toCamelCase:CA,noop:RA,toFiniteNumber:IA,findKey:SM,global:$a,isContextDefined:MM,isSpecCompliantForm:DA,toJSONObject:NA,isAsyncFn:OA,isThenable:zA,setImmediate:TM,asap:FA,isIterable:BA};function Lt(n,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}Te.inherits(Lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Te.toJSONObject(this.config),code:this.code,status:this.status}}});const LM=Lt.prototype,CM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{CM[n]={value:n}});Object.defineProperties(Lt,CM);Object.defineProperty(LM,"isAxiosError",{value:!0});Lt.from=(n,e,t,i,r,s)=>{const o=Object.create(LM);return Te.toFlatObject(n,o,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),Lt.call(o,n.message,e,t,i,r),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const UA=null;function vy(n){return Te.isPlainObject(n)||Te.isArray(n)}function PM(n){return Te.endsWith(n,"[]")?n.slice(0,-2):n}function rw(n,e,t){return n?n.concat(e).map(function(r,s){return r=PM(r),!t&&s?"["+r+"]":r}).join(t?".":""):e}function HA(n){return Te.isArray(n)&&!n.some(vy)}const VA=Te.toFlatObject(Te,{},null,function(e){return/^is[A-Z]/.test(e)});function om(n,e,t){if(!Te.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Te.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,C){return!Te.isUndefined(C[S])});const i=t.metaTokens,r=t.visitor||p,s=t.dots,o=t.indexes,h=(t.Blob||typeof Blob<"u"&&Blob)&&Te.isSpecCompliantForm(e);if(!Te.isFunction(r))throw new TypeError("visitor must be a function");function d(w){if(w===null)return"";if(Te.isDate(w))return w.toISOString();if(Te.isBoolean(w))return w.toString();if(!h&&Te.isBlob(w))throw new Lt("Blob is not supported. Use a Buffer instead.");return Te.isArrayBuffer(w)||Te.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function p(w,S,C){let b=w;if(w&&!C&&typeof w=="object"){if(Te.endsWith(S,"{}"))S=i?S:S.slice(0,-2),w=JSON.stringify(w);else if(Te.isArray(w)&&HA(w)||(Te.isFileList(w)||Te.endsWith(S,"[]"))&&(b=Te.toArray(w)))return S=PM(S),b.forEach(function(k,F){!(Te.isUndefined(k)||k===null)&&e.append(o===!0?rw([S],F,s):o===null?S:S+"[]",d(k))}),!1}return vy(w)?!0:(e.append(rw(C,S,s),d(w)),!1)}const g=[],_=Object.assign(VA,{defaultVisitor:p,convertValue:d,isVisitable:vy});function y(w,S){if(!Te.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+S.join("."));g.push(w),Te.forEach(w,function(b,T){(!(Te.isUndefined(b)||b===null)&&r.call(e,b,Te.isString(T)?T.trim():T,S,_))===!0&&y(b,S?S.concat(T):[T])}),g.pop()}}if(!Te.isObject(n))throw new TypeError("data must be an object");return y(n),e}function sw(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function hv(n,e){this._pairs=[],n&&om(n,this,e)}const AM=hv.prototype;AM.append=function(e,t){this._pairs.push([e,t])};AM.toString=function(e){const t=e?function(i){return e.call(this,i,sw)}:sw;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function jA(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kM(n,e,t){if(!e)return n;const i=t&&t.encode||jA;Te.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let s;if(r?s=r(e,t):s=Te.isURLSearchParams(e)?e.toString():new hv(e,t).toString(i),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class ow{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Te.forEach(this.handlers,function(i){i!==null&&e(i)})}}const RM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},WA=typeof URLSearchParams<"u"?URLSearchParams:hv,GA=typeof FormData<"u"?FormData:null,ZA=typeof Blob<"u"?Blob:null,$A={isBrowser:!0,classes:{URLSearchParams:WA,FormData:GA,Blob:ZA},protocols:["http","https","file","blob","url","data"]},dv=typeof window<"u"&&typeof document<"u",xy=typeof navigator=="object"&&navigator||void 0,qA=dv&&(!xy||["ReactNative","NativeScript","NS"].indexOf(xy.product)<0),XA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",YA=dv&&window.location.href||"http://localhost",KA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dv,hasStandardBrowserEnv:qA,hasStandardBrowserWebWorkerEnv:XA,navigator:xy,origin:YA},Symbol.toStringTag,{value:"Module"})),fi={...KA,...$A};function JA(n,e){return om(n,new fi.classes.URLSearchParams,{visitor:function(t,i,r,s){return fi.isNode&&Te.isBuffer(t)?(this.append(i,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function QA(n){return Te.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ek(n){const e={},t=Object.keys(n);let i;const r=t.length;let s;for(i=0;i<r;i++)s=t[i],e[s]=n[s];return e}function IM(n){function e(t,i,r,s){let o=t[s++];if(o==="__proto__")return!0;const u=Number.isFinite(+o),h=s>=t.length;return o=!o&&Te.isArray(r)?r.length:o,h?(Te.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!u):((!r[o]||!Te.isObject(r[o]))&&(r[o]=[]),e(t,i,r[o],s)&&Te.isArray(r[o])&&(r[o]=ek(r[o])),!u)}if(Te.isFormData(n)&&Te.isFunction(n.entries)){const t={};return Te.forEachEntry(n,(i,r)=>{e(QA(i),r,t,0)}),t}return null}function tk(n,e,t){if(Te.isString(n))try{return(e||JSON.parse)(n),Te.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const ud={transitional:RM,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,s=Te.isObject(e);if(s&&Te.isHTMLForm(e)&&(e=new FormData(e)),Te.isFormData(e))return r?JSON.stringify(IM(e)):e;if(Te.isArrayBuffer(e)||Te.isBuffer(e)||Te.isStream(e)||Te.isFile(e)||Te.isBlob(e)||Te.isReadableStream(e))return e;if(Te.isArrayBufferView(e))return e.buffer;if(Te.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return JA(e,this.formSerializer).toString();if((u=Te.isFileList(e))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return om(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),tk(e)):e}],transformResponse:[function(e){const t=this.transitional||ud.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if(Te.isResponse(e)||Te.isReadableStream(e))return e;if(e&&Te.isString(e)&&(i&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(u){if(o)throw u.name==="SyntaxError"?Lt.from(u,Lt.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fi.classes.FormData,Blob:fi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Te.forEach(["delete","get","head","post","put","patch"],n=>{ud.headers[n]={}});const nk=Te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ik=n=>{const e={};let t,i,r;return n&&n.split(`
`).forEach(function(o){r=o.indexOf(":"),t=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!t||e[t]&&nk[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},aw=Symbol("internals");function Yc(n){return n&&String(n).trim().toLowerCase()}function Mp(n){return n===!1||n==null?n:Te.isArray(n)?n.map(Mp):String(n)}function rk(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const sk=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function n_(n,e,t,i,r){if(Te.isFunction(i))return i.call(this,e,t);if(r&&(e=t),!!Te.isString(e)){if(Te.isString(i))return e.indexOf(i)!==-1;if(Te.isRegExp(i))return i.test(e)}}function ok(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function ak(n,e){const t=Te.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}let Vi=class{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function s(u,h,d){const p=Yc(h);if(!p)throw new Error("header name must be a non-empty string");const g=Te.findKey(r,p);(!g||r[g]===void 0||d===!0||d===void 0&&r[g]!==!1)&&(r[g||h]=Mp(u))}const o=(u,h)=>Te.forEach(u,(d,p)=>s(d,p,h));if(Te.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Te.isString(e)&&(e=e.trim())&&!sk(e))o(ik(e),t);else if(Te.isObject(e)&&Te.isIterable(e)){let u={},h,d;for(const p of e){if(!Te.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[d=p[0]]=(h=u[d])?Te.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}o(u,t)}else e!=null&&s(t,e,i);return this}get(e,t){if(e=Yc(e),e){const i=Te.findKey(this,e);if(i){const r=this[i];if(!t)return r;if(t===!0)return rk(r);if(Te.isFunction(t))return t.call(this,r,i);if(Te.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Yc(e),e){const i=Te.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||n_(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let r=!1;function s(o){if(o=Yc(o),o){const u=Te.findKey(i,o);u&&(!t||n_(i,i[u],u,t))&&(delete i[u],r=!0)}}return Te.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;for(;i--;){const s=t[i];(!e||n_(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const t=this,i={};return Te.forEach(this,(r,s)=>{const o=Te.findKey(i,s);if(o){t[o]=Mp(r),delete t[s];return}const u=e?ok(s):String(s).trim();u!==s&&delete t[s],t[u]=Mp(r),i[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Te.forEach(this,(i,r)=>{i!=null&&i!==!1&&(t[r]=e&&Te.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[aw]=this[aw]={accessors:{}}).accessors,r=this.prototype;function s(o){const u=Yc(o);i[u]||(ak(r,o),i[u]=!0)}return Te.isArray(e)?e.forEach(s):s(e),this}};Vi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Te.reduceDescriptors(Vi.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});Te.freezeMethods(Vi);function i_(n,e){const t=this||ud,i=e||t,r=Vi.from(i.headers);let s=i.data;return Te.forEach(n,function(u){s=u.call(t,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function DM(n){return!!(n&&n.__CANCEL__)}function Ku(n,e,t){Lt.call(this,n??"canceled",Lt.ERR_CANCELED,e,t),this.name="CanceledError"}Te.inherits(Ku,Lt,{__CANCEL__:!0});function NM(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Lt("Request failed with status code "+t.status,[Lt.ERR_BAD_REQUEST,Lt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function lk(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function uk(n,e){n=n||10;const t=new Array(n),i=new Array(n);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(h){const d=Date.now(),p=i[s];o||(o=d),t[r]=h,i[r]=d;let g=s,_=0;for(;g!==r;)_+=t[g++],g=g%n;if(r=(r+1)%n,r===s&&(s=(s+1)%n),d-o<e)return;const y=p&&d-p;return y?Math.round(_*1e3/y):void 0}}function ck(n,e){let t=0,i=1e3/e,r,s;const o=(d,p=Date.now())=>{t=p,r=null,s&&(clearTimeout(s),s=null),n(...d)};return[(...d)=>{const p=Date.now(),g=p-t;g>=i?o(d,p):(r=d,s||(s=setTimeout(()=>{s=null,o(r)},i-g)))},()=>r&&o(r)]}const Ip=(n,e,t=3)=>{let i=0;const r=uk(50,250);return ck(s=>{const o=s.loaded,u=s.lengthComputable?s.total:void 0,h=o-i,d=r(h),p=o<=u;i=o;const g={loaded:o,total:u,progress:u?o/u:void 0,bytes:h,rate:d||void 0,estimated:d&&u&&p?(u-o)/d:void 0,event:s,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(g)},t)},lw=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},uw=n=>(...e)=>Te.asap(()=>n(...e)),hk=fi.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,fi.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(fi.origin),fi.navigator&&/(msie|trident)/i.test(fi.navigator.userAgent)):()=>!0,dk=fi.hasStandardBrowserEnv?{write(n,e,t,i,r,s){const o=[n+"="+encodeURIComponent(e)];Te.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),Te.isString(i)&&o.push("path="+i),Te.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fk(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function pk(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function OM(n,e,t){let i=!fk(e);return n&&(i||t==!1)?pk(n,e):e}const cw=n=>n instanceof Vi?{...n}:n;function tl(n,e){e=e||{};const t={};function i(d,p,g,_){return Te.isPlainObject(d)&&Te.isPlainObject(p)?Te.merge.call({caseless:_},d,p):Te.isPlainObject(p)?Te.merge({},p):Te.isArray(p)?p.slice():p}function r(d,p,g,_){if(Te.isUndefined(p)){if(!Te.isUndefined(d))return i(void 0,d,g,_)}else return i(d,p,g,_)}function s(d,p){if(!Te.isUndefined(p))return i(void 0,p)}function o(d,p){if(Te.isUndefined(p)){if(!Te.isUndefined(d))return i(void 0,d)}else return i(void 0,p)}function u(d,p,g){if(g in e)return i(d,p);if(g in n)return i(void 0,d)}const h={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:(d,p,g)=>r(cw(d),cw(p),g,!0)};return Te.forEach(Object.keys({...n,...e}),function(p){const g=h[p]||r,_=g(n[p],e[p],p);Te.isUndefined(_)&&g!==u||(t[p]=_)}),t}const zM=n=>{const e=tl({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:u}=e;e.headers=o=Vi.from(o),e.url=kM(OM(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),u&&o.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(Te.isFormData(t)){if(fi.hasStandardBrowserEnv||fi.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((h=o.getContentType())!==!1){const[d,...p]=h?h.split(";").map(g=>g.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...p].join("; "))}}if(fi.hasStandardBrowserEnv&&(i&&Te.isFunction(i)&&(i=i(e)),i||i!==!1&&hk(e.url))){const d=r&&s&&dk.read(s);d&&o.set(r,d)}return e},mk=typeof XMLHttpRequest<"u",gk=mk&&function(n){return new Promise(function(t,i){const r=zM(n);let s=r.data;const o=Vi.from(r.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:d}=r,p,g,_,y,w;function S(){y&&y(),w&&w(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let C=new XMLHttpRequest;C.open(r.method.toUpperCase(),r.url,!0),C.timeout=r.timeout;function b(){if(!C)return;const k=Vi.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),R={data:!u||u==="text"||u==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:k,config:n,request:C};NM(function(N){t(N),S()},function(N){i(N),S()},R),C=null}"onloadend"in C?C.onloadend=b:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(b)},C.onabort=function(){C&&(i(new Lt("Request aborted",Lt.ECONNABORTED,n,C)),C=null)},C.onerror=function(){i(new Lt("Network Error",Lt.ERR_NETWORK,n,C)),C=null},C.ontimeout=function(){let F=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const R=r.transitional||RM;r.timeoutErrorMessage&&(F=r.timeoutErrorMessage),i(new Lt(F,R.clarifyTimeoutError?Lt.ETIMEDOUT:Lt.ECONNABORTED,n,C)),C=null},s===void 0&&o.setContentType(null),"setRequestHeader"in C&&Te.forEach(o.toJSON(),function(F,R){C.setRequestHeader(R,F)}),Te.isUndefined(r.withCredentials)||(C.withCredentials=!!r.withCredentials),u&&u!=="json"&&(C.responseType=r.responseType),d&&([_,w]=Ip(d,!0),C.addEventListener("progress",_)),h&&C.upload&&([g,y]=Ip(h),C.upload.addEventListener("progress",g),C.upload.addEventListener("loadend",y)),(r.cancelToken||r.signal)&&(p=k=>{C&&(i(!k||k.type?new Ku(null,n,C):k),C.abort(),C=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const T=lk(r.url);if(T&&fi.protocols.indexOf(T)===-1){i(new Lt("Unsupported protocol "+T+":",Lt.ERR_BAD_REQUEST,n));return}C.send(s||null)})},_k=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,r;const s=function(d){if(!r){r=!0,u();const p=d instanceof Error?d:this.reason;i.abort(p instanceof Lt?p:new Ku(p instanceof Error?p.message:p))}};let o=e&&setTimeout(()=>{o=null,s(new Lt(`timeout ${e} of ms exceeded`,Lt.ETIMEDOUT))},e);const u=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),n=null)};n.forEach(d=>d.addEventListener("abort",s));const{signal:h}=i;return h.unsubscribe=()=>Te.asap(u),h}},yk=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,r;for(;i<t;)r=i+e,yield n.slice(i,r),i=r},vk=async function*(n,e){for await(const t of xk(n))yield*yk(t,e)},xk=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},hw=(n,e,t,i)=>{const r=vk(n,e);let s=0,o,u=h=>{o||(o=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:d,value:p}=await r.next();if(d){u(),h.close();return}let g=p.byteLength;if(t){let _=s+=g;t(_)}h.enqueue(new Uint8Array(p))}catch(d){throw u(d),d}},cancel(h){return u(h),r.return()}},{highWaterMark:2})},am=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",FM=am&&typeof ReadableStream=="function",wk=am&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),BM=(n,...e)=>{try{return!!n(...e)}catch{return!1}},bk=FM&&BM(()=>{let n=!1;const e=new Request(fi.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),dw=64*1024,wy=FM&&BM(()=>Te.isReadableStream(new Response("").body)),Dp={stream:wy&&(n=>n.body)};am&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Dp[e]&&(Dp[e]=Te.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new Lt(`Response type '${e}' is not supported`,Lt.ERR_NOT_SUPPORT,i)})})})(new Response);const Sk=async n=>{if(n==null)return 0;if(Te.isBlob(n))return n.size;if(Te.isSpecCompliantForm(n))return(await new Request(fi.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Te.isArrayBufferView(n)||Te.isArrayBuffer(n))return n.byteLength;if(Te.isURLSearchParams(n)&&(n=n+""),Te.isString(n))return(await wk(n)).byteLength},Mk=async(n,e)=>{const t=Te.toFiniteNumber(n.getContentLength());return t??Sk(e)},Ek=am&&(async n=>{let{url:e,method:t,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:u,onUploadProgress:h,responseType:d,headers:p,withCredentials:g="same-origin",fetchOptions:_}=zM(n);d=d?(d+"").toLowerCase():"text";let y=_k([r,s&&s.toAbortSignal()],o),w;const S=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let C;try{if(h&&bk&&t!=="get"&&t!=="head"&&(C=await Mk(p,i))!==0){let R=new Request(e,{method:"POST",body:i,duplex:"half"}),B;if(Te.isFormData(i)&&(B=R.headers.get("content-type"))&&p.setContentType(B),R.body){const[N,O]=lw(C,Ip(uw(h)));i=hw(R.body,dw,N,O)}}Te.isString(g)||(g=g?"include":"omit");const b="credentials"in Request.prototype;w=new Request(e,{..._,signal:y,method:t.toUpperCase(),headers:p.normalize().toJSON(),body:i,duplex:"half",credentials:b?g:void 0});let T=await fetch(w,_);const k=wy&&(d==="stream"||d==="response");if(wy&&(u||k&&S)){const R={};["status","statusText","headers"].forEach(j=>{R[j]=T[j]});const B=Te.toFiniteNumber(T.headers.get("content-length")),[N,O]=u&&lw(B,Ip(uw(u),!0))||[];T=new Response(hw(T.body,dw,N,()=>{O&&O(),S&&S()}),R)}d=d||"text";let F=await Dp[Te.findKey(Dp,d)||"text"](T,n);return!k&&S&&S(),await new Promise((R,B)=>{NM(R,B,{data:F,headers:Vi.from(T.headers),status:T.status,statusText:T.statusText,config:n,request:w})})}catch(b){throw S&&S(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new Lt("Network Error",Lt.ERR_NETWORK,n,w),{cause:b.cause||b}):Lt.from(b,b&&b.code,n,w)}}),by={http:UA,xhr:gk,fetch:Ek};Te.forEach(by,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const fw=n=>`- ${n}`,Tk=n=>Te.isFunction(n)||n===null||n===!1,UM={getAdapter:n=>{n=Te.isArray(n)?n:[n];const{length:e}=n;let t,i;const r={};for(let s=0;s<e;s++){t=n[s];let o;if(i=t,!Tk(t)&&(i=by[(o=String(t)).toLowerCase()],i===void 0))throw new Lt(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(fw).join(`
`):" "+fw(s[0]):"as no adapter specified";throw new Lt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:by};function r_(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ku(null,n)}function pw(n){return r_(n),n.headers=Vi.from(n.headers),n.data=i_.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),UM.getAdapter(n.adapter||ud.adapter)(n).then(function(i){return r_(n),i.data=i_.call(n,n.transformResponse,i),i.headers=Vi.from(i.headers),i},function(i){return DM(i)||(r_(n),i&&i.response&&(i.response.data=i_.call(n,n.transformResponse,i.response),i.response.headers=Vi.from(i.response.headers))),Promise.reject(i)})}const HM="1.11.0",lm={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{lm[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const mw={};lm.transitional=function(e,t,i){function r(s,o){return"[Axios v"+HM+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,u)=>{if(e===!1)throw new Lt(r(o," has been removed"+(t?" in "+t:"")),Lt.ERR_DEPRECATED);return t&&!mw[o]&&(mw[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,u):!0}};lm.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function Lk(n,e,t){if(typeof n!="object")throw new Lt("options must be an object",Lt.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const u=n[s],h=u===void 0||o(u,s,n);if(h!==!0)throw new Lt("option "+s+" must be "+h,Lt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Lt("Unknown option "+s,Lt.ERR_BAD_OPTION)}}const Ep={assertOptions:Lk,validators:lm},ps=Ep.validators;let Ka=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ow,response:new ow}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=tl(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:s}=t;i!==void 0&&Ep.assertOptions(i,{silentJSONParsing:ps.transitional(ps.boolean),forcedJSONParsing:ps.transitional(ps.boolean),clarifyTimeoutError:ps.transitional(ps.boolean)},!1),r!=null&&(Te.isFunction(r)?t.paramsSerializer={serialize:r}:Ep.assertOptions(r,{encode:ps.function,serialize:ps.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Ep.assertOptions(t,{baseUrl:ps.spelling("baseURL"),withXsrfToken:ps.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&Te.merge(s.common,s[t.method]);s&&Te.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),t.headers=Vi.concat(o,s);const u=[];let h=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(t)===!1||(h=h&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const d=[];this.interceptors.response.forEach(function(S){d.push(S.fulfilled,S.rejected)});let p,g=0,_;if(!h){const w=[pw.bind(this),void 0];for(w.unshift(...u),w.push(...d),_=w.length,p=Promise.resolve(t);g<_;)p=p.then(w[g++],w[g++]);return p}_=u.length;let y=t;for(g=0;g<_;){const w=u[g++],S=u[g++];try{y=w(y)}catch(C){S.call(this,C);break}}try{p=pw.call(this,y)}catch(w){return Promise.reject(w)}for(g=0,_=d.length;g<_;)p=p.then(d[g++],d[g++]);return p}getUri(e){e=tl(this.defaults,e);const t=OM(e.baseURL,e.url,e.allowAbsoluteUrls);return kM(t,e.params,e.paramsSerializer)}};Te.forEach(["delete","get","head","options"],function(e){Ka.prototype[e]=function(t,i){return this.request(tl(i||{},{method:e,url:t,data:(i||{}).data}))}});Te.forEach(["post","put","patch"],function(e){function t(i){return function(s,o,u){return this.request(tl(u||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ka.prototype[e]=t(),Ka.prototype[e+"Form"]=t(!0)});let Ck=class VM{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(u=>{i.subscribe(u),s=u}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,u){i.reason||(i.reason=new Ku(s,o,u),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new VM(function(r){e=r}),cancel:e}}};function Pk(n){return function(t){return n.apply(null,t)}}function Ak(n){return Te.isObject(n)&&n.isAxiosError===!0}const Sy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sy).forEach(([n,e])=>{Sy[e]=n});function jM(n){const e=new Ka(n),t=vM(Ka.prototype.request,e);return Te.extend(t,Ka.prototype,e,{allOwnKeys:!0}),Te.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return jM(tl(n,r))},t}const Xt=jM(ud);Xt.Axios=Ka;Xt.CanceledError=Ku;Xt.CancelToken=Ck;Xt.isCancel=DM;Xt.VERSION=HM;Xt.toFormData=om;Xt.AxiosError=Lt;Xt.Cancel=Xt.CanceledError;Xt.all=function(e){return Promise.all(e)};Xt.spread=Pk;Xt.isAxiosError=Ak;Xt.mergeConfig=tl;Xt.AxiosHeaders=Vi;Xt.formToJSON=n=>IM(Te.isHTMLForm(n)?new FormData(n):n);Xt.getAdapter=UM.getAdapter;Xt.HttpStatusCode=Sy;Xt.default=Xt;const{Axios:sW,AxiosError:oW,CanceledError:aW,isCancel:lW,CancelToken:uW,VERSION:cW,all:hW,Cancel:dW,isAxiosError:fW,spread:pW,toFormData:mW,AxiosHeaders:gW,HttpStatusCode:_W,formToJSON:yW,getAdapter:vW,mergeConfig:xW}=Xt;function s_({title:n,children:e,footer:t,className:i=""}){return z.jsxs("div",{className:`p-4 sm:p-6 border rounded-xl shadow-sm 
                  bg-[var(--card)] text-[var(--text)] 
                  w-full max-w-full ${i}`,children:[n&&z.jsx("h2",{className:"font-semibold text-lg mb-4",children:n}),z.jsx("div",{className:"space-y-4",children:e}),t&&z.jsx("div",{className:"mt-4 flex flex-col sm:flex-row sm:justify-end gap-2",children:t})]})}delete ol.Icon.Default.prototype._getIconUrl;ol.Icon.Default.mergeOptions({iconRetinaUrl:QP,iconUrl:JP,shadowUrl:eA});const Kc=n=>(n||[]).map(e=>Array.isArray(e)&&e.length===2?[e[0],e[1]]:typeof e=="object"&&e.lat!=null&&e.lon!=null?[e.lat,e.lon]:null).filter(Boolean);function gw({coords:n}){const e=nm();return de.useEffect(()=>{if(n.length>0){const t=ol.latLngBounds(n);e.fitBounds(t,{padding:[30,30]})}},[n,e]),null}function kk({siteData:n,selectedSources:e,datasources:t,onRunResult:i}){const[r,s]=de.useState(!1),[o,u]=de.useState(null),h=e.flatMap(p=>[...Kc(p.coords_up),...Kc(p.coords_down)]);async function d(){s(!0),u(null);try{const p={site:n,sources:e},g=await Xt.post("https://sha-api-production.up.railway.app/api/v1/run-analysis",p);i&&i({result:g.data,siteData:n,selectedSources:e})}catch(p){u(p.response?.data?.error||p.message||"Terjadi kesalahan")}finally{s(!1)}}return z.jsxs("div",{className:"p-2 sm:p-4 space-y-6",children:[z.jsx(s_,{title:"Site Configuration",children:Object.keys(n).length===0?z.jsx("p",{className:"text-gray-500",children:"No site parameters saved"}):z.jsx("div",{className:"space-y-3",children:Object.entries(n).map(([p,g])=>{if(p==="sites"){const _=Kc(g);return z.jsxs("div",{children:[z.jsx("span",{className:"font-medium",children:"Sites:"}),g?.length>0?z.jsxs(z.Fragment,{children:[z.jsx("ul",{className:"list-disc pl-5 mt-1 text-sm sm:text-base overflow-x-auto",children:g.map((y,w)=>z.jsxs("li",{children:[y.name?z.jsx("strong",{children:y.name}):`Site-${w+1}`,"  Lat: ",y.lat,", Lon: ",y.lon]},w))}),z.jsx("div",{className:"mt-3 h-[35vh] sm:h-[50vh] border rounded overflow-hidden",children:z.jsxs(Bu,{center:_[0]||[0,0],zoom:6,className:"h-full w-full",children:[z.jsx(Uu,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),z.jsx(gw,{coords:_}),_.map((y,w)=>z.jsx(so,{position:y,children:z.jsxs(Jo,{children:[g[w]?.name||`Site-${w+1}`,z.jsx("br",{}),"Lat: ",y[0],", Lon: ",y[1]]})},w))]})})]}):z.jsx("span",{className:"text-gray-500 ml-2",children:"None"})]},p)}return z.jsxs("div",{children:[z.jsxs("span",{className:"font-medium",children:[p,":"]})," ",String(g)||"-"]},p)})})}),z.jsx(s_,{title:"Selected Datasources",children:e.length>0?z.jsx("div",{className:"h-[35vh] sm:h-[55vh] w-full border rounded overflow-hidden",children:z.jsxs(Bu,{center:h[0]||[0,0],zoom:6,className:"h-full w-full",children:[z.jsx(Uu,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),z.jsx(gw,{coords:h}),e.map((p,g)=>z.jsxs(z.Fragment,{children:[Kc(p.coords_up).map((_,y)=>z.jsx(so,{position:_,children:z.jsxs(Jo,{children:[p.name," (Up)",z.jsx("br",{}),"Lat: ",_[0],", Lon: ",_[1]]})},`up-${g}-${y}`)),Kc(p.coords_down).map((_,y)=>z.jsx(so,{position:_,children:z.jsxs(Jo,{children:[p.name," (Down)",z.jsx("br",{}),"Lat: ",_[0],", Lon: ",_[1]]})},`down-${g}-${y}`))]}))]})}):z.jsx("p",{className:"text-gray-500",children:"No sources selected"})}),z.jsx(s_,{footer:z.jsxs(z.Fragment,{children:[o&&z.jsx("p",{className:"text-red-500",children:o}),z.jsx("button",{onClick:d,disabled:r||!n||e.length===0,className:"px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-400",children:r?"Running...":"Run Analysis"})]})})]})}function Rk({datasources:n,onRunResult:e}){const[t,i]=de.useState(0),[r,s]=de.useState({}),[o,u]=de.useState([]),[h,d]=de.useState([]),[p,g]=de.useState(!1),[_,y]=de.useState(null),w=["Site Parameter","Seismic Model","Analysis Conclusion"];async function S(){g(!0),y(null);const C={site:r,sources:o,gmpes:h};try{const{data:b}=await Xt.post("https://sha-api-production.up.railway.app/api/v1/run-analysis",C);e?.({result:b,siteData:r,selectedSources:o,selectedGmpes:h,error:null})}catch(b){const T=b.response?.data?.error||b.message||"Terjadi kesalahan";console.error(T),y(T),e?.({result:null,siteData:r,selectedSources:o,selectedGmpes:h,error:T})}finally{g(!1)}}return z.jsx("div",{className:"w-full p-6",children:z.jsx(Oa.Group,{selectedIndex:t,onChange:i,children:z.jsxs("div",{className:"tab-wrapper",children:[z.jsx(Oa.List,{className:"tab-list",children:w.map(C=>z.jsx(Oa,{className:"tab-item group",children:C},C))}),z.jsxs(Oa.Panels,{className:"p-4 sm:p-6",children:[z.jsx(Oa.Panel,{className:"tab-panel",children:z.jsx(YP,{siteData:r,setSiteData:s})}),z.jsx(Oa.Panel,{className:"tab-panel",children:z.jsx(KP,{datasources:n,selectedSources:o,setSelectedSources:u,selectedGmpes:h,setSelectedGmpes:d,siteParameter:r?.siteType})}),z.jsx(Oa.Panel,{className:"tab-panel",children:z.jsx(kk,{siteData:r,selectedSources:o,selectedGmpes:h,datasources:n,onRunResult:S,loading:p,error:_})})]})]})})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function cd(n){return n+.5|0}const Ko=(n,e,t)=>Math.max(Math.min(n,t),e);function xh(n){return Ko(cd(n*2.55),0,255)}function Qo(n){return Ko(cd(n*255),0,255)}function ro(n){return Ko(cd(n/2.55)/100,0,1)}function _w(n){return Ko(cd(n*100),0,100)}const Tr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},My=[..."0123456789ABCDEF"],Ik=n=>My[n&15],Dk=n=>My[(n&240)>>4]+My[n&15],Lf=n=>(n&240)>>4===(n&15),Nk=n=>Lf(n.r)&&Lf(n.g)&&Lf(n.b)&&Lf(n.a);function Ok(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Tr[n[1]]*17,g:255&Tr[n[2]]*17,b:255&Tr[n[3]]*17,a:e===5?Tr[n[4]]*17:255}:(e===7||e===9)&&(t={r:Tr[n[1]]<<4|Tr[n[2]],g:Tr[n[3]]<<4|Tr[n[4]],b:Tr[n[5]]<<4|Tr[n[6]],a:e===9?Tr[n[7]]<<4|Tr[n[8]]:255})),t}const zk=(n,e)=>n<255?e(n):"";function Fk(n){var e=Nk(n)?Ik:Dk;return n?"#"+e(n.r)+e(n.g)+e(n.b)+zk(n.a,e):void 0}const Bk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function WM(n,e,t){const i=e*Math.min(t,1-t),r=(s,o=(s+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Uk(n,e,t){const i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Hk(n,e,t){const i=WM(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function Vk(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function fv(n){const t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),o=Math.min(t,i,r),u=(s+o)/2;let h,d,p;return s!==o&&(p=s-o,d=u>.5?p/(2-s-o):p/(s+o),h=Vk(t,i,r,p,s),h=h*60+.5),[h|0,d||0,u]}function pv(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Qo)}function mv(n,e,t){return pv(WM,n,e,t)}function jk(n,e,t){return pv(Hk,n,e,t)}function Wk(n,e,t){return pv(Uk,n,e,t)}function GM(n){return(n%360+360)%360}function Gk(n){const e=Bk.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?xh(+e[5]):Qo(+e[5]));const r=GM(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=jk(r,s,o):e[1]==="hsv"?i=Wk(r,s,o):i=mv(r,s,o),{r:i[0],g:i[1],b:i[2],a:t}}function Zk(n,e){var t=fv(n);t[0]=GM(t[0]+e),t=mv(t),n.r=t[0],n.g=t[1],n.b=t[2]}function $k(n){if(!n)return;const e=fv(n),t=e[0],i=_w(e[1]),r=_w(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${ro(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const yw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},vw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function qk(){const n={},e=Object.keys(vw),t=Object.keys(yw);let i,r,s,o,u;for(i=0;i<e.length;i++){for(o=u=e[i],r=0;r<t.length;r++)s=t[r],u=u.replace(s,yw[s]);s=parseInt(vw[o],16),n[u]=[s>>16&255,s>>8&255,s&255]}return n}let Cf;function Xk(n){Cf||(Cf=qk(),Cf.transparent=[0,0,0,0]);const e=Cf[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Yk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Kk(n){const e=Yk.exec(n);let t=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?xh(o):Ko(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?xh(i):Ko(i,0,255)),r=255&(e[4]?xh(r):Ko(r,0,255)),s=255&(e[6]?xh(s):Ko(s,0,255)),{r:i,g:r,b:s,a:t}}}function Jk(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ro(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const o_=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Jl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Qk(n,e,t){const i=Jl(ro(n.r)),r=Jl(ro(n.g)),s=Jl(ro(n.b));return{r:Qo(o_(i+t*(Jl(ro(e.r))-i))),g:Qo(o_(r+t*(Jl(ro(e.g))-r))),b:Qo(o_(s+t*(Jl(ro(e.b))-s))),a:n.a+t*(e.a-n.a)}}function Pf(n,e,t){if(n){let i=fv(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=mv(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function ZM(n,e){return n&&Object.assign(e||{},n)}function xw(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Qo(n[3]))):(e=ZM(n,{r:0,g:0,b:0,a:1}),e.a=Qo(e.a)),e}function e2(n){return n.charAt(0)==="r"?Kk(n):Gk(n)}let $M=class Ey{constructor(e){if(e instanceof Ey)return e;const t=typeof e;let i;t==="object"?i=xw(e):t==="string"&&(i=Ok(e)||Xk(e)||e2(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=ZM(this._rgb);return e&&(e.a=ro(e.a)),e}set rgb(e){this._rgb=xw(e)}rgbString(){return this._valid?Jk(this._rgb):void 0}hexString(){return this._valid?Fk(this._rgb):void 0}hslString(){return this._valid?$k(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let s;const o=t===s?.5:t,u=2*o-1,h=i.a-r.a,d=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;s=1-d,i.r=255&d*i.r+s*r.r+.5,i.g=255&d*i.g+s*r.g+.5,i.b=255&d*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=Qk(this._rgb,e._rgb,t)),this}clone(){return new Ey(this.rgb)}alpha(e){return this._rgb.a=Qo(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=cd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Pf(this._rgb,2,e),this}darken(e){return Pf(this._rgb,2,-e),this}saturate(e){return Pf(this._rgb,1,e),this}desaturate(e){return Pf(this._rgb,1,-e),this}rotate(e){return Zk(this._rgb,e),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ys(){}const t2=(()=>{let n=0;return()=>n++})();function ln(n){return n==null}function Zn(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Wt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Rr(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ms(n,e){return Rr(n)?n:e}function Bt(n,e){return typeof n>"u"?e:n}const n2=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function dn(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function qt(n,e,t,i){let r,s,o;if(Zn(n))for(s=n.length,r=0;r<s;r++)e.call(t,n[r],r);else if(Wt(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)e.call(t,n[o[r]],o[r])}function Np(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Op(n){if(Zn(n))return n.map(Op);if(Wt(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=Op(n[t[r]]);return e}return n}function qM(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function i2(n,e,t,i){if(!qM(n))return;const r=e[n],s=t[n];Wt(r)&&Wt(s)?jh(r,s,i):e[n]=Op(s)}function jh(n,e,t){const i=Zn(e)?e:[e],r=i.length;if(!Wt(n))return n;t=t||{};const s=t.merger||i2;let o;for(let u=0;u<r;++u){if(o=i[u],!Wt(o))continue;const h=Object.keys(o);for(let d=0,p=h.length;d<p;++d)s(h[d],n,o,t)}return n}function Ch(n,e){return jh(n,e,{merger:r2})}function r2(n,e,t){if(!qM(n))return;const i=e[n],r=t[n];Wt(i)&&Wt(r)?Ch(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Op(r))}const ww={"":n=>n,x:n=>n.x,y:n=>n.y};function s2(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function o2(n){const e=s2(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function zp(n,e){return(ww[e]||(ww[e]=o2(e)))(n)}function gv(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Fp=n=>typeof n<"u",sa=n=>typeof n=="function",bw=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function a2(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const qn=Math.PI,Es=2*qn,l2=Es+qn,Bp=Number.POSITIVE_INFINITY,u2=qn/180,Qr=qn/2,za=qn/4,Sw=qn*2/3,XM=Math.log10,Hu=Math.sign;function Ph(n,e,t){return Math.abs(n-e)<t}function Mw(n){const e=Math.round(n);n=Ph(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(XM(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function c2(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function h2(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Wh(n){return!h2(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function d2(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function f2(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function qa(n){return n*(qn/180)}function p2(n){return n*(180/qn)}function Ew(n){if(!Rr(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function m2(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*qn&&(s+=Es),{angle:s,distance:r}}function Ty(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function g2(n,e){return(n-e+l2)%Es-qn}function Yo(n){return(n%Es+Es)%Es}function YM(n,e,t,i){const r=Yo(n),s=Yo(e),o=Yo(t),u=Yo(s-r),h=Yo(o-r),d=Yo(r-s),p=Yo(r-o);return r===s||r===o||i&&s===o||u>h&&d<p}function Pr(n,e,t){return Math.max(e,Math.min(t,n))}function _2(n){return Pr(n,-32768,32767)}function wh(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function _v(n,e,t){t=t||(o=>n[o]<e);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}const Xa=(n,e,t,i)=>_v(n,t,i?r=>{const s=n[r][e];return s<t||s===t&&n[r+1][e]===t}:r=>n[r][e]<t),y2=(n,e,t)=>_v(n,t,i=>n[i][e]>=t);function v2(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const KM=["push","pop","shift","splice","unshift"];function x2(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),KM.forEach(t=>{const i="_onData"+gv(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...s)}),o}})})}function Tw(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(KM.forEach(s=>{delete n[s]}),delete n._chartjs)}function w2(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const JM=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function QM(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,JM.call(window,()=>{i=!1,n.apply(e,t)}))}}function b2(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const yv=n=>n==="start"?"left":n==="end"?"right":"center",di=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,S2=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function M2(n,e,t){const i=e.length;let r=0,s=i;if(n._sorted){const{iScale:o,vScale:u,_parsed:h}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=o.axis,{min:g,max:_,minDefined:y,maxDefined:w}=o.getUserBounds();if(y){if(r=Math.min(Xa(h,p,g).lo,t?i:Xa(e,p,o.getPixelForValue(g)).lo),d){const S=h.slice(0,r+1).reverse().findIndex(C=>!ln(C[u.axis]));r-=Math.max(0,S)}r=Pr(r,0,i-1)}if(w){let S=Math.max(Xa(h,o.axis,_,!0).hi+1,t?0:Xa(e,p,o.getPixelForValue(_),!0).hi+1);if(d){const C=h.slice(S-1).findIndex(b=>!ln(b[u.axis]));S+=Math.max(0,C)}s=Pr(S,r,i)-r}else s=i-r}return{start:r,count:s}}function E2(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),s}const Af=n=>n===0||n===1,Lw=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Es/t)),Cw=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Es/t)+1,Ah={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Qr)+1,easeOutSine:n=>Math.sin(n*Qr),easeInOutSine:n=>-.5*(Math.cos(qn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Af(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Af(n)?n:Lw(n,.075,.3),easeOutElastic:n=>Af(n)?n:Cw(n,.075,.3),easeInOutElastic(n){return Af(n)?n:n<.5?.5*Lw(n*2,.1125,.45):.5+.5*Cw(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Ah.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ah.easeInBounce(n*2)*.5:Ah.easeOutBounce(n*2-1)*.5+.5};function vv(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Pw(n){return vv(n)?n:new $M(n)}function a_(n){return vv(n)?n:new $M(n).saturate(.5).darken(.1).hexString()}const T2=["x","y","borderWidth","radius","tension"],L2=["color","borderColor","backgroundColor"];function C2(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:L2},numbers:{type:"number",properties:T2}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function P2(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Aw=new Map;function A2(n,e){e=e||{};const t=n+JSON.stringify(e);let i=Aw.get(t);return i||(i=new Intl.NumberFormat(n,e),Aw.set(t,i)),i}function eE(n,e,t){return A2(e,t).format(n)}const k2={values(n){return Zn(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),s=R2(n,t)}const o=XM(Math.abs(s)),u=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),h={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),eE(n,i,h)}};function R2(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var tE={formatters:k2};function I2(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const nl=Object.create(null),Ly=Object.create(null);function kh(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function l_(n,e,t){return typeof e=="string"?jh(kh(n,e),t):jh(kh(n,""),e)}class D2{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>a_(r.backgroundColor),this.hoverBorderColor=(i,r)=>a_(r.borderColor),this.hoverColor=(i,r)=>a_(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return l_(this,e,t)}get(e){return kh(this,e)}describe(e,t){return l_(Ly,e,t)}override(e,t){return l_(nl,e,t)}route(e,t,i,r){const s=kh(this,e),o=kh(this,i),u="_"+t;Object.defineProperties(s,{[u]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[u],d=o[r];return Wt(h)?Object.assign({},d,h):Bt(h,d)},set(h){this[u]=h}}})}apply(e){e.forEach(t=>t(this))}}var Pn=new D2({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[C2,P2,I2]);function N2(n){return!n||ln(n.size)||ln(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function kw(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function Fa(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function Rw(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Cy(n,e,t,i){nE(n,e,t,i,null)}function nE(n,e,t,i,r){let s,o,u,h,d,p,g,_;const y=e.pointStyle,w=e.rotation,S=e.radius;let C=(w||0)*u2;if(y&&typeof y=="object"&&(s=y.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(C),n.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),n.restore();return}if(!(isNaN(S)||S<=0)){switch(n.beginPath(),y){default:r?n.ellipse(t,i,r/2,S,0,0,Es):n.arc(t,i,S,0,Es),n.closePath();break;case"triangle":p=r?r/2:S,n.moveTo(t+Math.sin(C)*p,i-Math.cos(C)*S),C+=Sw,n.lineTo(t+Math.sin(C)*p,i-Math.cos(C)*S),C+=Sw,n.lineTo(t+Math.sin(C)*p,i-Math.cos(C)*S),n.closePath();break;case"rectRounded":d=S*.516,h=S-d,o=Math.cos(C+za)*h,g=Math.cos(C+za)*(r?r/2-d:h),u=Math.sin(C+za)*h,_=Math.sin(C+za)*(r?r/2-d:h),n.arc(t-g,i-u,d,C-qn,C-Qr),n.arc(t+_,i-o,d,C-Qr,C),n.arc(t+g,i+u,d,C,C+Qr),n.arc(t-_,i+o,d,C+Qr,C+qn),n.closePath();break;case"rect":if(!w){h=Math.SQRT1_2*S,p=r?r/2:h,n.rect(t-p,i-h,2*p,2*h);break}C+=za;case"rectRot":g=Math.cos(C)*(r?r/2:S),o=Math.cos(C)*S,u=Math.sin(C)*S,_=Math.sin(C)*(r?r/2:S),n.moveTo(t-g,i-u),n.lineTo(t+_,i-o),n.lineTo(t+g,i+u),n.lineTo(t-_,i+o),n.closePath();break;case"crossRot":C+=za;case"cross":g=Math.cos(C)*(r?r/2:S),o=Math.cos(C)*S,u=Math.sin(C)*S,_=Math.sin(C)*(r?r/2:S),n.moveTo(t-g,i-u),n.lineTo(t+g,i+u),n.moveTo(t+_,i-o),n.lineTo(t-_,i+o);break;case"star":g=Math.cos(C)*(r?r/2:S),o=Math.cos(C)*S,u=Math.sin(C)*S,_=Math.sin(C)*(r?r/2:S),n.moveTo(t-g,i-u),n.lineTo(t+g,i+u),n.moveTo(t+_,i-o),n.lineTo(t-_,i+o),C+=za,g=Math.cos(C)*(r?r/2:S),o=Math.cos(C)*S,u=Math.sin(C)*S,_=Math.sin(C)*(r?r/2:S),n.moveTo(t-g,i-u),n.lineTo(t+g,i+u),n.moveTo(t+_,i-o),n.lineTo(t-_,i+o);break;case"line":o=r?r/2:Math.cos(C)*S,u=Math.sin(C)*S,n.moveTo(t-o,i-u),n.lineTo(t+o,i+u);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(C)*(r?r/2:S),i+Math.sin(C)*S);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Gh(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function xv(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function wv(n){n.restore()}function O2(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else r==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function z2(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function F2(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),ln(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function B2(n,e,t,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=e-s.actualBoundingBoxLeft,u=e+s.actualBoundingBoxRight,h=t-s.actualBoundingBoxAscent,d=t+s.actualBoundingBoxDescent,p=r.strikethrough?(h+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,p),n.lineTo(u,p),n.stroke()}}function U2(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Zh(n,e,t,i,r,s={}){const o=Zn(e)?e:[e],u=s.strokeWidth>0&&s.strokeColor!=="";let h,d;for(n.save(),n.font=r.string,F2(n,s),h=0;h<o.length;++h)d=o[h],s.backdrop&&U2(n,s.backdrop),u&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),ln(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(d,t,i,s.maxWidth)),n.fillText(d,t,i,s.maxWidth),B2(n,t,i,d,s),i+=Number(r.lineHeight);n.restore()}function Py(n,e){const{x:t,y:i,w:r,h:s,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*qn,qn,!0),n.lineTo(t,i+s-o.bottomLeft),n.arc(t+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,qn,Qr,!0),n.lineTo(t+r-o.bottomRight,i+s),n.arc(t+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Qr,0,!0),n.lineTo(t+r,i+o.topRight),n.arc(t+r-o.topRight,i+o.topRight,o.topRight,0,-Qr,!0),n.lineTo(t+o.topLeft,i)}const H2=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,V2=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function j2(n,e){const t=(""+n).match(H2);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const W2=n=>+n||0;function iE(n,e){const t={},i=Wt(e),r=i?Object.keys(e):e,s=Wt(n)?i?o=>Bt(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of r)t[o]=W2(s(o));return t}function G2(n){return iE(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Rh(n){return iE(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ir(n){const e=G2(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function pi(n,e){n=n||{},e=e||Pn.font;let t=Bt(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Bt(n.style,e.style);i&&!(""+i).match(V2)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Bt(n.family,e.family),lineHeight:j2(Bt(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Bt(n.weight,e.weight),string:""};return r.string=N2(r),r}function kf(n,e,t,i){let r,s,o;for(r=0,s=n.length;r<s;++r)if(o=n[r],o!==void 0&&o!==void 0)return o}function Z2(n,e,t){const{min:i,max:r}=n,s=n2(e,(r-i)/2),o=(u,h)=>t&&u===0?0:u+h;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function al(n,e){return Object.assign(Object.create(n),e)}function bv(n,e=[""],t,i,r=()=>n[0]){const s=t||n;typeof i>"u"&&(i=aE("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:u=>bv([u,...n],e,s,i)};return new Proxy(o,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return sE(u,h,()=>eR(h,e,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return Dw(u).includes(h)},ownKeys(u){return Dw(u)},set(u,h,d){const p=u._storage||(u._storage=r());return u[h]=p[h]=d,delete u._keys,!0}})}function Vu(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:rE(n,i),setContext:s=>Vu(n,s,t,i),override:s=>Vu(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,u){return sE(s,o,()=>q2(s,o,u))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,u){return n[o]=u,delete s[o],!0}})}function rE(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:sa(t)?t:()=>t,isIndexable:sa(i)?i:()=>i}}const $2=(n,e)=>n?n+gv(e):e,Sv=(n,e)=>Wt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function sE(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function q2(n,e,t){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let u=i[e];return sa(u)&&o.isScriptable(e)&&(u=X2(e,u,n,t)),Zn(u)&&u.length&&(u=Y2(e,u,n,o.isIndexable)),Sv(e,u)&&(u=Vu(u,r,s&&s[e],o)),u}function X2(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=e(s,o||i);return u.delete(n),Sv(n,h)&&(h=Mv(r._scopes,r,n,h)),h}function Y2(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:u}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(Wt(e[0])){const h=e,d=r._scopes.filter(p=>p!==h);e=[];for(const p of h){const g=Mv(d,r,n,p);e.push(Vu(g,s,o&&o[n],u))}}return e}function oE(n,e,t){return sa(n)?n(e,t):n}const K2=(n,e)=>n===!0?e:typeof n=="string"?zp(e,n):void 0;function J2(n,e,t,i,r){for(const s of e){const o=K2(t,s);if(o){n.add(o);const u=oE(o._fallback,t,r);if(typeof u<"u"&&u!==t&&u!==i)return u}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function Mv(n,e,t,i){const r=e._rootScopes,s=oE(e._fallback,t,i),o=[...n,...r],u=new Set;u.add(i);let h=Iw(u,o,t,s||t,i);return h===null||typeof s<"u"&&s!==t&&(h=Iw(u,o,s,h,i),h===null)?!1:bv(Array.from(u),[""],r,s,()=>Q2(e,t,i))}function Iw(n,e,t,i,r){for(;t;)t=J2(n,e,t,i,r);return t}function Q2(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return Zn(r)&&Wt(t)?t:r||{}}function eR(n,e,t,i){let r;for(const s of e)if(r=aE($2(s,n),t),typeof r<"u")return Sv(n,r)?Mv(t,i,n,r):r}function aE(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function Dw(n){let e=n._keys;return e||(e=n._keys=tR(n._scopes)),e}function tR(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const nR=Number.EPSILON||1e-14,ju=(n,e)=>e<n.length&&!n[e].skip&&n[e],lE=n=>n==="x"?"y":"x";function iR(n,e,t,i){const r=n.skip?e:n,s=e,o=t.skip?e:t,u=Ty(s,r),h=Ty(o,s);let d=u/(u+h),p=h/(u+h);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const g=i*d,_=i*p;return{previous:{x:s.x-g*(o.x-r.x),y:s.y-g*(o.y-r.y)},next:{x:s.x+_*(o.x-r.x),y:s.y+_*(o.y-r.y)}}}function rR(n,e,t){const i=n.length;let r,s,o,u,h,d=ju(n,0);for(let p=0;p<i-1;++p)if(h=d,d=ju(n,p+1),!(!h||!d)){if(Ph(e[p],0,nR)){t[p]=t[p+1]=0;continue}r=t[p]/e[p],s=t[p+1]/e[p],u=Math.pow(r,2)+Math.pow(s,2),!(u<=9)&&(o=3/Math.sqrt(u),t[p]=r*o*e[p],t[p+1]=s*o*e[p])}}function sR(n,e,t="x"){const i=lE(t),r=n.length;let s,o,u,h=ju(n,0);for(let d=0;d<r;++d){if(o=u,u=h,h=ju(n,d+1),!u)continue;const p=u[t],g=u[i];o&&(s=(p-o[t])/3,u[`cp1${t}`]=p-s,u[`cp1${i}`]=g-s*e[d]),h&&(s=(h[t]-p)/3,u[`cp2${t}`]=p+s,u[`cp2${i}`]=g+s*e[d])}}function oR(n,e="x"){const t=lE(e),i=n.length,r=Array(i).fill(0),s=Array(i);let o,u,h,d=ju(n,0);for(o=0;o<i;++o)if(u=h,h=d,d=ju(n,o+1),!!h){if(d){const p=d[e]-h[e];r[o]=p!==0?(d[t]-h[t])/p:0}s[o]=u?d?Hu(r[o-1])!==Hu(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}rR(n,r,s),sR(n,s,e)}function Rf(n,e,t){return Math.max(Math.min(n,t),e)}function aR(n,e){let t,i,r,s,o,u=Gh(n[0],e);for(t=0,i=n.length;t<i;++t)o=s,s=u,u=t<i-1&&Gh(n[t+1],e),s&&(r=n[t],o&&(r.cp1x=Rf(r.cp1x,e.left,e.right),r.cp1y=Rf(r.cp1y,e.top,e.bottom)),u&&(r.cp2x=Rf(r.cp2x,e.left,e.right),r.cp2y=Rf(r.cp2y,e.top,e.bottom)))}function lR(n,e,t,i,r){let s,o,u,h;if(e.spanGaps&&(n=n.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")oR(n,r);else{let d=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)u=n[s],h=iR(d,u,n[Math.min(s+1,o-(i?0:1))%o],e.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,d=u}e.capBezierPoints&&aR(n,t)}function Ev(){return typeof window<"u"&&typeof document<"u"}function Tv(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Up(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const um=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function uR(n,e){return um(n).getPropertyValue(e)}const cR=["top","right","bottom","left"];function Ja(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=cR[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const hR=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function dR(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i;let o=!1,u,h;if(hR(r,s,n.target))u=r,h=s;else{const d=e.getBoundingClientRect();u=i.clientX-d.left,h=i.clientY-d.top,o=!0}return{x:u,y:h,box:o}}function Va(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=um(t),s=r.boxSizing==="border-box",o=Ja(r,"padding"),u=Ja(r,"border","width"),{x:h,y:d,box:p}=dR(n,t),g=o.left+(p&&u.left),_=o.top+(p&&u.top);let{width:y,height:w}=e;return s&&(y-=o.width+u.width,w-=o.height+u.height),{x:Math.round((h-g)/y*t.width/i),y:Math.round((d-_)/w*t.height/i)}}function fR(n,e,t){let i,r;if(e===void 0||t===void 0){const s=n&&Tv(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const o=s.getBoundingClientRect(),u=um(s),h=Ja(u,"border","width"),d=Ja(u,"padding");e=o.width-d.width-h.width,t=o.height-d.height-h.height,i=Up(u.maxWidth,s,"clientWidth"),r=Up(u.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:i||Bp,maxHeight:r||Bp}}const If=n=>Math.round(n*10)/10;function pR(n,e,t,i){const r=um(n),s=Ja(r,"margin"),o=Up(r.maxWidth,n,"clientWidth")||Bp,u=Up(r.maxHeight,n,"clientHeight")||Bp,h=fR(n,e,t);let{width:d,height:p}=h;if(r.boxSizing==="content-box"){const _=Ja(r,"border","width"),y=Ja(r,"padding");d-=y.width+_.width,p-=y.height+_.height}return d=Math.max(0,d-s.width),p=Math.max(0,i?d/i:p-s.height),d=If(Math.min(d,o,h.maxWidth)),p=If(Math.min(p,u,h.maxHeight)),d&&!p&&(p=If(d/2)),(e!==void 0||t!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,d=If(Math.floor(p*i))),{width:d,height:p}}function Nw(n,e,t){const i=e||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const mR=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Ev()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function Ow(n,e){const t=uR(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ja(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function gR(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function _R(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=ja(n,r,t),u=ja(r,s,t),h=ja(s,e,t),d=ja(o,u,t),p=ja(u,h,t);return ja(d,p,t)}const yR=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},vR=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Au(n,e,t){return n?yR(e,t):vR()}function uE(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function cE(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function hE(n){return n==="angle"?{between:YM,compare:g2,normalize:Yo}:{between:wh,compare:(e,t)=>e-t,normalize:e=>e}}function zw({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:r}}function xR(n,e,t){const{property:i,start:r,end:s}=t,{between:o,normalize:u}=hE(i),h=e.length;let{start:d,end:p,loop:g}=n,_,y;if(g){for(d+=h,p+=h,_=0,y=h;_<y&&o(u(e[d%h][i]),r,s);++_)d--,p--;d%=h,p%=h}return p<d&&(p+=h),{start:d,end:p,loop:g,style:n.style}}function wR(n,e,t){if(!t)return[n];const{property:i,start:r,end:s}=t,o=e.length,{compare:u,between:h,normalize:d}=hE(i),{start:p,end:g,loop:_,style:y}=xR(n,e,t),w=[];let S=!1,C=null,b,T,k;const F=()=>h(r,k,b)&&u(r,k)!==0,R=()=>u(s,b)===0||h(s,k,b),B=()=>S||F(),N=()=>!S||R();for(let O=p,j=p;O<=g;++O)T=e[O%o],!T.skip&&(b=d(T[i]),b!==k&&(S=h(b,r,s),C===null&&B()&&(C=u(b,r)===0?O:j),C!==null&&N()&&(w.push(zw({start:C,end:O,loop:_,count:o,style:y})),C=null),j=O,k=b));return C!==null&&w.push(zw({start:C,end:g,loop:_,count:o,style:y})),w}function bR(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const s=wR(i[r],n.points,e);s.length&&t.push(...s)}return t}function SR(n,e,t,i){let r=0,s=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&n[s%e].skip;)s--;return s%=e,{start:r,end:s}}function MR(n,e,t,i){const r=n.length,s=[];let o=e,u=n[e],h;for(h=e+1;h<=t;++h){const d=n[h%r];d.skip||d.stop?u.skip||(i=!1,s.push({start:e%r,end:(h-1)%r,loop:i}),e=o=d.stop?h:null):(o=h,u.skip&&(e=h)),u=d}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function ER(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const s=!!n._loop,{start:o,end:u}=SR(t,r,s,i);if(i===!0)return Fw(n,[{start:o,end:u,loop:s}],t,e);const h=u<o?u+r:u,d=!!n._fullLoop&&o===0&&u===r-1;return Fw(n,MR(t,o,h,d),t,e)}function Fw(n,e,t,i){return!i||!i.setContext||!t?e:TR(n,e,t,i)}function TR(n,e,t,i){const r=n._chart.getContext(),s=Bw(n.options),{_datasetIndex:o,options:{spanGaps:u}}=n,h=t.length,d=[];let p=s,g=e[0].start,_=g;function y(w,S,C,b){const T=u?-1:1;if(w!==S){for(w+=h;t[w%h].skip;)w-=T;for(;t[S%h].skip;)S+=T;w%h!==S%h&&(d.push({start:w%h,end:S%h,loop:C,style:b}),p=b,g=S%h)}}for(const w of e){g=u?g:w.start;let S=t[g%h],C;for(_=g+1;_<=w.end;_++){const b=t[_%h];C=Bw(i.setContext(al(r,{type:"segment",p0:S,p1:b,p0DataIndex:(_-1)%h,p1DataIndex:_%h,datasetIndex:o}))),LR(C,p)&&y(g,_-1,w.loop,p),S=b,p=C}g<_-1&&y(g,_-1,w.loop,p)}return d}function Bw(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function LR(n,e){if(!e)return!1;const t=[],i=function(r,s){return vv(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function Df(n,e,t){return n.options.clip?n[t]:e[t]}function CR(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:Df(t,e,"left"),right:Df(t,e,"right"),top:Df(i,e,"top"),bottom:Df(i,e,"bottom")}:e}function PR(n,e){const t=e._clip;if(t.disabled)return!1;const i=CR(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class AR{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const s=t.listeners[r],o=t.duration;s.forEach(u=>u({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=JM.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,u=!1,h;for(;o>=0;--o)h=s[o],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),u=!0):(s[o]=s[s.length-1],s.pop());u&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var no=new AR;const Uw="transparent",kR={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=Pw(n||Uw),r=i.valid&&Pw(e||Uw);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class RR{constructor(e,t,i,r){const s=t[i];r=kf([e.to,r,s,e.from]);const o=kf([e.from,s,r]);this._active=!0,this._fn=e.fn||kR[e.type||typeof o],this._easing=Ah[e.easing]||Ah.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=kf([e.to,t,r,e.from]),this._from=kf([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,u=this._to;let h;if(this._active=s!==u&&(o||t<i),!this._active){this._target[r]=u,this._notify(!0);return}if(t<0){this._target[r]=s;return}h=t/i%2,h=o&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(s,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class dE{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Wt(e))return;const t=Object.keys(Pn.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!Wt(s))return;const o={};for(const u of t)o[u]=s[u];(Zn(s.properties)&&s.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,o)})})}_animateOptions(e,t){const i=t.options,r=DR(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&IR(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),u=Date.now();let h;for(h=o.length-1;h>=0;--h){const d=o[h];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,t));continue}const p=t[d];let g=s[d];const _=i.get(d);if(g)if(_&&g.active()){g.update(_,p,u);continue}else g.cancel();if(!_||!_.duration){e[d]=p;continue}s[d]=g=new RR(_,e,d,p),r.push(g)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return no.add(this._chart,i),!0}}function IR(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function DR(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Hw(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function NR(n,e,t){if(t===!1)return!1;const i=Hw(n,t),r=Hw(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function OR(n){let e,t,i,r;return Wt(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function fE(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function Vw(n,e,t,i={}){const r=n.keys,s=i.mode==="single";let o,u,h,d;if(e===null)return;let p=!1;for(o=0,u=r.length;o<u;++o){if(h=+r[o],h===t){if(p=!0,i.all)continue;break}d=n.values[h],Rr(d)&&(s||e===0||Hu(e)===Hu(d))&&(e+=d)}return!p&&!i.all?0:e}function zR(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(n),u=new Array(o.length);let h,d,p;for(h=0,d=o.length;h<d;++h)p=o[h],u[h]={[r]:p,[s]:n[p]};return u}function u_(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function FR(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function BR(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function UR(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function jw(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function Ww(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:u}=i,h=s.axis,d=o.axis,p=FR(s,o,i),g=e.length;let _;for(let y=0;y<g;++y){const w=e[y],{[h]:S,[d]:C}=w,b=w._stacks||(w._stacks={});_=b[d]=UR(r,p,S),_[u]=C,_._top=jw(_,o,!0,i.type),_._bottom=jw(_,o,!1,i.type);const T=_._visualValues||(_._visualValues={});T[u]=C}}function c_(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function HR(n,e){return al(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function VR(n,e,t){return al(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Jc(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][t]===void 0)return;delete s[i][t],s[i]._visualValues!==void 0&&s[i]._visualValues[t]!==void 0&&delete s[i]._visualValues[t]}}}const h_=n=>n==="reset"||n==="none",Gw=(n,e)=>e?n:Object.assign({},n),jR=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:fE(t,!0),values:null};class pE{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=u_(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Jc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(g,_,y,w)=>g==="x"?_:g==="r"?w:y,s=t.xAxisID=Bt(i.xAxisID,c_(e,"x")),o=t.yAxisID=Bt(i.yAxisID,c_(e,"y")),u=t.rAxisID=Bt(i.rAxisID,c_(e,"r")),h=t.indexAxis,d=t.iAxisID=r(h,s,o,u),p=t.vAxisID=r(h,o,s,u);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Tw(this._data,this),e._stacked&&Jc(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Wt(t)){const r=this._cachedMeta;this._data=zR(t,r)}else if(i!==t){if(i){Tw(i,this);const r=this._cachedMeta;Jc(r),r._parsed=[]}t&&Object.isExtensible(t)&&x2(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=u_(t.vScale,t),t.stack!==i.stack&&(r=!0,Jc(t),t.stack=i.stack),this._resyncElements(e),(r||s!==t._stacked)&&(Ww(this,t._parsed),t._stacked=u_(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,u=s.axis;let h=e===0&&t===r.length?!0:i._sorted,d=e>0&&i._parsed[e-1],p,g,_;if(this._parsing===!1)i._parsed=r,i._sorted=!0,_=r;else{Zn(r[e])?_=this.parseArrayData(i,r,e,t):Wt(r[e])?_=this.parseObjectData(i,r,e,t):_=this.parsePrimitiveData(i,r,e,t);const y=()=>g[u]===null||d&&g[u]<d[u];for(p=0;p<t;++p)i._parsed[p+e]=g=_[p],h&&(y()&&(h=!1),d=g);i._sorted=h}o&&Ww(this,_)}parsePrimitiveData(e,t,i,r){const{iScale:s,vScale:o}=e,u=s.axis,h=o.axis,d=s.getLabels(),p=s===o,g=new Array(r);let _,y,w;for(_=0,y=r;_<y;++_)w=_+i,g[_]={[u]:p||s.parse(d[w],w),[h]:o.parse(t[w],w)};return g}parseArrayData(e,t,i,r){const{xScale:s,yScale:o}=e,u=new Array(r);let h,d,p,g;for(h=0,d=r;h<d;++h)p=h+i,g=t[p],u[h]={x:s.parse(g[0],p),y:o.parse(g[1],p)};return u}parseObjectData(e,t,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,d=new Array(r);let p,g,_,y;for(p=0,g=r;p<g;++p)_=p+i,y=t[_],d[p]={x:s.parse(zp(y,u),_),y:o.parse(zp(y,h),_)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,s=this._cachedMeta,o=t[e.axis],u={keys:fE(r,!0),values:t._stacks[e.axis]._visualValues};return Vw(u,o,s.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const s=i[t.axis];let o=s===null?NaN:s;const u=r&&i._stacks[t.axis];r&&u&&(r.values=u,o=Vw(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,u=this._getOtherScale(e),h=jR(t,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=BR(u);let _,y;function w(){y=r[_];const S=y[u.axis];return!Rr(y[e.axis])||p>S||g<S}for(_=0;_<o&&!(!w()&&(this.updateRangeFromParsed(d,e,y,h),s));++_);if(s){for(_=o-1;_>=0;--_)if(!w()){this.updateRangeFromParsed(d,e,y,h);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=t.length;r<s;++r)o=t[r][e.axis],Rr(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=OR(Bt(this.options.clip,NR(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],s=t.chartArea,o=[],u=this._drawStart||0,h=this._drawCount||r.length-u,d=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,s,u,h),p=u;p<u+h;++p){const g=r[p];g.hidden||(g.active&&d?o.push(g):g.draw(e,s))}for(p=0;p<o.length;++p)o[p].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=VR(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=HR(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",s=this._cachedDataOpts,o=e+"-"+t,u=s[o],h=this.enableOptionSharing&&Fp(i);if(u)return Gw(u,h);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,e),g=r?[`${e}Hover`,"hover",e,""]:[e,""],_=d.getOptionScopes(this.getDataset(),p),y=Object.keys(Pn.elements[e]),w=()=>this.getContext(i,r,t),S=d.resolveNamedOptions(_,y,w,g);return S.$shared&&(S.$shared=h,s[o]=Object.freeze(Gw(S,h))),S}_resolveAnimations(e,t,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,u=s[o];if(u)return u;let h;if(r.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,t),_=p.getOptionScopes(this.getDataset(),g);h=p.createResolver(_,this.getContext(e,i,t))}const d=new dE(r,h&&h.animations);return h&&h._cacheable&&(s[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||h_(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:o}}updateElement(e,t,i,r){h_(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!h_(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[u,h,d]of this._syncList)this[u](h,d);this._syncList=[];const r=i.length,s=t.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,i=!0){const r=this._cachedMeta,s=r.data,o=e+t;let u;const h=d=>{for(d.length+=t,u=d.length-1;u>=o;u--)d[u]=d[u-t]};for(h(s),u=e;u<o;++u)s[u]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&Jc(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class WR extends pE{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=t,o=this.chart._animationsDisabled;let{start:u,count:h}=M2(t,r,o);this._drawStart=u,this._drawCount=h,E2(t)&&(u=0,h=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:d},e),this.updateElements(r,u,h,e)}updateElements(e,t,i,r){const s=r==="reset",{iScale:o,vScale:u,_stacked:h,_dataset:d}=this._cachedMeta,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(t,r),_=o.axis,y=u.axis,{spanGaps:w,segment:S}=this.options,C=Wh(w)?w:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||r==="none",T=t+i,k=e.length;let F=t>0&&this.getParsed(t-1);for(let R=0;R<k;++R){const B=e[R],N=b?B:{};if(R<t||R>=T){N.skip=!0;continue}const O=this.getParsed(R),j=ln(O[y]),W=N[_]=o.getPixelForValue(O[_],R),H=N[y]=s||j?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,O,h):O[y],R);N.skip=isNaN(W)||isNaN(H)||j,N.stop=R>0&&Math.abs(O[_]-F[_])>C,S&&(N.parsed=O,N.raw=d.data[R]),g&&(N.options=p||this.resolveDataElementOptions(R,B.active?"active":r)),b||this.updateElement(B,R,N,r),F=O}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function Ba(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Lv{static override(e){Object.assign(Lv.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ba()}parse(){return Ba()}format(){return Ba()}add(){return Ba()}diff(){return Ba()}startOf(){return Ba()}endOf(){return Ba()}}var GR={_date:Lv};function ZR(n,e,t,i){const{controller:r,data:s,_sorted:o}=n,u=r._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&o&&s.length){const d=u._reversePixels?y2:Xa;if(i){if(r._sharedOptions){const p=s[0],g=typeof p.getRange=="function"&&p.getRange(e);if(g){const _=d(s,e,t-g),y=d(s,e,t+g);return{lo:_.lo,hi:y.hi}}}}else{const p=d(s,e,t);if(h){const{vScale:g}=r._cachedMeta,{_parsed:_}=n,y=_.slice(0,p.lo+1).reverse().findIndex(S=>!ln(S[g.axis]));p.lo-=Math.max(0,y);const w=_.slice(p.hi).findIndex(S=>!ln(S[g.axis]));p.hi+=Math.max(0,w)}return p}}return{lo:0,hi:s.length-1}}function cm(n,e,t,i,r){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let u=0,h=s.length;u<h;++u){const{index:d,data:p}=s[u],{lo:g,hi:_}=ZR(s[u],e,o,r);for(let y=g;y<=_;++y){const w=p[y];w.skip||i(w,d,y)}}}function $R(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function d_(n,e,t,i,r){const s=[];return!r&&!n.isPointInArea(e)||cm(n,t,e,function(u,h,d){!r&&!Gh(u,n.chartArea,0)||u.inRange(e.x,e.y,i)&&s.push({element:u,datasetIndex:h,index:d})},!0),s}function qR(n,e,t,i){let r=[];function s(o,u,h){const{startAngle:d,endAngle:p}=o.getProps(["startAngle","endAngle"],i),{angle:g}=m2(o,{x:e.x,y:e.y});YM(g,d,p)&&r.push({element:o,datasetIndex:u,index:h})}return cm(n,t,e,s),r}function XR(n,e,t,i,r,s){let o=[];const u=$R(t);let h=Number.POSITIVE_INFINITY;function d(p,g,_){const y=p.inRange(e.x,e.y,r);if(i&&!y)return;const w=p.getCenterPoint(r);if(!(!!s||n.isPointInArea(w))&&!y)return;const C=u(e,w);C<h?(o=[{element:p,datasetIndex:g,index:_}],h=C):C===h&&o.push({element:p,datasetIndex:g,index:_})}return cm(n,t,e,d),o}function f_(n,e,t,i,r,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!i?qR(n,e,t,r):XR(n,e,t,i,r,s)}function Zw(n,e,t,i,r){const s=[],o=t==="x"?"inXRange":"inYRange";let u=!1;return cm(n,t,e,(h,d,p)=>{h[o]&&h[o](e[t],r)&&(s.push({element:h,datasetIndex:d,index:p}),u=u||h.inRange(e.x,e.y,r))}),i&&!u?[]:s}var YR={modes:{index(n,e,t,i){const r=Va(e,n),s=t.axis||"x",o=t.includeInvisible||!1,u=t.intersect?d_(n,r,s,i,o):f_(n,r,s,!1,i,o),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const p=u[0].index,g=d.data[p];g&&!g.skip&&h.push({element:g,datasetIndex:d.index,index:p})}),h):[]},dataset(n,e,t,i){const r=Va(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let u=t.intersect?d_(n,r,s,i,o):f_(n,r,s,!1,i,o);if(u.length>0){const h=u[0].datasetIndex,d=n.getDatasetMeta(h).data;u=[];for(let p=0;p<d.length;++p)u.push({element:d[p],datasetIndex:h,index:p})}return u},point(n,e,t,i){const r=Va(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return d_(n,r,s,i,o)},nearest(n,e,t,i){const r=Va(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return f_(n,r,s,t.intersect,i,o)},x(n,e,t,i){const r=Va(e,n);return Zw(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=Va(e,n);return Zw(n,r,"y",t.intersect,i)}}};const mE=["left","top","right","bottom"];function Qc(n,e){return n.filter(t=>t.pos===e)}function $w(n,e){return n.filter(t=>mE.indexOf(t.pos)===-1&&t.box.axis===e)}function eh(n,e){return n.sort((t,i)=>{const r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function KR(n){const e=[];let t,i,r,s,o,u;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:s,options:{stack:o,stackWeight:u=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:u});return e}function JR(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:s}=t;if(!i||!mE.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function QR(n,e){const t=JR(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,u;for(s=0,o=n.length;s<o;++s){u=n[s];const{fullSize:h}=u.box,d=t[u.stack],p=d&&u.stackWeight/d.weight;u.horizontal?(u.width=p?p*i:h&&e.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:h&&e.availableHeight)}return t}function e3(n){const e=KR(n),t=eh(e.filter(d=>d.box.fullSize),!0),i=eh(Qc(e,"left"),!0),r=eh(Qc(e,"right")),s=eh(Qc(e,"top"),!0),o=eh(Qc(e,"bottom")),u=$w(e,"x"),h=$w(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(h).concat(o).concat(u),chartArea:Qc(e,"chartArea"),vertical:i.concat(r).concat(h),horizontal:s.concat(o).concat(u)}}function qw(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function gE(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function t3(n,e,t,i){const{pos:r,box:s}=t,o=n.maxPadding;if(!Wt(r)){t.size&&(n[r]-=t.size);const g=i[t.stack]||{size:0,count:1};g.size=Math.max(g.size,t.horizontal?s.height:s.width),t.size=g.size/g.count,n[r]+=t.size}s.getPadding&&gE(o,s.getPadding());const u=Math.max(0,e.outerWidth-qw(o,n,"left","right")),h=Math.max(0,e.outerHeight-qw(o,n,"top","bottom")),d=u!==n.w,p=h!==n.h;return n.w=u,n.h=h,t.horizontal?{same:d,other:p}:{same:p,other:d}}function n3(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function i3(n,e){const t=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return i(n?["left","right"]:["top","bottom"])}function bh(n,e,t,i){const r=[];let s,o,u,h,d,p;for(s=0,o=n.length,d=0;s<o;++s){u=n[s],h=u.box,h.update(u.width||e.w,u.height||e.h,i3(u.horizontal,e));const{same:g,other:_}=t3(e,t,u,i);d|=g&&r.length,p=p||_,h.fullSize||r.push(u)}return d&&bh(r,e,t,i)||p}function Nf(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function Xw(n,e,t,i){const r=t.padding;let{x:s,y:o}=e;for(const u of n){const h=u.box,d=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/d.weight||1;if(u.horizontal){const g=e.w*p,_=d.size||h.height;Fp(d.start)&&(o=d.start),h.fullSize?Nf(h,r.left,o,t.outerWidth-r.right-r.left,_):Nf(h,e.left+d.placed,o,g,_),d.start=o,d.placed+=g,o=h.bottom}else{const g=e.h*p,_=d.size||h.width;Fp(d.start)&&(s=d.start),h.fullSize?Nf(h,s,r.top,_,t.outerHeight-r.bottom-r.top):Nf(h,s,e.top+d.placed,_,g),d.start=s,d.placed+=g,s=h.right}}e.x=s,e.y=o}var Ar={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=Ir(n.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(t-r.height,0),u=e3(n.boxes),h=u.vertical,d=u.horizontal;qt(n.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=h.reduce((S,C)=>C.box.options&&C.box.options.display===!1?S:S+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/p,hBoxMaxHeight:o/2}),_=Object.assign({},r);gE(_,Ir(i));const y=Object.assign({maxPadding:_,w:s,h:o,x:r.left,y:r.top},r),w=QR(h.concat(d),g);bh(u.fullSize,y,g,w),bh(h,y,g,w),bh(d,y,g,w)&&bh(h,y,g,w),n3(y),Xw(u.leftAndTop,y,g,w),y.x+=y.w,y.y+=y.h,Xw(u.rightAndBottom,y,g,w),n.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},qt(u.chartArea,S=>{const C=S.box;Object.assign(C,n.chartArea),C.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class _E{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class r3 extends _E{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Tp="$chartjs",s3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Yw=n=>n===null||n==="";function o3(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Tp]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Yw(r)){const s=Ow(n,"width");s!==void 0&&(n.width=s)}if(Yw(i))if(n.style.height==="")n.height=n.width/(e||2);else{const s=Ow(n,"height");s!==void 0&&(n.height=s)}return n}const yE=mR?{passive:!0}:!1;function a3(n,e,t){n&&n.addEventListener(e,t,yE)}function l3(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,yE)}function u3(n,e){const t=s3[n.type]||n.type,{x:i,y:r}=Va(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Hp(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function c3(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const u of s)o=o||Hp(u.addedNodes,i),o=o&&!Hp(u.removedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function h3(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const u of s)o=o||Hp(u.removedNodes,i),o=o&&!Hp(u.addedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const $h=new Map;let Kw=0;function vE(){const n=window.devicePixelRatio;n!==Kw&&(Kw=n,$h.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function d3(n,e){$h.size||window.addEventListener("resize",vE),$h.set(n,e)}function f3(n){$h.delete(n),$h.size||window.removeEventListener("resize",vE)}function p3(n,e,t){const i=n.canvas,r=i&&Tv(i);if(!r)return;const s=QM((u,h)=>{const d=r.clientWidth;t(u,h),d<r.clientWidth&&t()},window),o=new ResizeObserver(u=>{const h=u[0],d=h.contentRect.width,p=h.contentRect.height;d===0&&p===0||s(d,p)});return o.observe(r),d3(n,s),o}function p_(n,e,t){t&&t.disconnect(),e==="resize"&&f3(n)}function m3(n,e,t){const i=n.canvas,r=QM(s=>{n.ctx!==null&&t(u3(s,n))},n);return a3(i,e,r),r}class g3 extends _E{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(o3(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Tp])return!1;const i=t[Tp].initial;["height","width"].forEach(s=>{const o=i[s];ln(o)?t.removeAttribute(s):t.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[Tp],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),o={attach:c3,detach:h3,resize:p3}[t]||m3;r[t]=o(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:p_,detach:p_,resize:p_}[t]||l3)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return pR(e,t,i,r)}isAttached(e){const t=e&&Tv(e);return!!(t&&t.isConnected)}}function _3(n){return!Ev()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?r3:g3}let ll=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Wh(this.x)&&Wh(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}};function y3(n,e){const t=n.options.ticks,i=v3(n),r=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?w3(e):[],o=s.length,u=s[0],h=s[o-1],d=[];if(o>r)return b3(e,d,s,o/r),d;const p=x3(s,e,r);if(o>0){let g,_;const y=o>1?Math.round((h-u)/(o-1)):null;for(Of(e,d,p,ln(y)?0:u-y,u),g=0,_=o-1;g<_;g++)Of(e,d,p,s[g],s[g+1]);return Of(e,d,p,h,ln(y)?e.length:h+y),d}return Of(e,d,p),d}function v3(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function x3(n,e,t){const i=S3(n),r=e.length/t;if(!i)return Math.max(r,1);const s=c2(i);for(let o=0,u=s.length-1;o<u;o++){const h=s[o];if(h>r)return h}return Math.max(r,1)}function w3(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function b3(n,e,t,i){let r=0,s=t[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(e.push(n[o]),r++,s=t[r*i])}function Of(n,e,t,i,r){const s=Bt(i,0),o=Math.min(Bt(r,n.length),n.length);let u=0,h,d,p;for(t=Math.ceil(t),r&&(h=r-i,t=h/Math.floor(h/t)),p=s;p<0;)u++,p=Math.round(s+u*t);for(d=Math.max(s,0);d<o;d++)d===p&&(e.push(n[d]),u++,p=Math.round(s+u*t))}function S3(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const M3=n=>n==="left"?"right":n==="right"?"left":n,Jw=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Qw=(n,e)=>Math.min(e||n,n);function eb(n,e){const t=[],i=n.length/e,r=n.length;let s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function E3(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,o=n._endPixel,u=1e-6;let h=n.getPixelForTick(r),d;if(!(t&&(i===1?d=Math.max(h-s,o-h):e===0?d=(n.getPixelForTick(1)-h)/2:d=(h-n.getPixelForTick(r-1))/2,h+=r<e?d:-d,h<s-u||h>o+u)))return h}function T3(n,e){qt(n,t=>{const i=t.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}function th(n){return n.drawTicks?n.tickLength:0}function tb(n,e){if(!n.display)return 0;const t=pi(n.font,e),i=Ir(n.padding);return(Zn(n.text)?n.text.length:1)*t.lineHeight+i.height}function L3(n,e){return al(n,{scale:e,type:"scale"})}function C3(n,e,t){return al(n,{tick:t,index:e,type:"tick"})}function P3(n,e,t){let i=yv(n);return(t&&e!=="right"||!t&&e==="right")&&(i=M3(i)),i}function A3(n,e,t,i){const{top:r,left:s,bottom:o,right:u,chart:h}=n,{chartArea:d,scales:p}=h;let g=0,_,y,w;const S=o-r,C=u-s;if(n.isHorizontal()){if(y=di(i,s,u),Wt(t)){const b=Object.keys(t)[0],T=t[b];w=p[b].getPixelForValue(T)+S-e}else t==="center"?w=(d.bottom+d.top)/2+S-e:w=Jw(n,t,e);_=u-s}else{if(Wt(t)){const b=Object.keys(t)[0],T=t[b];y=p[b].getPixelForValue(T)-C+e}else t==="center"?y=(d.left+d.right)/2-C+e:y=Jw(n,t,e);w=di(i,o,r),g=t==="left"?-Qr:Qr}return{titleX:y,titleY:w,maxWidth:_,rotation:g}}class Ju extends ll{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=ms(e,Number.POSITIVE_INFINITY),t=ms(t,Number.NEGATIVE_INFINITY),i=ms(i,Number.POSITIVE_INFINITY),r=ms(r,Number.NEGATIVE_INFINITY),{min:ms(e,i),max:ms(t,r),minDefined:Rr(e),maxDefined:Rr(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:t,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,d=u.length;h<d;++h)o=u[h].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),s||(i=Math.max(i,o.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:ms(t,ms(i,t)),max:ms(i,ms(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){dn(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,u=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Z2(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?eb(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=y3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){dn(this.options.afterUpdate,[this])}beforeSetDimensions(){dn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){dn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),dn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){dn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=dn(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){dn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){dn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=Qw(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let o=r,u,h,d;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),g=p.widest.width,_=p.highest.height,y=Pr(this.chart.width-g,0,this.maxWidth);u=e.offset?this.maxWidth/i:y/(i-1),g+6>u&&(u=y/(i-(e.offset?.5:1)),h=this.maxHeight-th(e.grid)-t.padding-tb(e.title,this.chart.options.font),d=Math.sqrt(g*g+_*_),o=p2(Math.min(Math.asin(Pr((p.highest.height+6)/u,-1,1)),Math.asin(Pr(h/d,-1,1))-Math.asin(Pr(_/d,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){dn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){dn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),u=this.isHorizontal();if(o){const h=tb(r,t.options.font);if(u?(e.width=this.maxWidth,e.height=th(s)+h):(e.height=this.maxHeight,e.width=th(s)+h),i.display&&this.ticks.length){const{first:d,last:p,widest:g,highest:_}=this._getLabelSizes(),y=i.padding*2,w=qa(this.labelRotation),S=Math.cos(w),C=Math.sin(w);if(u){const b=i.mirror?0:C*g.width+S*_.height;e.height=Math.min(this.maxHeight,e.height+b+y)}else{const b=i.mirror?0:S*g.width+C*_.height;e.width=Math.min(this.maxWidth,e.width+b+y)}this._calculatePadding(d,p,C,S)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:s,padding:o},position:u}=this.options,h=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,y=0;h?d?(_=r*e.width,y=i*t.height):(_=i*e.height,y=r*t.width):s==="start"?y=t.width:s==="end"?_=e.width:s!=="inner"&&(_=e.width/2,y=t.width/2),this.paddingLeft=Math.max((_-p+o)*this.width/(this.width-p),0),this.paddingRight=Math.max((y-g+o)*this.width/(this.width-g),0)}else{let p=t.height/2,g=e.height/2;s==="start"?(p=0,g=e.height):s==="end"&&(p=t.height,g=0),this.paddingTop=p+o,this.paddingBottom=g+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){dn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)ln(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=eb(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:s}=this,o=[],u=[],h=Math.floor(t/Qw(t,i));let d=0,p=0,g,_,y,w,S,C,b,T,k,F,R;for(g=0;g<t;g+=h){if(w=e[g].label,S=this._resolveTickFontOptions(g),r.font=C=S.string,b=s[C]=s[C]||{data:{},gc:[]},T=S.lineHeight,k=F=0,!ln(w)&&!Zn(w))k=kw(r,b.data,b.gc,k,w),F=T;else if(Zn(w))for(_=0,y=w.length;_<y;++_)R=w[_],!ln(R)&&!Zn(R)&&(k=kw(r,b.data,b.gc,k,R),F+=T);o.push(k),u.push(F),d=Math.max(k,d),p=Math.max(F,p)}T3(s,t);const B=o.indexOf(d),N=u.indexOf(p),O=j=>({width:o[j]||0,height:u[j]||0});return{first:O(0),last:O(t-1),widest:O(B),highest:O(N),widths:o,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return _2(this._alignToPixels?Fa(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=C3(this.getContext(),e,i))}return this.$context||(this.$context=L3(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=qa(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,u=s?s.widest.width+o:0,h=s?s.highest.height+o:0;return this.isHorizontal()?h*i>u*r?u/i:h/r:h*r<u*i?h/i:u/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:u}=r,h=s.offset,d=this.isHorizontal(),g=this.ticks.length+(h?1:0),_=th(s),y=[],w=u.setContext(this.getContext()),S=w.display?w.width:0,C=S/2,b=function(ae){return Fa(i,ae,S)};let T,k,F,R,B,N,O,j,W,H,J,Y;if(o==="top")T=b(this.bottom),N=this.bottom-_,j=T-C,H=b(e.top)+C,Y=e.bottom;else if(o==="bottom")T=b(this.top),H=e.top,Y=b(e.bottom)-C,N=T+C,j=this.top+_;else if(o==="left")T=b(this.right),B=this.right-_,O=T-C,W=b(e.left)+C,J=e.right;else if(o==="right")T=b(this.left),W=e.left,J=b(e.right)-C,B=T+C,O=this.left+_;else if(t==="x"){if(o==="center")T=b((e.top+e.bottom)/2+.5);else if(Wt(o)){const ae=Object.keys(o)[0],ne=o[ae];T=b(this.chart.scales[ae].getPixelForValue(ne))}H=e.top,Y=e.bottom,N=T+C,j=N+_}else if(t==="y"){if(o==="center")T=b((e.left+e.right)/2);else if(Wt(o)){const ae=Object.keys(o)[0],ne=o[ae];T=b(this.chart.scales[ae].getPixelForValue(ne))}B=T-C,O=B-_,W=e.left,J=e.right}const ee=Bt(r.ticks.maxTicksLimit,g),oe=Math.max(1,Math.ceil(g/ee));for(k=0;k<g;k+=oe){const ae=this.getContext(k),ne=s.setContext(ae),K=u.setContext(ae),fe=ne.lineWidth,I=ne.color,G=K.dash||[],se=K.dashOffset,D=ne.tickWidth,me=ne.tickColor,ve=ne.tickBorderDash||[],te=ne.tickBorderDashOffset;F=E3(this,k,h),F!==void 0&&(R=Fa(i,F,fe),d?B=O=W=J=R:N=j=H=Y=R,y.push({tx1:B,ty1:N,tx2:O,ty2:j,x1:W,y1:H,x2:J,y2:Y,width:fe,color:I,borderDash:G,borderDashOffset:se,tickWidth:D,tickColor:me,tickBorderDash:ve,tickBorderDashOffset:te}))}return this._ticksLength=g,this._borderValue=T,y}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:d,padding:p,mirror:g}=s,_=th(i.grid),y=_+p,w=g?-p:y,S=-qa(this.labelRotation),C=[];let b,T,k,F,R,B,N,O,j,W,H,J,Y="middle";if(r==="top")B=this.bottom-w,N=this._getXAxisLabelAlignment();else if(r==="bottom")B=this.top+w,N=this._getXAxisLabelAlignment();else if(r==="left"){const oe=this._getYAxisLabelAlignment(_);N=oe.textAlign,R=oe.x}else if(r==="right"){const oe=this._getYAxisLabelAlignment(_);N=oe.textAlign,R=oe.x}else if(t==="x"){if(r==="center")B=(e.top+e.bottom)/2+y;else if(Wt(r)){const oe=Object.keys(r)[0],ae=r[oe];B=this.chart.scales[oe].getPixelForValue(ae)+y}N=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")R=(e.left+e.right)/2-y;else if(Wt(r)){const oe=Object.keys(r)[0],ae=r[oe];R=this.chart.scales[oe].getPixelForValue(ae)}N=this._getYAxisLabelAlignment(_).textAlign}t==="y"&&(h==="start"?Y="top":h==="end"&&(Y="bottom"));const ee=this._getLabelSizes();for(b=0,T=u.length;b<T;++b){k=u[b],F=k.label;const oe=s.setContext(this.getContext(b));O=this.getPixelForTick(b)+s.labelOffset,j=this._resolveTickFontOptions(b),W=j.lineHeight,H=Zn(F)?F.length:1;const ae=H/2,ne=oe.color,K=oe.textStrokeColor,fe=oe.textStrokeWidth;let I=N;o?(R=O,N==="inner"&&(b===T-1?I=this.options.reverse?"left":"right":b===0?I=this.options.reverse?"right":"left":I="center"),r==="top"?d==="near"||S!==0?J=-H*W+W/2:d==="center"?J=-ee.highest.height/2-ae*W+W:J=-ee.highest.height+W/2:d==="near"||S!==0?J=W/2:d==="center"?J=ee.highest.height/2-ae*W:J=ee.highest.height-H*W,g&&(J*=-1),S!==0&&!oe.showLabelBackdrop&&(R+=W/2*Math.sin(S))):(B=O,J=(1-H)*W/2);let G;if(oe.showLabelBackdrop){const se=Ir(oe.backdropPadding),D=ee.heights[b],me=ee.widths[b];let ve=J-se.top,te=0-se.left;switch(Y){case"middle":ve-=D/2;break;case"bottom":ve-=D;break}switch(N){case"center":te-=me/2;break;case"right":te-=me;break;case"inner":b===T-1?te-=me:b>0&&(te-=me/2);break}G={left:te,top:ve,width:me+se.width,height:D+se.height,color:oe.backdropColor}}C.push({label:F,font:j,textOffset:J,options:{rotation:S,color:ne,strokeColor:K,strokeWidth:fe,textAlign:I,textBaseline:Y,translation:[R,B],backdrop:G}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-qa(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),u=e+s,h=o.widest.width;let d,p;return t==="left"?r?(p=this.right+s,i==="near"?d="left":i==="center"?(d="center",p+=h/2):(d="right",p+=h)):(p=this.right-u,i==="near"?d="right":i==="center"?(d="center",p-=h/2):(d="left",p=this.left)):t==="right"?r?(p=this.left+s,i==="near"?d="right":i==="center"?(d="center",p-=h/2):(d="left",p-=h)):(p=this.left+u,i==="near"?d="left":i==="center"?(d="center",p+=h/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const u=(h,d,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){const h=r[s];t.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const u=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,p,g,_;this.isHorizontal()?(d=Fa(e,this.left,o)-o/2,p=Fa(e,this.right,u)+u/2,g=_=h):(g=Fa(e,this.top,o)-o/2,_=Fa(e,this.bottom,u)+u/2,d=p=h),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(d,g),t.lineTo(p,_),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&xv(i,r);const s=this.getLabelItems(e);for(const o of s){const u=o.options,h=o.font,d=o.label,p=o.textOffset;Zh(i,d,0,p,h,u)}r&&wv(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const s=pi(i.font),o=Ir(i.padding),u=i.align;let h=s.lineHeight/2;t==="bottom"||t==="center"||Wt(t)?(h+=o.bottom,Zn(i.text)&&(h+=s.lineHeight*(i.text.length-1))):h+=o.top;const{titleX:d,titleY:p,maxWidth:g,rotation:_}=A3(this,h,t,u);Zh(e,i.text,0,0,s,{color:i.color,maxWidth:g,rotation:_,textAlign:P3(u,t,r),textBaseline:"middle",translation:[d,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Bt(e.grid&&e.grid.z,-1),r=Bt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ju.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=t.length;s<o;++s){const u=t[s];u[i]===this.id&&(!e||u.type===e)&&r.push(u)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return pi(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class zf{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;I3(t)&&(i=this.register(t));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,k3(e,o,i),this.override&&Pn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in Pn[r]&&(delete Pn[r][i],this.override&&delete nl[i])}}function k3(n,e,t){const i=jh(Object.create(null),[t?Pn.get(t):{},Pn.get(e),n.defaults]);Pn.set(e,i),n.defaultRoutes&&R3(e,n.defaultRoutes),n.descriptors&&Pn.describe(e,n.descriptors)}function R3(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),o=e[t].split("."),u=o.pop(),h=o.join(".");Pn.route(s,r,h,u)})}function I3(n){return"id"in n&&"defaults"in n}class D3{constructor(){this.controllers=new zf(pE,"datasets",!0),this.elements=new zf(ll,"elements"),this.plugins=new zf(Object,"plugins"),this.scales=new zf(Ju,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):qt(r,o=>{const u=i||this._getRegistryForType(o);this._exec(e,u,o)})})}_exec(e,t,i){const r=gv(e);dn(i["before"+r],[],i),t[e](i),dn(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var _s=new D3;class N3{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,t,i);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,r){r=r||{};for(const s of e){const o=s.plugin,u=o[i],h=[t,r,s.options];if(dn(u,h,o)===!1&&r.cancelable)return!1}return!0}invalidate(){ln(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=Bt(i.options&&i.options.plugins,{}),s=O3(i);return r===!1&&!t?[]:F3(e,s,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(u=>!o.some(h=>u.plugin.id===h.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function O3(n){const e={},t=[],i=Object.keys(_s.plugins.items);for(let s=0;s<i.length;s++)t.push(_s.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function z3(n,e){return!e&&n===!1?null:n===!0?{}:n}function F3(n,{plugins:e,localIds:t},i,r){const s=[],o=n.getContext();for(const u of e){const h=u.id,d=z3(i[h],r);d!==null&&s.push({plugin:u,options:B3(n.config,{plugin:u,local:t[h]},d,o)})}return s}function B3(n,{plugin:e,local:t},i,r){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(i,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ay(n,e){const t=Pn.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function U3(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function H3(n,e){return n===e?"_index_":"_value_"}function nb(n){if(n==="x"||n==="y"||n==="r")return n}function V3(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function ky(n,...e){if(nb(n))return n;for(const t of e){const i=t.axis||V3(t.position)||n.length>1&&nb(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function ib(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function j3(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return ib(n,"x",t[0])||ib(n,"y",t[0])}return{}}function W3(n,e){const t=nl[n.type]||{scales:{}},i=e.scales||{},r=Ay(n.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const u=i[o];if(!Wt(u))return console.error(`Invalid scale configuration for scale: ${o}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const h=ky(o,u,j3(o,n),Pn.scales[u.type]),d=H3(h,r),p=t.scales||{};s[o]=Ch(Object.create(null),[{axis:h},u,p[h],p[d]])}),n.data.datasets.forEach(o=>{const u=o.type||n.type,h=o.indexAxis||Ay(u,e),p=(nl[u]||{}).scales||{};Object.keys(p).forEach(g=>{const _=U3(g,h),y=o[_+"AxisID"]||_;s[y]=s[y]||Object.create(null),Ch(s[y],[{axis:_},i[y],p[g]])})}),Object.keys(s).forEach(o=>{const u=s[o];Ch(u,[Pn.scales[u.type],Pn.scale])}),s}function xE(n){const e=n.options||(n.options={});e.plugins=Bt(e.plugins,{}),e.scales=W3(n,e)}function wE(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function G3(n){return n=n||{},n.data=wE(n.data),xE(n),n}const rb=new Map,bE=new Set;function Ff(n,e){let t=rb.get(n);return t||(t=e(),rb.set(n,t),bE.add(t)),t}const nh=(n,e,t)=>{const i=zp(e,t);i!==void 0&&n.add(i)};class Z3{constructor(e){this._config=G3(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=wE(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),xE(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ff(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Ff(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Ff(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return Ff(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),u=o.get(t);if(u)return u;const h=new Set;t.forEach(p=>{e&&(h.add(e),p.forEach(g=>nh(h,e,g))),p.forEach(g=>nh(h,r,g)),p.forEach(g=>nh(h,nl[s]||{},g)),p.forEach(g=>nh(h,Pn,g)),p.forEach(g=>nh(h,Ly,g))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),bE.has(t)&&o.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,nl[t]||{},Pn.datasets[t]||{},{type:t},Pn,Ly]}resolveNamedOptions(e,t,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:u}=sb(this._resolverCache,e,r);let h=o;if(q3(o,t)){s.$shared=!1,i=sa(i)?i():i;const d=this.createResolver(e,i,u);h=Vu(o,i,d)}for(const d of t)s[d]=h[d];return s}createResolver(e,t,i=[""],r){const{resolver:s}=sb(this._resolverCache,e,i);return Wt(t)?Vu(s,t,void 0,r):s}}function sb(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let s=i.get(r);return s||(s={resolver:bv(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,s)),s}const $3=n=>Wt(n)&&Object.getOwnPropertyNames(n).some(e=>sa(n[e]));function q3(n,e){const{isScriptable:t,isIndexable:i}=rE(n);for(const r of e){const s=t(r),o=i(r),u=(o||s)&&n[r];if(s&&(sa(u)||$3(u))||o&&Zn(u))return!0}return!1}var X3="4.5.0";const Y3=["top","bottom","left","right","chartArea"];function ob(n,e){return n==="top"||n==="bottom"||Y3.indexOf(n)===-1&&e==="x"}function ab(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function lb(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),dn(t&&t.onComplete,[n],e)}function K3(n){const e=n.chart,t=e.options.animation;dn(t&&t.onProgress,[n],e)}function SE(n){return Ev()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Lp={},ub=n=>{const e=SE(n);return Object.values(Lp).filter(t=>t.canvas===e).pop()};function J3(n,e,t){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=e){const o=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=o)}}}function Q3(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}let hm=class{static defaults=Pn;static instances=Lp;static overrides=nl;static registry=_s;static version=X3;static getChart=ub;static register(...e){_s.add(...e),cb()}static unregister(...e){_s.remove(...e),cb()}constructor(e,t){const i=this.config=new Z3(t),r=SE(e),s=ub(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||_3(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,o.aspectRatio),h=u&&u.canvas,d=h&&h.height,p=h&&h.width;if(this.id=t2(),this.ctx=u,this.canvas=h,this.width=p,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new N3,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=b2(g=>this.update(g),o.resizeDelay||0),this._dataChanges=[],Lp[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}no.listen(this,"complete",lb),no.listen(this,"progress",K3),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:s}=this;return ln(e)?t&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return _s}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Nw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Rw(this.canvas,this.ctx),this}stop(){return no.stop(this),this}resize(e,t){no.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,t,s),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Nw(this,u,!0)&&(this.notifyPlugins("resize",{size:o}),dn(i.onResize,[this,o],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};qt(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((o,u)=>(o[u]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const u=t[o],h=ky(o,u),d=h==="r",p=h==="x";return{options:u,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),qt(s,o=>{const u=o.options,h=u.id,d=ky(h,u),p=Bt(u.type,o.dtype);(u.position===void 0||ob(u.position,d)!==ob(o.dposition))&&(u.position=o.dposition),r[h]=!0;let g=null;if(h in i&&i[h].type===p)g=i[h];else{const _=_s.getScale(p);g=new _({id:h,type:p,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(u,e)}),qt(r,(o,u)=>{o||delete i[u]}),qt(i,o=>{Ar.configure(this,o,o.options),Ar.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(ab("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const s=t[i];let o=this.getDatasetMeta(i);const u=s.type||this.config.type;if(o.type&&o.type!==u&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=u,o.indexAxis=s.indexAxis||Ay(u,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const h=_s.getController(u),{datasetElementType:d,dataElementType:p}=Pn.datasets[u];Object.assign(h,{dataElementType:_s.getElement(p),datasetElementType:d&&_s.getElement(d)}),o.controller=new h(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){qt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:g}=this.getDatasetMeta(d),_=!r&&s.indexOf(g)===-1;g.buildOrUpdateElements(_),o=Math.max(+g.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||qt(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ab("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){qt(this.scales,e=>{Ar.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!bw(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of t){const o=i==="_removeElements"?-s:s;J3(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,u)=>u+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<t;s++)if(!bw(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ar.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],qt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,sa(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(no.has(this)?this.attached&&!no.running(this)&&no.start(this):(this.draw(),lb({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,s;for(r=0,s=t.length;r<s;++r){const o=t[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=PR(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&xv(t,r),e.controller.draw(),r&&wv(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Gh(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const s=YR.modes[t];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=al(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);Fp(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(u=>u.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),no.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Rw(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Lp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},r=(s,o,u)=>{s.offsetX=o,s.offsetY=u,this._eventHandler(s)};qt(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(h,d)=>{t.addEventListener(this,h,d),e[h]=d},r=(h,d)=>{e[h]&&(t.removeEventListener(this,h,d),delete e[h])},s=(h,d)=>{this.canvas&&this.resize(h,d)};let o;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",u)},t.isAttached(this.canvas)?u():o()}unbindEvents(){qt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},qt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let s,o,u,h;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){o=e[u];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const u=this.getDatasetMeta(s);if(!u)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:u.data[o],index:o}});!Np(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,s=(h,d)=>h.filter(p=>!d.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),o=s(t,e),u=i?e:s(e,t);o.length&&this.updateHoverStyle(o,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:s}=this,o=t,u=this._getActiveElements(e,r,i,o),h=a2(e),d=Q3(e,this._lastEvent,i,h);i&&(this._lastEvent=null,dn(s.onHover,[e,u,this],this),h&&dn(s.onClick,[e,u,this],this));const p=!Np(u,r);return(p||t)&&(this._active=u,this._updateHoverStyles(u,r,t)),this._lastEvent=d,p}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}};function cb(){return qt(hm.instances,n=>n._plugins.invalidate())}function ME(n,e,t=e){n.lineCap=Bt(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Bt(t.borderDash,e.borderDash)),n.lineDashOffset=Bt(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Bt(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Bt(t.borderWidth,e.borderWidth),n.strokeStyle=Bt(t.borderColor,e.borderColor)}function eI(n,e,t){n.lineTo(t.x,t.y)}function tI(n){return n.stepped?O2:n.tension||n.cubicInterpolationMode==="monotone"?z2:eI}function EE(n,e,t={}){const i=n.length,{start:r=0,end:s=i-1}=t,{start:o,end:u}=e,h=Math.max(r,o),d=Math.min(s,u),p=r<o&&s<o||r>u&&s>u;return{count:i,start:h,loop:e.loop,ilen:d<h&&!p?i+d-h:d-h}}function nI(n,e,t,i){const{points:r,options:s}=e,{count:o,start:u,loop:h,ilen:d}=EE(r,t,i),p=tI(s);let{move:g=!0,reverse:_}=i||{},y,w,S;for(y=0;y<=d;++y)w=r[(u+(_?d-y:y))%o],!w.skip&&(g?(n.moveTo(w.x,w.y),g=!1):p(n,S,w,_,s.stepped),S=w);return h&&(w=r[(u+(_?d:0))%o],p(n,S,w,_,s.stepped)),!!h}function iI(n,e,t,i){const r=e.points,{count:s,start:o,ilen:u}=EE(r,t,i),{move:h=!0,reverse:d}=i||{};let p=0,g=0,_,y,w,S,C,b;const T=F=>(o+(d?u-F:F))%s,k=()=>{S!==C&&(n.lineTo(p,C),n.lineTo(p,S),n.lineTo(p,b))};for(h&&(y=r[T(0)],n.moveTo(y.x,y.y)),_=0;_<=u;++_){if(y=r[T(_)],y.skip)continue;const F=y.x,R=y.y,B=F|0;B===w?(R<S?S=R:R>C&&(C=R),p=(g*p+F)/++g):(k(),n.lineTo(F,R),w=B,g=0,S=C=R),b=R}k()}function Ry(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?iI:nI}function rI(n){return n.stepped?gR:n.tension||n.cubicInterpolationMode==="monotone"?_R:ja}function sI(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),ME(n,e.options),n.stroke(r)}function oI(n,e,t,i){const{segments:r,options:s}=e,o=Ry(e);for(const u of r)ME(n,s,u.style),n.beginPath(),o(n,e,u,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const aI=typeof Path2D=="function";function lI(n,e,t,i){aI&&!e.options.segment?sI(n,e,t,i):oI(n,e,t,i)}class uI extends ll{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;lR(this._points,i,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=ER(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,r=e[t],s=this.points,o=bR(this,{property:t,start:r,end:r});if(!o.length)return;const u=[],h=rI(i);let d,p;for(d=0,p=o.length;d<p;++d){const{start:g,end:_}=o[d],y=s[g],w=s[_];if(y===w){u.push(y);continue}const S=Math.abs((r-y[t])/(w[t]-y[t])),C=h(y,w,S,i.stepped);C[t]=e[t],u.push(C)}return u.length===1?u[0]:u}pathSegment(e,t,i){return Ry(this)(e,this,t,i)}path(e,t,i){const r=this.segments,s=Ry(this);let o=this._loop;t=t||0,i=i||this.points.length-t;for(const u of r)o&=s(e,this,u,{start:t,end:t+i-1});return!!o}draw(e,t,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),lI(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function hb(n,e,t,i){const r=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<r.radius+r.hitRadius}class cI extends ll{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){const r=this.options,{x:s,y:o}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(t-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return hb(this,e,"x",t)}inYRange(e,t){return hb(this,e,"y",t)}getCenterPoint(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const i=t&&e.borderWidth||0;return(t+i)*2}draw(e,t){const i=this.options;this.skip||i.radius<.1||!Gh(this,t,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,Cy(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}const db=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},hI=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class fb extends ll{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=dn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=pi(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=db(i,s);let d,p;t.font=r.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(o,s,u,h)+10):(p=this.maxHeight,d=this._fitCols(o,r,u,h)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],d=this.lineWidths=[0],p=r+u;let g=e;s.textAlign="left",s.textBaseline="middle";let _=-1,y=-p;return this.legendItems.forEach((w,S)=>{const C=i+t/2+s.measureText(w.text).width;(S===0||d[d.length-1]+C+2*u>o)&&(g+=p,d[d.length-(S>0?0:1)]=0,y+=p,_++),h[S]={left:0,top:y,row:_,width:C,height:r},d[d.length-1]+=C+u}),g}_fitCols(e,t,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],d=this.columnSizes=[],p=o-e;let g=u,_=0,y=0,w=0,S=0;return this.legendItems.forEach((C,b)=>{const{itemWidth:T,itemHeight:k}=dI(i,t,s,C,r);b>0&&y+k+2*u>p&&(g+=_+u,d.push({width:_,height:y}),w+=_+u,S++,_=y=0),h[b]={left:w,top:y,col:S,width:T,height:k},_=Math.max(_,T),y+=k+u}),g+=_,d.push({width:_,height:y}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Au(s,this.left,this.width);if(this.isHorizontal()){let u=0,h=di(i,this.left+r,this.right-this.lineWidths[u]);for(const d of t)u!==d.row&&(u=d.row,h=di(i,this.left+r,this.right-this.lineWidths[u])),d.top+=this.top+e+r,d.left=o.leftForLtr(o.x(h),d.width),h+=d.width+r}else{let u=0,h=di(i,this.top+e+r,this.bottom-this.columnSizes[u].height);for(const d of t)d.col!==u&&(u=d.col,h=di(i,this.top+e+r,this.bottom-this.columnSizes[u].height)),d.top=h,d.left+=this.left+r,d.left=o.leftForLtr(o.x(d.left),d.width),h+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;xv(e,this),this._draw(),wv(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,u=Pn.color,h=Au(e.rtl,this.left,this.width),d=pi(o.font),{padding:p}=o,g=d.size,_=g/2;let y;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:w,boxHeight:S,itemHeight:C}=db(o,g),b=function(B,N,O){if(isNaN(w)||w<=0||isNaN(S)||S<0)return;r.save();const j=Bt(O.lineWidth,1);if(r.fillStyle=Bt(O.fillStyle,u),r.lineCap=Bt(O.lineCap,"butt"),r.lineDashOffset=Bt(O.lineDashOffset,0),r.lineJoin=Bt(O.lineJoin,"miter"),r.lineWidth=j,r.strokeStyle=Bt(O.strokeStyle,u),r.setLineDash(Bt(O.lineDash,[])),o.usePointStyle){const W={radius:S*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:j},H=h.xPlus(B,w/2),J=N+_;nE(r,W,H,J,o.pointStyleWidth&&w)}else{const W=N+Math.max((g-S)/2,0),H=h.leftForLtr(B,w),J=Rh(O.borderRadius);r.beginPath(),Object.values(J).some(Y=>Y!==0)?Py(r,{x:H,y:W,w,h:S,radius:J}):r.rect(H,W,w,S),r.fill(),j!==0&&r.stroke()}r.restore()},T=function(B,N,O){Zh(r,O.text,B,N+C/2,d,{strikethrough:O.hidden,textAlign:h.textAlign(O.textAlign)})},k=this.isHorizontal(),F=this._computeTitleHeight();k?y={x:di(s,this.left+p,this.right-i[0]),y:this.top+p+F,line:0}:y={x:this.left+p,y:di(s,this.top+F+p,this.bottom-t[0].height),line:0},uE(this.ctx,e.textDirection);const R=C+p;this.legendItems.forEach((B,N)=>{r.strokeStyle=B.fontColor,r.fillStyle=B.fontColor;const O=r.measureText(B.text).width,j=h.textAlign(B.textAlign||(B.textAlign=o.textAlign)),W=w+_+O;let H=y.x,J=y.y;h.setWidth(this.width),k?N>0&&H+W+p>this.right&&(J=y.y+=R,y.line++,H=y.x=di(s,this.left+p,this.right-i[y.line])):N>0&&J+R>this.bottom&&(H=y.x=H+t[y.line].width+p,y.line++,J=y.y=di(s,this.top+F+p,this.bottom-t[y.line].height));const Y=h.x(H);if(b(Y,J,B),H=S2(j,H+w+_,k?H+W:this.right,e.rtl),T(h.x(H),J,B),k)y.x+=W+p;else if(typeof B.text!="string"){const ee=d.lineHeight;y.y+=TE(B,ee)+p}else y.y+=R}),cE(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=pi(t.font),r=Ir(t.padding);if(!t.display)return;const s=Au(e.rtl,this.left,this.width),o=this.ctx,u=t.position,h=i.size/2,d=r.top+h;let p,g=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+d,g=di(e.align,g,this.right-_);else{const w=this.columnSizes.reduce((S,C)=>Math.max(S,C.height),0);p=d+di(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const y=di(u,g,g+_);o.textAlign=s.textAlign(yv(u)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,Zh(o,t.text,y,p,i)}_computeTitleHeight(){const e=this.options.title,t=pi(e.font),i=Ir(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(wh(e,this.left,this.right)&&wh(t,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],wh(e,r.left,r.left+r.width)&&wh(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!mI(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=hI(r,i);r&&!s&&dn(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&dn(t.onHover,[e,i,this],this)}else i&&dn(t.onClick,[e,i,this],this)}}function dI(n,e,t,i,r){const s=fI(i,n,e,t),o=pI(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function fI(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+i.measureText(r).width}function pI(n,e,t){let i=n;return typeof e.text!="string"&&(i=TE(e,t)),i}function TE(n,e){const t=n.text?n.text.length:0;return e*t}function mI(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var gI={id:"legend",_element:fb,start(n,e,t){const i=n.legend=new fb({ctx:n.ctx,options:t,chart:n});Ar.configure(n,i,t),Ar.addBox(n,i)},stop(n){Ar.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Ar.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const d=h.controller.getStyle(t?0:void 0),p=Ir(d.borderWidth);return{text:e[h.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!h.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:o&&(u||d.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class LE extends ll{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=Zn(i.text)?i.text.length:1;this._padding=Ir(i.padding);const s=r*pi(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:r,right:s,options:o}=this,u=o.align;let h=0,d,p,g;return this.isHorizontal()?(p=di(u,i,s),g=t+e,d=s-i):(o.position==="left"?(p=i+e,g=di(u,r,t),h=qn*-.5):(p=s-e,g=di(u,t,r),h=qn*.5),d=r-t),{titleX:p,titleY:g,maxWidth:d,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=pi(t.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:u,maxWidth:h,rotation:d}=this._drawArgs(s);Zh(e,t.text,0,0,i,{color:t.color,maxWidth:h,rotation:d,textAlign:yv(t.align),textBaseline:"middle",translation:[o,u]})}}function _I(n,e){const t=new LE({ctx:n.ctx,options:e,chart:n});Ar.configure(n,t,e),Ar.addBox(n,t),n.titleBlock=t}var yI={id:"title",_element:LE,start(n,e,t){_I(n,t)},stop(n){const e=n.titleBlock;Ar.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;Ar.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sh={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,s=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),r+=h.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:r/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,u;for(s=0,o=n.length;s<o;++s){const h=n[s].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),p=Ty(e,d);p<r&&(r=p,u=h)}}if(u){const h=u.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function gs(n,e){return e&&(Zn(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function io(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function vI(n,e){const{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:o,value:u}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function pb(n,e){const t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:u}=e,h=pi(e.bodyFont),d=pi(e.titleFont),p=pi(e.footerFont),g=s.length,_=r.length,y=i.length,w=Ir(e.padding);let S=w.height,C=0,b=i.reduce((F,R)=>F+R.before.length+R.lines.length+R.after.length,0);if(b+=n.beforeBody.length+n.afterBody.length,g&&(S+=g*d.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),b){const F=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;S+=y*F+(b-y)*h.lineHeight+(b-1)*e.bodySpacing}_&&(S+=e.footerMarginTop+_*p.lineHeight+(_-1)*e.footerSpacing);let T=0;const k=function(F){C=Math.max(C,t.measureText(F).width+T)};return t.save(),t.font=d.string,qt(n.title,k),t.font=h.string,qt(n.beforeBody.concat(n.afterBody),k),T=e.displayColors?o+2+e.boxPadding:0,qt(i,F=>{qt(F.before,k),qt(F.lines,k),qt(F.after,k)}),T=0,t.font=p.string,qt(n.footer,k),t.restore(),C+=w.width,{width:C,height:S}}function xI(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function wI(n,e,t,i){const{x:r,width:s}=i,o=t.caretSize+t.caretPadding;if(n==="left"&&r+s+o>e.width||n==="right"&&r-s-o<0)return!0}function bI(n,e,t,i){const{x:r,width:s}=t,{width:o,chartArea:{left:u,right:h}}=n;let d="center";return i==="center"?d=r<=(u+h)/2?"left":"right":r<=s/2?d="left":r>=o-s/2&&(d="right"),wI(d,n,e,t)&&(d="center"),d}function mb(n,e,t){const i=t.yAlign||e.yAlign||xI(n,t);return{xAlign:t.xAlign||e.xAlign||bI(n,e,t,i),yAlign:i}}function SI(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function MI(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function gb(n,e,t,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:u,yAlign:h}=t,d=r+s,{topLeft:p,topRight:g,bottomLeft:_,bottomRight:y}=Rh(o);let w=SI(e,u);const S=MI(e,h,d);return h==="center"?u==="left"?w+=d:u==="right"&&(w-=d):u==="left"?w-=Math.max(p,_)+r:u==="right"&&(w+=Math.max(g,y)+r),{x:Pr(w,0,i.width-e.width),y:Pr(S,0,i.height-e.height)}}function Bf(n,e,t){const i=Ir(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function _b(n){return gs([],io(n))}function EI(n,e,t){return al(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function yb(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const CE={beforeTitle:Ys,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Ys,beforeBody:Ys,beforeLabel:Ys,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return ln(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ys,afterBody:Ys,beforeFooter:Ys,footer:Ys,afterFooter:Ys};function Fi(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?CE[e].call(t,i):r}class vb extends ll{static positioners=Sh;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,s=new dE(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=EI(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Fi(i,"beforeTitle",this,e),s=Fi(i,"title",this,e),o=Fi(i,"afterTitle",this,e);let u=[];return u=gs(u,io(r)),u=gs(u,io(s)),u=gs(u,io(o)),u}getBeforeBody(e,t){return _b(Fi(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return qt(e,s=>{const o={before:[],lines:[],after:[]},u=yb(i,s);gs(o.before,io(Fi(u,"beforeLabel",this,s))),gs(o.lines,Fi(u,"label",this,s)),gs(o.after,io(Fi(u,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,t){return _b(Fi(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Fi(i,"beforeFooter",this,e),s=Fi(i,"footer",this,e),o=Fi(i,"afterFooter",this,e);let u=[];return u=gs(u,io(r)),u=gs(u,io(s)),u=gs(u,io(o)),u}_createItems(e){const t=this._active,i=this.chart.data,r=[],s=[],o=[];let u=[],h,d;for(h=0,d=t.length;h<d;++h)u.push(vI(this.chart,t[h]));return e.filter&&(u=u.filter((p,g,_)=>e.filter(p,g,_,i))),e.itemSort&&(u=u.sort((p,g)=>e.itemSort(p,g,i))),qt(u,p=>{const g=yb(e.callbacks,p);r.push(Fi(g,"labelColor",this,p)),s.push(Fi(g,"labelPointStyle",this,p)),o.push(Fi(g,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=u,u}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const u=Sh[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const h=this._size=pb(this,i),d=Object.assign({},u,h),p=mb(this.chart,i,d),g=gb(i,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,s={opacity:1,x:g.x,y:g.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const s=this.getCaretPosition(e,i,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:u}=i,{topLeft:h,topRight:d,bottomLeft:p,bottomRight:g}=Rh(u),{x:_,y}=e,{width:w,height:S}=t;let C,b,T,k,F,R;return s==="center"?(F=y+S/2,r==="left"?(C=_,b=C-o,k=F+o,R=F-o):(C=_+w,b=C+o,k=F-o,R=F+o),T=C):(r==="left"?b=_+Math.max(h,p)+o:r==="right"?b=_+w-Math.max(d,g)-o:b=this.caretX,s==="top"?(k=y,F=k-o,C=b-o,T=b+o):(k=y+S,F=k+o,C=b+o,T=b-o),R=k),{x1:C,x2:b,x3:T,y1:k,y2:F,y3:R}}drawTitle(e,t,i){const r=this.title,s=r.length;let o,u,h;if(s){const d=Au(i.rtl,this.x,this.width);for(e.x=Bf(this,i.titleAlign,i),t.textAlign=d.textAlign(i.titleAlign),t.textBaseline="middle",o=pi(i.titleFont),u=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,h=0;h<s;++h)t.fillText(r[h],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+u,h+1===s&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,t,i,r,s){const o=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:d}=s,p=pi(s.bodyFont),g=Bf(this,"left",s),_=r.x(g),y=h<p.lineHeight?(p.lineHeight-h)/2:0,w=t.y+y;if(s.usePointStyle){const S={radius:Math.min(d,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},C=r.leftForLtr(_,d)+d/2,b=w+h/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Cy(e,S,C,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Cy(e,S,C,b)}else{e.lineWidth=Wt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const S=r.leftForLtr(_,d),C=r.leftForLtr(r.xPlus(_,1),d-2),b=Rh(o.borderRadius);Object.values(b).some(T=>T!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Py(e,{x:S,y:w,w:d,h,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Py(e,{x:C,y:w+1,w:d-2,h:h-2,radius:b}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(S,w,d,h),e.strokeRect(S,w,d,h),e.fillStyle=o.backgroundColor,e.fillRect(C,w+1,d-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:u,boxHeight:h,boxWidth:d,boxPadding:p}=i,g=pi(i.bodyFont);let _=g.lineHeight,y=0;const w=Au(i.rtl,this.x,this.width),S=function(O){t.fillText(O,w.x(e.x+y),e.y+_/2),e.y+=_+s},C=w.textAlign(o);let b,T,k,F,R,B,N;for(t.textAlign=o,t.textBaseline="middle",t.font=g.string,e.x=Bf(this,C,i),t.fillStyle=i.bodyColor,qt(this.beforeBody,S),y=u&&C!=="right"?o==="center"?d/2+p:d+2+p:0,F=0,B=r.length;F<B;++F){for(b=r[F],T=this.labelTextColors[F],t.fillStyle=T,qt(b.before,S),k=b.lines,u&&k.length&&(this._drawColorBox(t,e,F,w,i),_=Math.max(g.lineHeight,h)),R=0,N=k.length;R<N;++R)S(k[R]),_=g.lineHeight;qt(b.after,S)}y=0,_=g.lineHeight,qt(this.afterBody,S),e.y-=s}drawFooter(e,t,i){const r=this.footer,s=r.length;let o,u;if(s){const h=Au(i.rtl,this.x,this.width);for(e.x=Bf(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=h.textAlign(i.footerAlign),t.textBaseline="middle",o=pi(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,u=0;u<s;++u)t.fillText(r[u],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:s,yAlign:o}=this,{x:u,y:h}=e,{width:d,height:p}=i,{topLeft:g,topRight:_,bottomLeft:y,bottomRight:w}=Rh(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(u+g,h),o==="top"&&this.drawCaret(e,t,i,r),t.lineTo(u+d-_,h),t.quadraticCurveTo(u+d,h,u+d,h+_),o==="center"&&s==="right"&&this.drawCaret(e,t,i,r),t.lineTo(u+d,h+p-w),t.quadraticCurveTo(u+d,h+p,u+d-w,h+p),o==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(u+y,h+p),t.quadraticCurveTo(u,h+p,u,h+p-y),o==="center"&&s==="left"&&this.drawCaret(e,t,i,r),t.lineTo(u,h+g),t.quadraticCurveTo(u,h,u+g,h),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Sh[e.position].call(this,this._active,this._eventPosition);if(!o)return;const u=this._size=pb(this,e),h=Object.assign({},o,this._size),d=mb(t,e,h),p=gb(e,h,d,t);(r._to!==p.x||s._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Ir(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,t),uE(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),cE(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:u,index:h})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[h],index:h}}),s=!Np(i,r),o=this._positionChanged(r,t);(s||o)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,i),u=this._positionChanged(o,e),h=t||!Np(o,s)||u;return h&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:r,options:s}=this,o=Sh[s.position].call(this,e,t);return o!==!1&&(i!==o.x||r!==o.y)}}var TI={id:"tooltip",_element:vb,positioners:Sh,afterInit(n,e,t){t&&(n.tooltip=new vb({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:CE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const LI=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function CI(n,e,t,i){const r=n.indexOf(e);if(r===-1)return LI(n,e,t,i);const s=n.lastIndexOf(e);return r!==s?t:r}const PI=(n,e)=>n===null?null:Pr(Math.round(n),0,e);function xb(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class AI extends Ju{static id="category";static defaults={ticks:{callback:xb}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:s}of t)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ln(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:CI(i,e,Bt(t,e),this._addedLabels),PI(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=t;o++)r.push({value:o});return r}getLabelForValue(e){return xb.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function kI(n,e){const t=[],{bounds:r,step:s,min:o,max:u,precision:h,count:d,maxTicks:p,maxDigits:g,includeBounds:_}=n,y=s||1,w=p-1,{min:S,max:C}=e,b=!ln(o),T=!ln(u),k=!ln(d),F=(C-S)/(g+1);let R=Mw((C-S)/w/y)*y,B,N,O,j;if(R<1e-14&&!b&&!T)return[{value:S},{value:C}];j=Math.ceil(C/R)-Math.floor(S/R),j>w&&(R=Mw(j*R/w/y)*y),ln(h)||(B=Math.pow(10,h),R=Math.ceil(R*B)/B),r==="ticks"?(N=Math.floor(S/R)*R,O=Math.ceil(C/R)*R):(N=S,O=C),b&&T&&s&&d2((u-o)/s,R/1e3)?(j=Math.round(Math.min((u-o)/R,p)),R=(u-o)/j,N=o,O=u):k?(N=b?o:N,O=T?u:O,j=d-1,R=(O-N)/j):(j=(O-N)/R,Ph(j,Math.round(j),R/1e3)?j=Math.round(j):j=Math.ceil(j));const W=Math.max(Ew(R),Ew(N));B=Math.pow(10,ln(h)?W:h),N=Math.round(N*B)/B,O=Math.round(O*B)/B;let H=0;for(b&&(_&&N!==o?(t.push({value:o}),N<o&&H++,Ph(Math.round((N+H*R)*B)/B,o,wb(o,F,n))&&H++):N<o&&H++);H<j;++H){const J=Math.round((N+H*R)*B)/B;if(T&&J>u)break;t.push({value:J})}return T&&_&&O!==u?t.length&&Ph(t[t.length-1].value,u,wb(u,F,n))?t[t.length-1].value=u:t.push({value:u}):(!T||O===u)&&t.push({value:O}),t}function wb(n,e,{horizontal:t,minRotation:i}){const r=qa(i),s=(t?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}class RI extends Ju{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ln(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=h=>r=t?r:h,u=h=>s=i?s:h;if(e){const h=Hu(r),d=Hu(s);h<0&&d<0?u(0):h>0&&d>0&&o(0)}if(r===s){let h=s===0?1:Math.abs(s*.05);u(s+h),e||o(r-h)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=kI(r,s);return e.bounds==="ticks"&&f2(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return eE(e,this.chart.options.locale,this.options.ticks.format)}}class II extends RI{static id="linear";static defaults={ticks:{callback:tE.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Rr(e)?e:0,this.max=Rr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=qa(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const dm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ui=Object.keys(dm);function bb(n,e){return n-e}function Sb(n,e){if(ln(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Rr(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(r&&(o=r==="week"&&(Wh(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,r)),+o)}function Mb(n,e,t,i){const r=Ui.length;for(let s=Ui.indexOf(n);s<r-1;++s){const o=dm[Ui[s]],u=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(u*o.size))<=i)return Ui[s]}return Ui[r-1]}function DI(n,e,t,i,r){for(let s=Ui.length-1;s>=Ui.indexOf(t);s--){const o=Ui[s];if(dm[o].common&&n._adapter.diff(r,i,o)>=e-1)return o}return Ui[t?Ui.indexOf(t):0]}function NI(n){for(let e=Ui.indexOf(n)+1,t=Ui.length;e<t;++e)if(dm[Ui[e]].common)return Ui[e]}function Eb(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=_v(t,e),s=t[i]>=e?t[i]:t[r];n[s]=!0}}function OI(n,e,t,i){const r=n._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let u,h;for(u=s;u<=o;u=+r.add(u,1,i))h=t[u],h>=0&&(e[h].major=!0);return e}function Tb(n,e,t){const i=[],r={},s=e.length;let o,u;for(o=0;o<s;++o)u=e[o],r[u]=o,i.push({value:u,major:!1});return s===0||!t?i:OI(n,i,r,t)}class Lb extends Ju{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new GR._date(e.adapters.date);r.init(t),Ch(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Sb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:u}=this.getUserBounds();function h(d){!o&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!u&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!o||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),r=Rr(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),s=Rr(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,u=v2(r,s,o);return this._unit=t.unit||(i.autoSkip?Mb(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):DI(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:NI(this._unit),this.initOffsets(r),e.reverse&&u.reverse(),Tb(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Pr(t,0,o),i=Pr(i,0,o),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||Mb(s.minUnit,t,i,this._getLabelCapacity(t)),u=Bt(r.ticks.stepSize,1),h=o==="week"?s.isoWeekday:!1,d=Wh(h)||h===!0,p={};let g=t,_,y;if(d&&(g=+e.startOf(g,"isoWeek",h)),g=+e.startOf(g,d?"day":o),e.diff(i,t,o)>1e5*u)throw new Error(t+" and "+i+" are too far apart with stepSize of "+u+" "+o);const w=r.ticks.source==="data"&&this.getDataTimestamps();for(_=g,y=0;_<i;_=+e.add(_,u,o),y++)Eb(p,_,w);return(_===i||r.bounds==="ticks"||y===1)&&Eb(p,_,w),Object.keys(p).sort(bb).map(S=>+S)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,s=this._unit,o=t||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,i,r){const s=this.options,o=s.ticks.callback;if(o)return dn(o,[e,t,i],this);const u=s.time.displayFormats,h=this._unit,d=this._majorUnit,p=h&&u[h],g=d&&u[d],_=i[t],y=d&&g&&_&&_.major;return this._adapter.format(e,r||(y?g:p))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=qa(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),o=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*s+u*o,h:i*o+u*s}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,Tb(this,[e],this._majorUnit),r),o=this._getLabelSize(s),u=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(Sb(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return w2(e.sort(bb))}}function Uf(n,e,t){let i=0,r=n.length-1,s,o,u,h;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=Xa(n,"pos",e)),{pos:s,time:u}=n[i],{pos:o,time:h}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=Xa(n,"time",e)),{time:s,pos:u}=n[i],{time:o,pos:h}=n[r]);const d=o-s;return d?u+(h-u)*(e-s)/d:u}class SW extends Lb{static id="timeseries";static defaults=Lb.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Uf(t,this.min),this._tableRange=Uf(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],s=[];let o,u,h,d,p;for(o=0,u=e.length;o<u;++o)d=e[o],d>=t&&d<=i&&r.push(d);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,u=r.length;o<u;++o)p=r[o+1],h=r[o-1],d=r[o],Math.round((p+h)/2)!==d&&s.push({time:d,pos:o/(u-1)});return s}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Uf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Uf(this._table,i*this._tableRange+this._minPos,!0)}}const PE="label";function Cb(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function zI(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function AE(n,e){n.labels=e}function kE(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:PE;const i=[];n.datasets=e.map(r=>{const s=n.datasets.find(o=>o[t]===r[t]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function FI(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PE;const t={labels:[],datasets:[]};return AE(t,n.labels),kE(t,n.datasets,e),t}function BI(n,e){const{height:t=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:u,options:h,plugins:d=[],fallbackContent:p,updateMode:g,..._}=n,y=de.useRef(null),w=de.useRef(null),S=()=>{y.current&&(w.current=new hm(y.current,{type:o,data:FI(u,s),options:h&&{...h},plugins:d}),Cb(e,w.current))},C=()=>{Cb(e,null),w.current&&(w.current.destroy(),w.current=null)};return de.useEffect(()=>{!r&&w.current&&h&&zI(w.current,h)},[r,h]),de.useEffect(()=>{!r&&w.current&&AE(w.current.config.data,u.labels)},[r,u.labels]),de.useEffect(()=>{!r&&w.current&&u.datasets&&kE(w.current.config.data,u.datasets,s)},[r,u.datasets]),de.useEffect(()=>{w.current&&(r?(C(),setTimeout(S)):w.current.update(g))},[r,h,u.labels,u.datasets,g]),de.useEffect(()=>{w.current&&(C(),setTimeout(S))},[o]),de.useEffect(()=>(S(),()=>C()),[]),bn.createElement("canvas",{ref:y,role:"img",height:t,width:i,..._},p)}const UI=de.forwardRef(BI);function HI(n,e){return hm.register(e),de.forwardRef((t,i)=>bn.createElement(UI,{...t,ref:i,type:n}))}const VI=HI("line",WR);hm.register(AI,II,cI,uI,yI,TI,gI);function jI({curves:n}){if(!n)return z.jsx("p",{children:"Tidak ada data curve"});const t={datasets:n.map(r=>({label:`T = ${r.period}s`,data:r.points.map(s=>({x:s.im,y:s.prob})),borderColor:"rgba(59,130,246,1)",backgroundColor:"rgba(59,130,246,0.2)",fill:!1}))},i={responsive:!0,plugins:{legend:{position:"top"}},scales:{x:{type:"linear",title:{display:!0,text:"IML (g)"}},y:{type:"linear",title:{display:!0,text:"Prob Exceed"}}}};return z.jsx(VI,{data:t,options:i})}function WI({curves:n}){return n?z.jsxs("table",{className:"w-full border",children:[z.jsx("thead",{children:z.jsxs("tr",{className:"bg-gray-100",children:[z.jsx("th",{className:"border p-2",children:"Period (s)"}),z.jsx("th",{className:"border p-2",children:"IML"}),z.jsx("th",{className:"border p-2",children:"Prob"})]})}),z.jsx("tbody",{children:n.map(e=>e.points.map((t,i)=>z.jsxs("tr",{children:[z.jsx("td",{className:"border p-2 text-center",children:e.period}),z.jsx("td",{className:"border p-2 text-center",children:t.im}),z.jsx("td",{className:"border p-2 text-center",children:t.prob})]},`${e.period}-${i}`)))})]}):z.jsx("p",{children:"Tidak ada data tabel"})}var Cp={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var GI=Cp.exports,Pb;function ZI(){return Pb||(Pb=1,(function(n,e){((t,i)=>{n.exports=i()})(GI,function t(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},r,s=!i.document&&!!i.postMessage,o=i.IS_PAPA_WORKER||!1,u={},h=0,d={};function p(O){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(j){var W=R(j);W.chunkSize=parseInt(W.chunkSize),j.step||j.chunk||(W.chunkSize=null),this._handle=new S(W),(this._handle.streamer=this)._config=W}).call(this,O),this.parseChunk=function(j,W){var H=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<H){let Y=this._config.newline;Y||(J=this._config.quoteChar||'"',Y=this._handle.guessLineEndings(j,J)),j=[...j.split(Y).slice(H)].join(Y)}this.isFirstChunk&&N(this._config.beforeFirstChunk)&&(J=this._config.beforeFirstChunk(j))!==void 0&&(j=J),this.isFirstChunk=!1,this._halted=!1;var H=this._partialLine+j,J=(this._partialLine="",this._handle.parse(H,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(j=J.meta.cursor,H=(this._finished||(this._partialLine=H.substring(j-this._baseIndex),this._baseIndex=j),J&&J.data&&(this._rowCount+=J.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)i.postMessage({results:J,workerId:d.WORKER_ID,finished:H});else if(N(this._config.chunk)&&!W){if(this._config.chunk(J,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=J=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(J.data),this._completeResults.errors=this._completeResults.errors.concat(J.errors),this._completeResults.meta=J.meta),this._completed||!H||!N(this._config.complete)||J&&J.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),H||J&&J.meta.paused||this._nextChunk(),J}this._halted=!0},this._sendError=function(j){N(this._config.error)?this._config.error(j):o&&this._config.error&&i.postMessage({workerId:d.WORKER_ID,error:j,finished:!1})}}function g(O){var j;(O=O||{}).chunkSize||(O.chunkSize=d.RemoteChunkSize),p.call(this,O),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(W){this._input=W,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(j=new XMLHttpRequest,this._config.withCredentials&&(j.withCredentials=this._config.withCredentials),s||(j.onload=B(this._chunkLoaded,this),j.onerror=B(this._chunkError,this)),j.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var W,H=this._config.downloadRequestHeaders;for(W in H)j.setRequestHeader(W,H[W])}var J;this._config.chunkSize&&(J=this._start+this._config.chunkSize-1,j.setRequestHeader("Range","bytes="+this._start+"-"+J));try{j.send(this._config.downloadRequestBody)}catch(Y){this._chunkError(Y.message)}s&&j.status===0&&this._chunkError()}},this._chunkLoaded=function(){j.readyState===4&&(j.status<200||400<=j.status?this._chunkError():(this._start+=this._config.chunkSize||j.responseText.length,this._finished=!this._config.chunkSize||this._start>=(W=>(W=W.getResponseHeader("Content-Range"))!==null?parseInt(W.substring(W.lastIndexOf("/")+1)):-1)(j),this.parseChunk(j.responseText)))},this._chunkError=function(W){W=j.statusText||W,this._sendError(new Error(W))}}function _(O){(O=O||{}).chunkSize||(O.chunkSize=d.LocalChunkSize),p.call(this,O);var j,W,H=typeof FileReader<"u";this.stream=function(J){this._input=J,W=J.slice||J.webkitSlice||J.mozSlice,H?((j=new FileReader).onload=B(this._chunkLoaded,this),j.onerror=B(this._chunkError,this)):j=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var J=this._input,Y=(this._config.chunkSize&&(Y=Math.min(this._start+this._config.chunkSize,this._input.size),J=W.call(J,this._start,Y)),j.readAsText(J,this._config.encoding));H||this._chunkLoaded({target:{result:Y}})},this._chunkLoaded=function(J){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(J.target.result)},this._chunkError=function(){this._sendError(j.error)}}function y(O){var j;p.call(this,O=O||{}),this.stream=function(W){return j=W,this._nextChunk()},this._nextChunk=function(){var W,H;if(!this._finished)return W=this._config.chunkSize,j=W?(H=j.substring(0,W),j.substring(W)):(H=j,""),this._finished=!j,this.parseChunk(H)}}function w(O){p.call(this,O=O||{});var j=[],W=!0,H=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(J){this._input=J,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){H&&j.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),j.length?this.parseChunk(j.shift()):W=!0},this._streamData=B(function(J){try{j.push(typeof J=="string"?J:J.toString(this._config.encoding)),W&&(W=!1,this._checkIsFinished(),this.parseChunk(j.shift()))}catch(Y){this._streamError(Y)}},this),this._streamError=B(function(J){this._streamCleanUp(),this._sendError(J)},this),this._streamEnd=B(function(){this._streamCleanUp(),H=!0,this._streamData("")},this),this._streamCleanUp=B(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function S(O){var j,W,H,J,Y=Math.pow(2,53),ee=-Y,oe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ae=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ne=this,K=0,fe=0,I=!1,G=!1,se=[],D={data:[],errors:[],meta:{}};function me(Pe){return O.skipEmptyLines==="greedy"?Pe.join("").trim()==="":Pe.length===1&&Pe[0].length===0}function ve(){if(D&&H&&(Ne("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),H=!1),O.skipEmptyLines&&(D.data=D.data.filter(function(be){return!me(be)})),te()){let be=function(Re,De){N(O.transformHeader)&&(Re=O.transformHeader(Re,De)),se.push(Re)};var je=be;if(D)if(Array.isArray(D.data[0])){for(var Pe=0;te()&&Pe<D.data.length;Pe++)D.data[Pe].forEach(be);D.data.splice(0,1)}else D.data.forEach(be)}function ke(be,Re){for(var De=O.header?{}:[],We=0;We<be.length;We++){var Ie=We,X=be[We],X=((Z,we)=>(Ae=>(O.dynamicTypingFunction&&O.dynamicTyping[Ae]===void 0&&(O.dynamicTyping[Ae]=O.dynamicTypingFunction(Ae)),(O.dynamicTyping[Ae]||O.dynamicTyping)===!0))(Z)?we==="true"||we==="TRUE"||we!=="false"&&we!=="FALSE"&&((Ae=>{if(oe.test(Ae)&&(Ae=parseFloat(Ae),ee<Ae&&Ae<Y))return 1})(we)?parseFloat(we):ae.test(we)?new Date(we):we===""?null:we):we)(Ie=O.header?We>=se.length?"__parsed_extra":se[We]:Ie,X=O.transform?O.transform(X,Ie):X);Ie==="__parsed_extra"?(De[Ie]=De[Ie]||[],De[Ie].push(X)):De[Ie]=X}return O.header&&(We>se.length?Ne("FieldMismatch","TooManyFields","Too many fields: expected "+se.length+" fields but parsed "+We,fe+Re):We<se.length&&Ne("FieldMismatch","TooFewFields","Too few fields: expected "+se.length+" fields but parsed "+We,fe+Re)),De}var ze;D&&(O.header||O.dynamicTyping||O.transform)&&(ze=1,!D.data.length||Array.isArray(D.data[0])?(D.data=D.data.map(ke),ze=D.data.length):D.data=ke(D.data,0),O.header&&D.meta&&(D.meta.fields=se),fe+=ze)}function te(){return O.header&&se.length===0}function Ne(Pe,ke,ze,je){Pe={type:Pe,code:ke,message:ze},je!==void 0&&(Pe.row=je),D.errors.push(Pe)}N(O.step)&&(J=O.step,O.step=function(Pe){D=Pe,te()?ve():(ve(),D.data.length!==0&&(K+=Pe.data.length,O.preview&&K>O.preview?W.abort():(D.data=D.data[0],J(D,ne))))}),this.parse=function(Pe,ke,ze){var je=O.quoteChar||'"',je=(O.newline||(O.newline=this.guessLineEndings(Pe,je)),H=!1,O.delimiter?N(O.delimiter)&&(O.delimiter=O.delimiter(Pe),D.meta.delimiter=O.delimiter):((je=((be,Re,De,We,Ie)=>{var X,Z,we,Ae;Ie=Ie||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var Ze=0;Ze<Ie.length;Ze++){for(var Ke,rt=Ie[Ze],Je=0,st=0,he=0,q=(we=void 0,new b({comments:We,delimiter:rt,newline:Re,preview:10}).parse(be)),Le=0;Le<q.data.length;Le++)De&&me(q.data[Le])?he++:(Ke=q.data[Le].length,st+=Ke,we===void 0?we=Ke:0<Ke&&(Je+=Math.abs(Ke-we),we=Ke));0<q.data.length&&(st/=q.data.length-he),(Z===void 0||Je<=Z)&&(Ae===void 0||Ae<st)&&1.99<st&&(Z=Je,X=rt,Ae=st)}return{successful:!!(O.delimiter=X),bestDelimiter:X}})(Pe,O.newline,O.skipEmptyLines,O.comments,O.delimitersToGuess)).successful?O.delimiter=je.bestDelimiter:(H=!0,O.delimiter=d.DefaultDelimiter),D.meta.delimiter=O.delimiter),R(O));return O.preview&&O.header&&je.preview++,j=Pe,W=new b(je),D=W.parse(j,ke,ze),ve(),I?{meta:{paused:!0}}:D||{meta:{paused:!1}}},this.paused=function(){return I},this.pause=function(){I=!0,W.abort(),j=N(O.chunk)?"":j.substring(W.getCharIndex())},this.resume=function(){ne.streamer._halted?(I=!1,ne.streamer.parseChunk(j,!0)):setTimeout(ne.resume,3)},this.aborted=function(){return G},this.abort=function(){G=!0,W.abort(),D.meta.aborted=!0,N(O.complete)&&O.complete(D),j=""},this.guessLineEndings=function(be,je){be=be.substring(0,1048576);var je=new RegExp(C(je)+"([^]*?)"+C(je),"gm"),ze=(be=be.replace(je,"")).split("\r"),je=be.split(`
`),be=1<je.length&&je[0].length<ze[0].length;if(ze.length===1||be)return`
`;for(var Re=0,De=0;De<ze.length;De++)ze[De][0]===`
`&&Re++;return Re>=ze.length/2?`\r
`:"\r"}}function C(O){return O.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(O){var j=(O=O||{}).delimiter,W=O.newline,H=O.comments,J=O.step,Y=O.preview,ee=O.fastMode,oe=null,ae=!1,ne=O.quoteChar==null?'"':O.quoteChar,K=ne;if(O.escapeChar!==void 0&&(K=O.escapeChar),(typeof j!="string"||-1<d.BAD_DELIMITERS.indexOf(j))&&(j=","),H===j)throw new Error("Comment character same as delimiter");H===!0?H="#":(typeof H!="string"||-1<d.BAD_DELIMITERS.indexOf(H))&&(H=!1),W!==`
`&&W!=="\r"&&W!==`\r
`&&(W=`
`);var fe=0,I=!1;this.parse=function(G,se,D){if(typeof G!="string")throw new Error("Input must be a string");var me=G.length,ve=j.length,te=W.length,Ne=H.length,Pe=N(J),ke=[],ze=[],je=[],be=fe=0;if(!G)return Je();if(ee||ee!==!1&&G.indexOf(ne)===-1){for(var Re=G.split(W),De=0;De<Re.length;De++){if(je=Re[De],fe+=je.length,De!==Re.length-1)fe+=W.length;else if(D)return Je();if(!H||je.substring(0,Ne)!==H){if(Pe){if(ke=[],Ae(je.split(j)),st(),I)return Je()}else Ae(je.split(j));if(Y&&Y<=De)return ke=ke.slice(0,Y),Je(!0)}}return Je()}for(var We=G.indexOf(j,fe),Ie=G.indexOf(W,fe),X=new RegExp(C(K)+C(ne),"g"),Z=G.indexOf(ne,fe);;)if(G[fe]===ne)for(Z=fe,fe++;;){if((Z=G.indexOf(ne,Z+1))===-1)return D||ze.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ke.length,index:fe}),Ke();if(Z===me-1)return Ke(G.substring(fe,Z).replace(X,ne));if(ne===K&&G[Z+1]===K)Z++;else if(ne===K||Z===0||G[Z-1]!==K){We!==-1&&We<Z+1&&(We=G.indexOf(j,Z+1));var we=Ze((Ie=Ie!==-1&&Ie<Z+1?G.indexOf(W,Z+1):Ie)===-1?We:Math.min(We,Ie));if(G.substr(Z+1+we,ve)===j){je.push(G.substring(fe,Z).replace(X,ne)),G[fe=Z+1+we+ve]!==ne&&(Z=G.indexOf(ne,fe)),We=G.indexOf(j,fe),Ie=G.indexOf(W,fe);break}if(we=Ze(Ie),G.substring(Z+1+we,Z+1+we+te)===W){if(je.push(G.substring(fe,Z).replace(X,ne)),rt(Z+1+we+te),We=G.indexOf(j,fe),Z=G.indexOf(ne,fe),Pe&&(st(),I))return Je();if(Y&&ke.length>=Y)return Je(!0);break}ze.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ke.length,index:fe}),Z++}}else if(H&&je.length===0&&G.substring(fe,fe+Ne)===H){if(Ie===-1)return Je();fe=Ie+te,Ie=G.indexOf(W,fe),We=G.indexOf(j,fe)}else if(We!==-1&&(We<Ie||Ie===-1))je.push(G.substring(fe,We)),fe=We+ve,We=G.indexOf(j,fe);else{if(Ie===-1)break;if(je.push(G.substring(fe,Ie)),rt(Ie+te),Pe&&(st(),I))return Je();if(Y&&ke.length>=Y)return Je(!0)}return Ke();function Ae(he){ke.push(he),be=fe}function Ze(he){var q=0;return q=he!==-1&&(he=G.substring(Z+1,he))&&he.trim()===""?he.length:q}function Ke(he){return D||(he===void 0&&(he=G.substring(fe)),je.push(he),fe=me,Ae(je),Pe&&st()),Je()}function rt(he){fe=he,Ae(je),je=[],Ie=G.indexOf(W,fe)}function Je(he){if(O.header&&!se&&ke.length&&!ae){var q=ke[0],Le=Object.create(null),Se=new Set(q);let Fe=!1;for(let Xe=0;Xe<q.length;Xe++){let ut=q[Xe];if(Le[ut=N(O.transformHeader)?O.transformHeader(ut,Xe):ut]){let At,Ot=Le[ut];for(;At=ut+"_"+Ot,Ot++,Se.has(At););Se.add(At),q[Xe]=At,Le[ut]++,Fe=!0,(oe=oe===null?{}:oe)[At]=ut}else Le[ut]=1,q[Xe]=ut;Se.add(ut)}Fe&&console.warn("Duplicate headers found and renamed."),ae=!0}return{data:ke,errors:ze,meta:{delimiter:j,linebreak:W,aborted:I,truncated:!!he,cursor:be+(se||0),renamedHeaders:oe}}}function st(){J(Je()),ke=[],ze=[]}},this.abort=function(){I=!0},this.getCharIndex=function(){return fe}}function T(O){var j=O.data,W=u[j.workerId],H=!1;if(j.error)W.userError(j.error,j.file);else if(j.results&&j.results.data){var J={abort:function(){H=!0,k(j.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:F,resume:F};if(N(W.userStep)){for(var Y=0;Y<j.results.data.length&&(W.userStep({data:j.results.data[Y],errors:j.results.errors,meta:j.results.meta},J),!H);Y++);delete j.results}else N(W.userChunk)&&(W.userChunk(j.results,J,j.file),delete j.results)}j.finished&&!H&&k(j.workerId,j.results)}function k(O,j){var W=u[O];N(W.userComplete)&&W.userComplete(j),W.terminate(),delete u[O]}function F(){throw new Error("Not implemented.")}function R(O){if(typeof O!="object"||O===null)return O;var j,W=Array.isArray(O)?[]:{};for(j in O)W[j]=R(O[j]);return W}function B(O,j){return function(){O.apply(j,arguments)}}function N(O){return typeof O=="function"}return d.parse=function(O,j){var W=(j=j||{}).dynamicTyping||!1;if(N(W)&&(j.dynamicTypingFunction=W,W={}),j.dynamicTyping=W,j.transform=!!N(j.transform)&&j.transform,!j.worker||!d.WORKERS_SUPPORTED)return W=null,d.NODE_STREAM_INPUT,typeof O=="string"?(O=(H=>H.charCodeAt(0)!==65279?H:H.slice(1))(O),W=new(j.download?g:y)(j)):O.readable===!0&&N(O.read)&&N(O.on)?W=new w(j):(i.File&&O instanceof File||O instanceof Object)&&(W=new _(j)),W.stream(O);(W=(()=>{var H;return!!d.WORKERS_SUPPORTED&&(H=(()=>{var J=i.URL||i.webkitURL||null,Y=t.toString();return d.BLOB_URL||(d.BLOB_URL=J.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Y,")();"],{type:"text/javascript"})))})(),(H=new i.Worker(H)).onmessage=T,H.id=h++,u[H.id]=H)})()).userStep=j.step,W.userChunk=j.chunk,W.userComplete=j.complete,W.userError=j.error,j.step=N(j.step),j.chunk=N(j.chunk),j.complete=N(j.complete),j.error=N(j.error),delete j.worker,W.postMessage({input:O,config:j,workerId:W.id})},d.unparse=function(O,j){var W=!1,H=!0,J=",",Y=`\r
`,ee='"',oe=ee+ee,ae=!1,ne=null,K=!1,fe=((()=>{if(typeof j=="object"){if(typeof j.delimiter!="string"||d.BAD_DELIMITERS.filter(function(se){return j.delimiter.indexOf(se)!==-1}).length||(J=j.delimiter),typeof j.quotes!="boolean"&&typeof j.quotes!="function"&&!Array.isArray(j.quotes)||(W=j.quotes),typeof j.skipEmptyLines!="boolean"&&typeof j.skipEmptyLines!="string"||(ae=j.skipEmptyLines),typeof j.newline=="string"&&(Y=j.newline),typeof j.quoteChar=="string"&&(ee=j.quoteChar),typeof j.header=="boolean"&&(H=j.header),Array.isArray(j.columns)){if(j.columns.length===0)throw new Error("Option columns is empty");ne=j.columns}j.escapeChar!==void 0&&(oe=j.escapeChar+ee),j.escapeFormulae instanceof RegExp?K=j.escapeFormulae:typeof j.escapeFormulae=="boolean"&&j.escapeFormulae&&(K=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(ee),"g"));if(typeof O=="string"&&(O=JSON.parse(O)),Array.isArray(O)){if(!O.length||Array.isArray(O[0]))return I(null,O,ae);if(typeof O[0]=="object")return I(ne||Object.keys(O[0]),O,ae)}else if(typeof O=="object")return typeof O.data=="string"&&(O.data=JSON.parse(O.data)),Array.isArray(O.data)&&(O.fields||(O.fields=O.meta&&O.meta.fields||ne),O.fields||(O.fields=Array.isArray(O.data[0])?O.fields:typeof O.data[0]=="object"?Object.keys(O.data[0]):[]),Array.isArray(O.data[0])||typeof O.data[0]=="object"||(O.data=[O.data])),I(O.fields||[],O.data||[],ae);throw new Error("Unable to serialize unrecognized input");function I(se,D,me){var ve="",te=(typeof se=="string"&&(se=JSON.parse(se)),typeof D=="string"&&(D=JSON.parse(D)),Array.isArray(se)&&0<se.length),Ne=!Array.isArray(D[0]);if(te&&H){for(var Pe=0;Pe<se.length;Pe++)0<Pe&&(ve+=J),ve+=G(se[Pe],Pe);0<D.length&&(ve+=Y)}for(var ke=0;ke<D.length;ke++){var ze=(te?se:D[ke]).length,je=!1,be=te?Object.keys(D[ke]).length===0:D[ke].length===0;if(me&&!te&&(je=me==="greedy"?D[ke].join("").trim()==="":D[ke].length===1&&D[ke][0].length===0),me==="greedy"&&te){for(var Re=[],De=0;De<ze;De++){var We=Ne?se[De]:De;Re.push(D[ke][We])}je=Re.join("").trim()===""}if(!je){for(var Ie=0;Ie<ze;Ie++){0<Ie&&!be&&(ve+=J);var X=te&&Ne?se[Ie]:Ie;ve+=G(D[ke][X],Ie)}ke<D.length-1&&(!me||0<ze&&!be)&&(ve+=Y)}}return ve}function G(se,D){var me,ve;return se==null?"":se.constructor===Date?JSON.stringify(se).slice(1,25):(ve=!1,K&&typeof se=="string"&&K.test(se)&&(se="'"+se,ve=!0),me=se.toString().replace(fe,oe),(ve=ve||W===!0||typeof W=="function"&&W(se,D)||Array.isArray(W)&&W[D]||((te,Ne)=>{for(var Pe=0;Pe<Ne.length;Pe++)if(-1<te.indexOf(Ne[Pe]))return!0;return!1})(me,d.BAD_DELIMITERS)||-1<me.indexOf(J)||me.charAt(0)===" "||me.charAt(me.length-1)===" ")?ee+me+ee:me)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!s&&!!i.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=b,d.ParserHandle=S,d.NetworkStreamer=g,d.FileStreamer=_,d.StringStreamer=y,d.ReadableStreamStreamer=w,i.jQuery&&((r=i.jQuery).fn.parse=function(O){var j=O.config||{},W=[];return this.each(function(Y){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var ee=0;ee<this.files.length;ee++)W.push({file:this.files[ee],inputElem:this,instanceConfig:r.extend({},j)})}),H(),this;function H(){if(W.length===0)N(O.complete)&&O.complete();else{var Y,ee,oe,ae,ne=W[0];if(N(O.before)){var K=O.before(ne.file,ne.inputElem);if(typeof K=="object"){if(K.action==="abort")return Y="AbortError",ee=ne.file,oe=ne.inputElem,ae=K.reason,void(N(O.error)&&O.error({name:Y},ee,oe,ae));if(K.action==="skip")return void J();typeof K.config=="object"&&(ne.instanceConfig=r.extend(ne.instanceConfig,K.config))}else if(K==="skip")return void J()}var fe=ne.instanceConfig.complete;ne.instanceConfig.complete=function(I){N(fe)&&fe(I,ne.file,ne.inputElem),J()},d.parse(ne.file,ne.instanceConfig)}}function J(){W.splice(0,1),H()}}),o&&(i.onmessage=function(O){O=O.data,d.WORKER_ID===void 0&&O&&(d.WORKER_ID=O.workerId),typeof O.input=="string"?i.postMessage({workerId:d.WORKER_ID,results:d.parse(O.input,O.config),finished:!0}):(i.File&&O.input instanceof File||O.input instanceof Object)&&(O=d.parse(O.input,O.config))&&i.postMessage({workerId:d.WORKER_ID,results:O,finished:!0})}),(g.prototype=Object.create(p.prototype)).constructor=g,(_.prototype=Object.create(p.prototype)).constructor=_,(y.prototype=Object.create(y.prototype)).constructor=y,(w.prototype=Object.create(p.prototype)).constructor=w,d})})(Cp)),Cp.exports}var $I=ZI();const Ab=$u($I);function qI(){const[n,e]=de.useState([{lat:-6.2,lng:106.8}]);function t(){return $P({click(s){e(o=>[...o,{lat:s.latlng.lat,lng:s.latlng.lng}])}}),null}function i(){const s=Ab.unparse(n),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),u=URL.createObjectURL(o),h=document.createElement("a");h.href=u,h.setAttribute("download","sites.csv"),document.body.appendChild(h),h.click(),document.body.removeChild(h)}function r(s){const o=s.target.files[0];o&&Ab.parse(o,{header:!0,dynamicTyping:!0,complete:u=>{const h=u.data.filter(d=>d.Latitude&&d.Longitude).map(d=>({lat:d.Latitude,lng:d.Longitude}));h.length>0&&e(h)}})}return z.jsxs("div",{className:"space-y-4",children:[z.jsxs(Bu,{center:[-2,118],zoom:5,style:{height:"400px",width:"100%"},children:[z.jsx(Uu,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n.map((s,o)=>z.jsx(so,{position:[s.lat,s.lng]},o)),z.jsx(t,{})]}),z.jsxs("div",{className:"flex gap-4",children:[z.jsx("button",{onClick:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg shadow",children:"Export CSV"}),z.jsxs("label",{className:"px-4 py-2 bg-green-600 text-white rounded-lg shadow cursor-pointer",children:["Import CSV",z.jsx("input",{type:"file",accept:".csv",onChange:r,hidden:!0})]})]})]})}function XI({result:n,mode:e,error:t}){const[i,r]=de.useState("chart");return t?z.jsxs("div",{className:"bg-red-100 text-red-600 p-4 rounded-lg",children:[z.jsx("strong",{children:"Error:"})," ",t]}):n?z.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[z.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Analysis Result"}),z.jsxs("div",{className:"flex mb-4 rounded-xl overflow-hidden border w-full",children:[z.jsx("button",{onClick:()=>r("chart"),className:`flex-1 px-3 py-2 text-sm font-medium ${i==="chart"?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"Chart"}),z.jsx("button",{onClick:()=>r("table"),className:`flex-1 px-3 py-2 text-sm font-medium ${i==="table"?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"Table"}),e==="multi"&&z.jsx("button",{onClick:()=>r("map"),className:`flex-1 px-3 py-2 text-sm font-medium ${i==="map"?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"Map"})]}),i==="chart"&&z.jsx(jI,{curves:n.curves}),i==="table"&&z.jsx(WI,{curves:n.curves}),i==="map"&&e==="multi"&&z.jsx(qI,{})]}):z.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:z.jsx("p",{className:"text-gray-500",children:"Belum ada hasil analisis."})})}function YI({toast:n}){if(de.useEffect(()=>{if(!n)return;const t=setTimeout(()=>{},3e3);return()=>clearTimeout(t)},[n]),!n)return null;const e={success:"bg-green-500",error:"bg-red-500",info:"bg-blue-500"};return z.jsx("div",{className:"fixed top-4 right-4 z-50",children:z.jsx("div",{className:`${e[n.type]||"bg-gray-500"} text-white px-4 py-2 rounded-lg shadow-lg`,children:n.message})})}/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const RE="132",Ql={ROTATE:0,DOLLY:1,PAN:2},eu={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},KI=0,kb=1,JI=2,IE=1,QI=2,Mh=3,qh=0,zn=1,il=2,DE=1,ea=0,Ih=1,Rb=2,Ib=3,Db=4,eD=5,Mu=100,tD=101,nD=102,Nb=103,Ob=104,iD=200,rD=201,sD=202,oD=203,NE=204,OE=205,aD=206,lD=207,uD=208,cD=209,hD=210,dD=0,fD=1,pD=2,Iy=3,mD=4,gD=5,_D=6,yD=7,fm=0,vD=1,xD=2,Qa=0,wD=1,bD=2,SD=3,MD=4,ED=5,zE=300,pm=301,mm=302,Dy=303,Ny=304,gm=306,Cv=307,Oy=1e3,lr=1001,zy=1002,$n=1003,zb=1004,Fb=1005,kr=1006,TD=1007,_m=1008,Wu=1009,LD=1010,CD=1011,Vp=1012,PD=1013,Pp=1014,Ga=1015,ku=1016,AD=1017,kD=1018,RD=1019,Dh=1020,ID=1021,ta=1022,cr=1023,DD=1024,ND=1025,OD=cr,Ru=1026,Xh=1027,zD=1028,FD=1029,BD=1030,UD=1031,HD=1032,VD=1033,Bb=33776,Ub=33777,Hb=33778,Vb=33779,jb=35840,Wb=35841,Gb=35842,Zb=35843,jD=36196,$b=37492,qb=37496,WD=37808,GD=37809,ZD=37810,$D=37811,qD=37812,XD=37813,YD=37814,KD=37815,JD=37816,QD=37817,eN=37818,tN=37819,nN=37820,iN=37821,rN=36492,sN=37840,oN=37841,aN=37842,lN=37843,uN=37844,cN=37845,hN=37846,dN=37847,fN=37848,pN=37849,mN=37850,gN=37851,_N=37852,yN=37853,vN=2200,xN=2201,wN=2202,jp=2300,Wp=2301,m_=2302,Tu=2400,Lu=2401,Gp=2402,Pv=2500,FE=2501,bN=0,Wi=3e3,ym=3001,Av=3007,kv=3002,SN=3003,BE=3004,UE=3005,HE=3006,MN=3200,EN=3201,Qu=0,TN=1,g_=7680,LN=519,Yh=35044,Zp=35048,Xb="300 es";let ul=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}};const Qn=[];for(let n=0;n<256;n++)Qn[n]=(n<16?"0":"")+n.toString(16);let Hf=1234567;const Nh=Math.PI/180,Kh=180/Math.PI;function es(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Qn[n&255]+Qn[n>>8&255]+Qn[n>>16&255]+Qn[n>>24&255]+"-"+Qn[e&255]+Qn[e>>8&255]+"-"+Qn[e>>16&15|64]+Qn[e>>24&255]+"-"+Qn[t&63|128]+Qn[t>>8&255]+"-"+Qn[t>>16&255]+Qn[t>>24&255]+Qn[i&255]+Qn[i>>8&255]+Qn[i>>16&255]+Qn[i>>24&255]).toUpperCase()}function Li(n,e,t){return Math.max(e,Math.min(t,n))}function Rv(n,e){return(n%e+e)%e}function CN(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function PN(n,e,t){return n!==e?(t-n)/(e-n):0}function Oh(n,e,t){return(1-t)*n+t*e}function AN(n,e,t,i){return Oh(n,e,1-Math.exp(-t*i))}function kN(n,e=1){return e-Math.abs(Rv(n,e*2)-e)}function RN(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function IN(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function DN(n,e){return n+Math.floor(Math.random()*(e-n+1))}function NN(n,e){return n+Math.random()*(e-n)}function ON(n){return n*(.5-Math.random())}function zN(n){return n!==void 0&&(Hf=n%2147483647),Hf=Hf*16807%2147483647,(Hf-1)/2147483646}function FN(n){return n*Nh}function BN(n){return n*Kh}function Fy(n){return(n&n-1)===0&&n!==0}function UN(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function VE(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function HN(n,e,t,i,r){const s=Math.cos,o=Math.sin,u=s(t/2),h=o(t/2),d=s((e+i)/2),p=o((e+i)/2),g=s((e-i)/2),_=o((e-i)/2),y=s((i-e)/2),w=o((i-e)/2);switch(r){case"XYX":n.set(u*p,h*g,h*_,u*d);break;case"YZY":n.set(h*_,u*p,h*g,u*d);break;case"ZXZ":n.set(h*g,h*_,u*p,u*d);break;case"XZX":n.set(u*p,h*w,h*y,u*d);break;case"YXY":n.set(h*y,u*p,h*w,u*d);break;case"ZYZ":n.set(h*w,h*y,u*p,u*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}var __=Object.freeze({__proto__:null,DEG2RAD:Nh,RAD2DEG:Kh,generateUUID:es,clamp:Li,euclideanModulo:Rv,mapLinear:CN,inverseLerp:PN,lerp:Oh,damp:AN,pingpong:kN,smoothstep:RN,smootherstep:IN,randInt:DN,randFloat:NN,randFloatSpread:ON,seededRandom:zN,degToRad:FN,radToDeg:BN,isPowerOfTwo:Fy,ceilPowerOfTwo:UN,floorPowerOfTwo:VE,setQuaternionFromProperEuler:HN});class $e{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}$e.prototype.isVector2=!0;class ei{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,i,r,s,o,u,h,d){const p=this.elements;return p[0]=e,p[1]=r,p[2]=u,p[3]=t,p[4]=s,p[5]=h,p[6]=i,p[7]=o,p[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],u=i[3],h=i[6],d=i[1],p=i[4],g=i[7],_=i[2],y=i[5],w=i[8],S=r[0],C=r[3],b=r[6],T=r[1],k=r[4],F=r[7],R=r[2],B=r[5],N=r[8];return s[0]=o*S+u*T+h*R,s[3]=o*C+u*k+h*B,s[6]=o*b+u*F+h*N,s[1]=d*S+p*T+g*R,s[4]=d*C+p*k+g*B,s[7]=d*b+p*F+g*N,s[2]=_*S+y*T+w*R,s[5]=_*C+y*k+w*B,s[8]=_*b+y*F+w*N,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],u=e[5],h=e[6],d=e[7],p=e[8];return t*o*p-t*u*d-i*s*p+i*u*h+r*s*d-r*o*h}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],u=e[5],h=e[6],d=e[7],p=e[8],g=p*o-u*d,_=u*h-p*s,y=d*s-o*h,w=t*g+i*_+r*y;if(w===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/w;return e[0]=g*S,e[1]=(r*d-p*i)*S,e[2]=(u*i-r*o)*S,e[3]=_*S,e[4]=(p*t-r*h)*S,e[5]=(r*s-u*t)*S,e[6]=y*S,e[7]=(i*h-d*t)*S,e[8]=(o*t-i*s)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,u){const h=Math.cos(s),d=Math.sin(s);return this.set(i*h,i*d,-i*(h*o+d*u)+o+e,-r*d,r*h,-r*(-d*o+h*u)+u+t,0,0,1),this}scale(e,t){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=t,i[4]*=t,i[7]*=t,this}rotate(e){const t=Math.cos(e),i=Math.sin(e),r=this.elements,s=r[0],o=r[3],u=r[6],h=r[1],d=r[4],p=r[7];return r[0]=t*s+i*h,r[3]=t*o+i*d,r[6]=t*u+i*p,r[1]=-i*s+t*h,r[4]=-i*o+t*d,r[7]=-i*u+t*p,this}translate(e,t){const i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=t*i[2],i[4]+=t*i[5],i[7]+=t*i[8],this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}ei.prototype.isMatrix3=!0;let tu;class ec{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{tu===void 0&&(tu=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),tu.width=e.width,tu.height=e.height;const i=tu.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=tu}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}let VN=0;class ti extends ul{constructor(e=ti.DEFAULT_IMAGE,t=ti.DEFAULT_MAPPING,i=lr,r=lr,s=kr,o=_m,u=cr,h=Wu,d=1,p=Wi){super(),Object.defineProperty(this,"id",{value:VN++}),this.uuid=es(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=d,this.format=u,this.internalFormat=null,this.type=h,this.offset=new $e(0,0),this.repeat=new $e(1,1),this.center=new $e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ei,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=p,this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const r=this.image;if(r.uuid===void 0&&(r.uuid=es()),!t&&e.images[r.uuid]===void 0){let s;if(Array.isArray(r)){s=[];for(let o=0,u=r.length;o<u;o++)r[o].isDataTexture?s.push(y_(r[o].image)):s.push(y_(r[o]))}else s=y_(r);e.images[r.uuid]={uuid:r.uuid,url:s}}i.image=r.uuid}return t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==zE)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Oy:e.x=e.x-Math.floor(e.x);break;case lr:e.x=e.x<0?0:1;break;case zy:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Oy:e.y=e.y-Math.floor(e.y);break;case lr:e.y=e.y<0?0:1;break;case zy:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}}ti.DEFAULT_IMAGE=void 0;ti.DEFAULT_MAPPING=zE;ti.prototype.isTexture=!0;function y_(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?ec.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class en{constructor(e=0,t=0,i=0,r=1){this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const h=e.elements,d=h[0],p=h[4],g=h[8],_=h[1],y=h[5],w=h[9],S=h[2],C=h[6],b=h[10];if(Math.abs(p-_)<.01&&Math.abs(g-S)<.01&&Math.abs(w-C)<.01){if(Math.abs(p+_)<.1&&Math.abs(g+S)<.1&&Math.abs(w+C)<.1&&Math.abs(d+y+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const k=(d+1)/2,F=(y+1)/2,R=(b+1)/2,B=(p+_)/4,N=(g+S)/4,O=(w+C)/4;return k>F&&k>R?k<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(k),r=B/i,s=N/i):F>R?F<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(F),i=B/r,s=O/r):R<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(R),i=N/s,r=O/s),this.set(i,r,s,t),this}let T=Math.sqrt((C-w)*(C-w)+(g-S)*(g-S)+(_-p)*(_-p));return Math.abs(T)<.001&&(T=1),this.x=(C-w)/T,this.y=(g-S)/T,this.z=(_-p)/T,this.w=Math.acos((d+y+b-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}en.prototype.isVector4=!0;class Ts extends ul{constructor(e,t,i={}){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new en(0,0,e,t),this.scissorTest=!1,this.viewport=new en(0,0,e,t),this.texture=new ti(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:kr,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image={...this.texture.image},this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Ts.prototype.isWebGLRenderTarget=!0;class jN extends Ts{constructor(e,t,i){super(e,t);const r=this.texture;this.texture=[];for(let s=0;s<i;s++)this.texture[s]=r.clone()}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone();return this}}jN.prototype.isWebGLMultipleRenderTargets=!0;class jE extends Ts{constructor(e,t,i){super(e,t,i),this.samples=4}copy(e){return super.copy.call(this,e),this.samples=e.samples,this}}jE.prototype.isWebGLMultisampleRenderTarget=!0;class mi{constructor(e=0,t=0,i=0,r=1){this._x=e,this._y=t,this._z=i,this._w=r}static slerp(e,t,i,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),i.slerpQuaternions(e,t,r)}static slerpFlat(e,t,i,r,s,o,u){let h=i[r+0],d=i[r+1],p=i[r+2],g=i[r+3];const _=s[o+0],y=s[o+1],w=s[o+2],S=s[o+3];if(u===0){e[t+0]=h,e[t+1]=d,e[t+2]=p,e[t+3]=g;return}if(u===1){e[t+0]=_,e[t+1]=y,e[t+2]=w,e[t+3]=S;return}if(g!==S||h!==_||d!==y||p!==w){let C=1-u;const b=h*_+d*y+p*w+g*S,T=b>=0?1:-1,k=1-b*b;if(k>Number.EPSILON){const R=Math.sqrt(k),B=Math.atan2(R,b*T);C=Math.sin(C*B)/R,u=Math.sin(u*B)/R}const F=u*T;if(h=h*C+_*F,d=d*C+y*F,p=p*C+w*F,g=g*C+S*F,C===1-u){const R=1/Math.sqrt(h*h+d*d+p*p+g*g);h*=R,d*=R,p*=R,g*=R}}e[t]=h,e[t+1]=d,e[t+2]=p,e[t+3]=g}static multiplyQuaternionsFlat(e,t,i,r,s,o){const u=i[r],h=i[r+1],d=i[r+2],p=i[r+3],g=s[o],_=s[o+1],y=s[o+2],w=s[o+3];return e[t]=u*w+p*g+h*y-d*_,e[t+1]=h*w+p*_+d*g-u*y,e[t+2]=d*w+p*y+u*_-h*g,e[t+3]=p*w-u*g-h*_-d*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=e._x,r=e._y,s=e._z,o=e._order,u=Math.cos,h=Math.sin,d=u(i/2),p=u(r/2),g=u(s/2),_=h(i/2),y=h(r/2),w=h(s/2);switch(o){case"XYZ":this._x=_*p*g+d*y*w,this._y=d*y*g-_*p*w,this._z=d*p*w+_*y*g,this._w=d*p*g-_*y*w;break;case"YXZ":this._x=_*p*g+d*y*w,this._y=d*y*g-_*p*w,this._z=d*p*w-_*y*g,this._w=d*p*g+_*y*w;break;case"ZXY":this._x=_*p*g-d*y*w,this._y=d*y*g+_*p*w,this._z=d*p*w+_*y*g,this._w=d*p*g-_*y*w;break;case"ZYX":this._x=_*p*g-d*y*w,this._y=d*y*g+_*p*w,this._z=d*p*w-_*y*g,this._w=d*p*g+_*y*w;break;case"YZX":this._x=_*p*g+d*y*w,this._y=d*y*g+_*p*w,this._z=d*p*w-_*y*g,this._w=d*p*g-_*y*w;break;case"XZY":this._x=_*p*g-d*y*w,this._y=d*y*g-_*p*w,this._z=d*p*w+_*y*g,this._w=d*p*g+_*y*w;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],u=t[5],h=t[9],d=t[2],p=t[6],g=t[10],_=i+u+g;if(_>0){const y=.5/Math.sqrt(_+1);this._w=.25/y,this._x=(p-h)*y,this._y=(s-d)*y,this._z=(o-r)*y}else if(i>u&&i>g){const y=2*Math.sqrt(1+i-u-g);this._w=(p-h)/y,this._x=.25*y,this._y=(r+o)/y,this._z=(s+d)/y}else if(u>g){const y=2*Math.sqrt(1+u-i-g);this._w=(s-d)/y,this._x=(r+o)/y,this._y=.25*y,this._z=(h+p)/y}else{const y=2*Math.sqrt(1+g-i-u);this._w=(o-r)/y,this._x=(s+d)/y,this._y=(h+p)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Li(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,u=t._x,h=t._y,d=t._z,p=t._w;return this._x=i*p+o*u+r*d-s*h,this._y=r*p+o*h+s*u-i*d,this._z=s*p+o*d+i*h-r*u,this._w=o*p-i*u-r*h-s*d,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let u=o*e._w+i*e._x+r*e._y+s*e._z;if(u<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,u=-u):this.copy(e),u>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const h=1-u*u;if(h<=Number.EPSILON){const y=1-t;return this._w=y*o+t*this._w,this._x=y*i+t*this._x,this._y=y*r+t*this._y,this._z=y*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const d=Math.sqrt(h),p=Math.atan2(d,u),g=Math.sin((1-t)*p)/d,_=Math.sin(t*p)/d;return this._w=o*g+this._w*_,this._x=i*g+this._x*_,this._y=r*g+this._y*_,this._z=s*g+this._z*_,this._onChangeCallback(),this}slerpQuaternions(e,t,i){this.copy(e).slerp(t,i)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}mi.prototype.isQuaternion=!0;class ie{constructor(e=0,t=0,i=0){this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Yb.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Yb.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,u=e.z,h=e.w,d=h*t+o*r-u*i,p=h*i+u*t-s*r,g=h*r+s*i-o*t,_=-s*t-o*i-u*r;return this.x=d*h+_*-s+p*-u-g*-o,this.y=p*h+_*-o+g*-s-d*-u,this.z=g*h+_*-u+d*-o-p*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,u=t.y,h=t.z;return this.x=r*h-s*u,this.y=s*o-i*h,this.z=i*u-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return v_.copy(this).projectOnVector(e),this.sub(v_)}reflect(e){return this.sub(v_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Li(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}ie.prototype.isVector3=!0;const v_=new ie,Yb=new mi;class Nr{constructor(e=new ie(1/0,1/0,1/0),t=new ie(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,u=-1/0;for(let h=0,d=e.length;h<d;h+=3){const p=e[h],g=e[h+1],_=e[h+2];p<t&&(t=p),g<i&&(i=g),_<r&&(r=_),p>s&&(s=p),g>o&&(o=g),_>u&&(u=_)}return this.min.set(t,i,r),this.max.set(s,o,u),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,u=-1/0;for(let h=0,d=e.count;h<d;h++){const p=e.getX(h),g=e.getY(h),_=e.getZ(h);p<t&&(t=p),g<i&&(i=g),_<r&&(r=_),p>s&&(s=p),g>o&&(o=g),_>u&&(u=_)}return this.min.set(t,i,r),this.max.set(s,o,u),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=ih.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),x_.copy(t.boundingBox),x_.applyMatrix4(e.matrixWorld),this.union(x_));const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ih),ih.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(rh),Vf.subVectors(this.max,rh),nu.subVectors(e.a,rh),iu.subVectors(e.b,rh),ru.subVectors(e.c,rh),Ho.subVectors(iu,nu),Vo.subVectors(ru,iu),Ua.subVectors(nu,ru);let t=[0,-Ho.z,Ho.y,0,-Vo.z,Vo.y,0,-Ua.z,Ua.y,Ho.z,0,-Ho.x,Vo.z,0,-Vo.x,Ua.z,0,-Ua.x,-Ho.y,Ho.x,0,-Vo.y,Vo.x,0,-Ua.y,Ua.x,0];return!w_(t,nu,iu,ru,Vf)||(t=[1,0,0,0,1,0,0,0,1],!w_(t,nu,iu,ru,Vf))?!1:(jf.crossVectors(Ho,Vo),t=[jf.x,jf.y,jf.z],w_(t,nu,iu,ru,Vf))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ih.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(ih).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ks[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ks[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ks[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ks[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ks[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ks[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ks[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ks[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ks),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Nr.prototype.isBox3=!0;const Ks=[new ie,new ie,new ie,new ie,new ie,new ie,new ie,new ie],ih=new ie,x_=new Nr,nu=new ie,iu=new ie,ru=new ie,Ho=new ie,Vo=new ie,Ua=new ie,rh=new ie,Vf=new ie,jf=new ie,Ha=new ie;function w_(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Ha.fromArray(n,s);const u=r.x*Math.abs(Ha.x)+r.y*Math.abs(Ha.y)+r.z*Math.abs(Ha.z),h=e.dot(Ha),d=t.dot(Ha),p=i.dot(Ha);if(Math.max(-Math.max(h,d,p),Math.min(h,d,p))>u)return!1}return!0}const WN=new Nr,Kb=new ie,b_=new ie,S_=new ie;class tc{constructor(e=new ie,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):WN.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){S_.subVectors(e,this.center);const t=S_.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.add(S_.multiplyScalar(r/i)),this.radius+=r}return this}union(e){return b_.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Kb.copy(e.center).add(b_)),this.expandByPoint(Kb.copy(e.center).sub(b_)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Js=new ie,M_=new ie,Wf=new ie,jo=new ie,E_=new ie,Gf=new ie,T_=new ie;class cl{constructor(e=new ie,t=new ie(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Js)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Js.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Js.copy(this.direction).multiplyScalar(t).add(this.origin),Js.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){M_.copy(e).add(t).multiplyScalar(.5),Wf.copy(t).sub(e).normalize(),jo.copy(this.origin).sub(M_);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Wf),u=jo.dot(this.direction),h=-jo.dot(Wf),d=jo.lengthSq(),p=Math.abs(1-o*o);let g,_,y,w;if(p>0)if(g=o*h-u,_=o*u-h,w=s*p,g>=0)if(_>=-w)if(_<=w){const S=1/p;g*=S,_*=S,y=g*(g+o*_+2*u)+_*(o*g+_+2*h)+d}else _=s,g=Math.max(0,-(o*_+u)),y=-g*g+_*(_+2*h)+d;else _=-s,g=Math.max(0,-(o*_+u)),y=-g*g+_*(_+2*h)+d;else _<=-w?(g=Math.max(0,-(-o*s+u)),_=g>0?-s:Math.min(Math.max(-s,-h),s),y=-g*g+_*(_+2*h)+d):_<=w?(g=0,_=Math.min(Math.max(-s,-h),s),y=_*(_+2*h)+d):(g=Math.max(0,-(o*s+u)),_=g>0?s:Math.min(Math.max(-s,-h),s),y=-g*g+_*(_+2*h)+d);else _=o>0?-s:s,g=Math.max(0,-(o*_+u)),y=-g*g+_*(_+2*h)+d;return i&&i.copy(this.direction).multiplyScalar(g).add(this.origin),r&&r.copy(Wf).multiplyScalar(_).add(M_),y}intersectSphere(e,t){Js.subVectors(e.center,this.origin);const i=Js.dot(this.direction),r=Js.dot(Js)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),u=i-o,h=i+o;return u<0&&h<0?null:u<0?this.at(h,t):this.at(u,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,u,h;const d=1/this.direction.x,p=1/this.direction.y,g=1/this.direction.z,_=this.origin;return d>=0?(i=(e.min.x-_.x)*d,r=(e.max.x-_.x)*d):(i=(e.max.x-_.x)*d,r=(e.min.x-_.x)*d),p>=0?(s=(e.min.y-_.y)*p,o=(e.max.y-_.y)*p):(s=(e.max.y-_.y)*p,o=(e.min.y-_.y)*p),i>o||s>r||((s>i||i!==i)&&(i=s),(o<r||r!==r)&&(r=o),g>=0?(u=(e.min.z-_.z)*g,h=(e.max.z-_.z)*g):(u=(e.max.z-_.z)*g,h=(e.min.z-_.z)*g),i>h||u>r)||((u>i||i!==i)&&(i=u),(h<r||r!==r)&&(r=h),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Js)!==null}intersectTriangle(e,t,i,r,s){E_.subVectors(t,e),Gf.subVectors(i,e),T_.crossVectors(E_,Gf);let o=this.direction.dot(T_),u;if(o>0){if(r)return null;u=1}else if(o<0)u=-1,o=-o;else return null;jo.subVectors(this.origin,e);const h=u*this.direction.dot(Gf.crossVectors(jo,Gf));if(h<0)return null;const d=u*this.direction.dot(E_.cross(jo));if(d<0||h+d>o)return null;const p=-u*jo.dot(T_);return p<0?null:this.at(p/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class yt{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,i,r,s,o,u,h,d,p,g,_,y,w,S,C){const b=this.elements;return b[0]=e,b[4]=t,b[8]=i,b[12]=r,b[1]=s,b[5]=o,b[9]=u,b[13]=h,b[2]=d,b[6]=p,b[10]=g,b[14]=_,b[3]=y,b[7]=w,b[11]=S,b[15]=C,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new yt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/su.setFromMatrixColumn(e,0).length(),s=1/su.setFromMatrixColumn(e,1).length(),o=1/su.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),u=Math.sin(i),h=Math.cos(r),d=Math.sin(r),p=Math.cos(s),g=Math.sin(s);if(e.order==="XYZ"){const _=o*p,y=o*g,w=u*p,S=u*g;t[0]=h*p,t[4]=-h*g,t[8]=d,t[1]=y+w*d,t[5]=_-S*d,t[9]=-u*h,t[2]=S-_*d,t[6]=w+y*d,t[10]=o*h}else if(e.order==="YXZ"){const _=h*p,y=h*g,w=d*p,S=d*g;t[0]=_+S*u,t[4]=w*u-y,t[8]=o*d,t[1]=o*g,t[5]=o*p,t[9]=-u,t[2]=y*u-w,t[6]=S+_*u,t[10]=o*h}else if(e.order==="ZXY"){const _=h*p,y=h*g,w=d*p,S=d*g;t[0]=_-S*u,t[4]=-o*g,t[8]=w+y*u,t[1]=y+w*u,t[5]=o*p,t[9]=S-_*u,t[2]=-o*d,t[6]=u,t[10]=o*h}else if(e.order==="ZYX"){const _=o*p,y=o*g,w=u*p,S=u*g;t[0]=h*p,t[4]=w*d-y,t[8]=_*d+S,t[1]=h*g,t[5]=S*d+_,t[9]=y*d-w,t[2]=-d,t[6]=u*h,t[10]=o*h}else if(e.order==="YZX"){const _=o*h,y=o*d,w=u*h,S=u*d;t[0]=h*p,t[4]=S-_*g,t[8]=w*g+y,t[1]=g,t[5]=o*p,t[9]=-u*p,t[2]=-d*p,t[6]=y*g+w,t[10]=_-S*g}else if(e.order==="XZY"){const _=o*h,y=o*d,w=u*h,S=u*d;t[0]=h*p,t[4]=-g,t[8]=d*p,t[1]=_*g+S,t[5]=o*p,t[9]=y*g-w,t[2]=w*g-y,t[6]=u*p,t[10]=S*g+_}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(GN,e,ZN)}lookAt(e,t,i){const r=this.elements;return sr.subVectors(e,t),sr.lengthSq()===0&&(sr.z=1),sr.normalize(),Wo.crossVectors(i,sr),Wo.lengthSq()===0&&(Math.abs(i.z)===1?sr.x+=1e-4:sr.z+=1e-4,sr.normalize(),Wo.crossVectors(i,sr)),Wo.normalize(),Zf.crossVectors(sr,Wo),r[0]=Wo.x,r[4]=Zf.x,r[8]=sr.x,r[1]=Wo.y,r[5]=Zf.y,r[9]=sr.y,r[2]=Wo.z,r[6]=Zf.z,r[10]=sr.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],u=i[4],h=i[8],d=i[12],p=i[1],g=i[5],_=i[9],y=i[13],w=i[2],S=i[6],C=i[10],b=i[14],T=i[3],k=i[7],F=i[11],R=i[15],B=r[0],N=r[4],O=r[8],j=r[12],W=r[1],H=r[5],J=r[9],Y=r[13],ee=r[2],oe=r[6],ae=r[10],ne=r[14],K=r[3],fe=r[7],I=r[11],G=r[15];return s[0]=o*B+u*W+h*ee+d*K,s[4]=o*N+u*H+h*oe+d*fe,s[8]=o*O+u*J+h*ae+d*I,s[12]=o*j+u*Y+h*ne+d*G,s[1]=p*B+g*W+_*ee+y*K,s[5]=p*N+g*H+_*oe+y*fe,s[9]=p*O+g*J+_*ae+y*I,s[13]=p*j+g*Y+_*ne+y*G,s[2]=w*B+S*W+C*ee+b*K,s[6]=w*N+S*H+C*oe+b*fe,s[10]=w*O+S*J+C*ae+b*I,s[14]=w*j+S*Y+C*ne+b*G,s[3]=T*B+k*W+F*ee+R*K,s[7]=T*N+k*H+F*oe+R*fe,s[11]=T*O+k*J+F*ae+R*I,s[15]=T*j+k*Y+F*ne+R*G,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],u=e[5],h=e[9],d=e[13],p=e[2],g=e[6],_=e[10],y=e[14],w=e[3],S=e[7],C=e[11],b=e[15];return w*(+s*h*g-r*d*g-s*u*_+i*d*_+r*u*y-i*h*y)+S*(+t*h*y-t*d*_+s*o*_-r*o*y+r*d*p-s*h*p)+C*(+t*d*g-t*u*y-s*o*g+i*o*y+s*u*p-i*d*p)+b*(-r*u*p-t*h*g+t*u*_+r*o*g-i*o*_+i*h*p)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],u=e[5],h=e[6],d=e[7],p=e[8],g=e[9],_=e[10],y=e[11],w=e[12],S=e[13],C=e[14],b=e[15],T=g*C*d-S*_*d+S*h*y-u*C*y-g*h*b+u*_*b,k=w*_*d-p*C*d-w*h*y+o*C*y+p*h*b-o*_*b,F=p*S*d-w*g*d+w*u*y-o*S*y-p*u*b+o*g*b,R=w*g*h-p*S*h-w*u*_+o*S*_+p*u*C-o*g*C,B=t*T+i*k+r*F+s*R;if(B===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/B;return e[0]=T*N,e[1]=(S*_*s-g*C*s-S*r*y+i*C*y+g*r*b-i*_*b)*N,e[2]=(u*C*s-S*h*s+S*r*d-i*C*d-u*r*b+i*h*b)*N,e[3]=(g*h*s-u*_*s-g*r*d+i*_*d+u*r*y-i*h*y)*N,e[4]=k*N,e[5]=(p*C*s-w*_*s+w*r*y-t*C*y-p*r*b+t*_*b)*N,e[6]=(w*h*s-o*C*s-w*r*d+t*C*d+o*r*b-t*h*b)*N,e[7]=(o*_*s-p*h*s+p*r*d-t*_*d-o*r*y+t*h*y)*N,e[8]=F*N,e[9]=(w*g*s-p*S*s-w*i*y+t*S*y+p*i*b-t*g*b)*N,e[10]=(o*S*s-w*u*s+w*i*d-t*S*d-o*i*b+t*u*b)*N,e[11]=(p*u*s-o*g*s-p*i*d+t*g*d+o*i*y-t*u*y)*N,e[12]=R*N,e[13]=(p*S*r-w*g*r+w*i*_-t*S*_-p*i*C+t*g*C)*N,e[14]=(w*u*r-o*S*r-w*i*h+t*S*h+o*i*C-t*u*C)*N,e[15]=(o*g*r-p*u*r+p*i*h-t*g*h-o*i*_+t*u*_)*N,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,u=e.y,h=e.z,d=s*o,p=s*u;return this.set(d*o+i,d*u-r*h,d*h+r*u,0,d*u+r*h,p*u+i,p*h-r*o,0,d*h-r*u,p*h+r*o,s*h*h+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,u=t._z,h=t._w,d=s+s,p=o+o,g=u+u,_=s*d,y=s*p,w=s*g,S=o*p,C=o*g,b=u*g,T=h*d,k=h*p,F=h*g,R=i.x,B=i.y,N=i.z;return r[0]=(1-(S+b))*R,r[1]=(y+F)*R,r[2]=(w-k)*R,r[3]=0,r[4]=(y-F)*B,r[5]=(1-(_+b))*B,r[6]=(C+T)*B,r[7]=0,r[8]=(w+k)*N,r[9]=(C-T)*N,r[10]=(1-(_+S))*N,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=su.set(r[0],r[1],r[2]).length();const o=su.set(r[4],r[5],r[6]).length(),u=su.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],$r.copy(this);const d=1/s,p=1/o,g=1/u;return $r.elements[0]*=d,$r.elements[1]*=d,$r.elements[2]*=d,$r.elements[4]*=p,$r.elements[5]*=p,$r.elements[6]*=p,$r.elements[8]*=g,$r.elements[9]*=g,$r.elements[10]*=g,t.setFromRotationMatrix($r),i.x=s,i.y=o,i.z=u,this}makePerspective(e,t,i,r,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const u=this.elements,h=2*s/(t-e),d=2*s/(i-r),p=(t+e)/(t-e),g=(i+r)/(i-r),_=-(o+s)/(o-s),y=-2*o*s/(o-s);return u[0]=h,u[4]=0,u[8]=p,u[12]=0,u[1]=0,u[5]=d,u[9]=g,u[13]=0,u[2]=0,u[6]=0,u[10]=_,u[14]=y,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,i,r,s,o){const u=this.elements,h=1/(t-e),d=1/(i-r),p=1/(o-s),g=(t+e)*h,_=(i+r)*d,y=(o+s)*p;return u[0]=2*h,u[4]=0,u[8]=0,u[12]=-g,u[1]=0,u[5]=2*d,u[9]=0,u[13]=-_,u[2]=0,u[6]=0,u[10]=-2*p,u[14]=-y,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}yt.prototype.isMatrix4=!0;const su=new ie,$r=new yt,GN=new ie(0,0,0),ZN=new ie(1,1,1),Wo=new ie,Zf=new ie,sr=new ie,Jb=new yt,Qb=new mi;class nc{constructor(e=0,t=0,i=0,r=nc.DefaultOrder){this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],u=r[8],h=r[1],d=r[5],p=r[9],g=r[2],_=r[6],y=r[10];switch(t){case"XYZ":this._y=Math.asin(Li(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-p,y),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(_,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Li(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(u,y),this._z=Math.atan2(h,d)):(this._y=Math.atan2(-g,s),this._z=0);break;case"ZXY":this._x=Math.asin(Li(_,-1,1)),Math.abs(_)<.9999999?(this._y=Math.atan2(-g,y),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(h,s));break;case"ZYX":this._y=Math.asin(-Li(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(_,y),this._z=Math.atan2(h,s)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(Li(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-p,d),this._y=Math.atan2(-g,s)):(this._x=0,this._y=Math.atan2(u,y));break;case"XZY":this._z=Math.asin(-Li(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(_,d),this._y=Math.atan2(u,s)):(this._x=Math.atan2(-p,y),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return Jb.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Jb,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Qb.setFromEuler(this),this.setFromQuaternion(Qb,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new ie(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}nc.prototype.isEuler=!0;nc.DefaultOrder="XYZ";nc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class $N{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}}let qN=0;const eS=new ie,ou=new mi,Qs=new yt,$f=new ie,sh=new ie,XN=new ie,YN=new mi,tS=new ie(1,0,0),nS=new ie(0,1,0),iS=new ie(0,0,1),KN={type:"added"},rS={type:"removed"};class Zt extends ul{constructor(){super(),Object.defineProperty(this,"id",{value:qN++}),this.uuid=es(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Zt.DefaultUp.clone();const e=new ie,t=new nc,i=new mi,r=new ie(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new yt},normalMatrix:{value:new ei}}),this.matrix=new yt,this.matrixWorld=new yt,this.matrixAutoUpdate=Zt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new $N,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return ou.setFromAxisAngle(e,t),this.quaternion.multiply(ou),this}rotateOnWorldAxis(e,t){return ou.setFromAxisAngle(e,t),this.quaternion.premultiply(ou),this}rotateX(e){return this.rotateOnAxis(tS,e)}rotateY(e){return this.rotateOnAxis(nS,e)}rotateZ(e){return this.rotateOnAxis(iS,e)}translateOnAxis(e,t){return eS.copy(e).applyQuaternion(this.quaternion),this.position.add(eS.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(tS,e)}translateY(e){return this.translateOnAxis(nS,e)}translateZ(e){return this.translateOnAxis(iS,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Qs.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?$f.copy(e):$f.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),sh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Qs.lookAt(sh,$f,this.up):Qs.lookAt($f,sh,this.up),this.quaternion.setFromRotationMatrix(Qs),r&&(Qs.extractRotation(r.matrixWorld),ou.setFromRotationMatrix(Qs),this.quaternion.premultiply(ou.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(KN)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(rS)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(rS)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Qs.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Qs.multiply(e.parent.matrixWorld)),e.applyMatrix4(Qs),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sh,e,XN),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sh,YN,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(u,h){return u[h.uuid]===void 0&&(u[h.uuid]=h.toJSON(e)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const h=u.shapes;if(Array.isArray(h))for(let d=0,p=h.length;d<p;d++){const g=h[d];s(e.shapes,g)}else s(e.shapes,h)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let h=0,d=this.material.length;h<d;h++)u.push(s(e.materials,this.material[h]));r.material=u}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let u=0;u<this.children.length;u++)r.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let u=0;u<this.animations.length;u++){const h=this.animations[u];r.animations.push(s(e.animations,h))}}if(t){const u=o(e.geometries),h=o(e.materials),d=o(e.textures),p=o(e.images),g=o(e.shapes),_=o(e.skeletons),y=o(e.animations);u.length>0&&(i.geometries=u),h.length>0&&(i.materials=h),d.length>0&&(i.textures=d),p.length>0&&(i.images=p),g.length>0&&(i.shapes=g),_.length>0&&(i.skeletons=_),y.length>0&&(i.animations=y)}return i.object=r,i;function o(u){const h=[];for(const d in u){const p=u[d];delete p.metadata,h.push(p)}return h}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Zt.DefaultUp=new ie(0,1,0);Zt.DefaultMatrixAutoUpdate=!0;Zt.prototype.isObject3D=!0;const qr=new ie,eo=new ie,L_=new ie,to=new ie,au=new ie,lu=new ie,sS=new ie,C_=new ie,P_=new ie,A_=new ie;class Fn{constructor(e=new ie,t=new ie,i=new ie){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),qr.subVectors(e,t),r.cross(qr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){qr.subVectors(r,t),eo.subVectors(i,t),L_.subVectors(e,t);const o=qr.dot(qr),u=qr.dot(eo),h=qr.dot(L_),d=eo.dot(eo),p=eo.dot(L_),g=o*d-u*u;if(g===0)return s.set(-2,-1,-1);const _=1/g,y=(d*h-u*p)*_,w=(o*p-u*h)*_;return s.set(1-y-w,w,y)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,to),to.x>=0&&to.y>=0&&to.x+to.y<=1}static getUV(e,t,i,r,s,o,u,h){return this.getBarycoord(e,t,i,r,to),h.set(0,0),h.addScaledVector(s,to.x),h.addScaledVector(o,to.y),h.addScaledVector(u,to.z),h}static isFrontFacing(e,t,i,r){return qr.subVectors(i,t),eo.subVectors(e,t),qr.cross(eo).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return qr.subVectors(this.c,this.b),eo.subVectors(this.a,this.b),qr.cross(eo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Fn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Fn.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return Fn.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Fn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Fn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,u;au.subVectors(r,i),lu.subVectors(s,i),C_.subVectors(e,i);const h=au.dot(C_),d=lu.dot(C_);if(h<=0&&d<=0)return t.copy(i);P_.subVectors(e,r);const p=au.dot(P_),g=lu.dot(P_);if(p>=0&&g<=p)return t.copy(r);const _=h*g-p*d;if(_<=0&&h>=0&&p<=0)return o=h/(h-p),t.copy(i).addScaledVector(au,o);A_.subVectors(e,s);const y=au.dot(A_),w=lu.dot(A_);if(w>=0&&y<=w)return t.copy(s);const S=y*d-h*w;if(S<=0&&d>=0&&w<=0)return u=d/(d-w),t.copy(i).addScaledVector(lu,u);const C=p*w-y*g;if(C<=0&&g-p>=0&&y-w>=0)return sS.subVectors(s,r),u=(g-p)/(g-p+(y-w)),t.copy(r).addScaledVector(sS,u);const b=1/(C+S+_);return o=S*b,u=_*b,t.copy(i).addScaledVector(au,o).addScaledVector(lu,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let JN=0;class _i extends ul{constructor(){super(),Object.defineProperty(this,"id",{value:JN++}),this.uuid=es(),this.name="",this.type="Material",this.fog=!0,this.blending=Ih,this.side=qh,this.vertexColors=!1,this.opacity=1,this.format=cr,this.transparent=!1,this.blendSrc=NE,this.blendDst=OE,this.blendEquation=Mu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Iy,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=LN,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=g_,this.stencilZFail=g_,this.stencilZPass=g_,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===DE;continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheenTint&&this.sheenTint.isColor&&(i.sheenTint=this.sheenTint.getHex()),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularTint&&this.specularTint.isColor&&(i.specularTint=this.specularTint.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularTintMap&&this.specularTintMap.isTexture&&(i.specularTintMap=this.specularTintMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationTint!==void 0&&(i.attenuationTint=this.attenuationTint.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Ih&&(i.blending=this.blending),this.side!==qh&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.format!==cr&&(i.format=this.format),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData);function r(s){const o=[];for(const u in s){const h=s[u];delete h.metadata,o.push(h)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}_i.prototype.isMaterial=!0;const WE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Xr={h:0,s:0,l:0},qf={h:0,s:0,l:0};function k_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function R_(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function I_(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}class ht{constructor(e,t,i){return t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,t,i){return this.r=e,this.g=t,this.b=i,this}setHSL(e,t,i){if(e=Rv(e,1),t=Li(t,0,1),i=Li(i,0,1),t===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+t):i+t-i*t,s=2*i-r;this.r=k_(s,r,e+1/3),this.g=k_(s,r,e),this.b=k_(s,r,e-1/3)}return this}setStyle(e){function t(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let r;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){const u=parseFloat(r[1])/360,h=parseInt(r[2],10)/100,d=parseInt(r[3],10)/100;return t(r[4]),this.setHSL(u,h,d)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=i[1],s=r.length;if(s===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,this;if(s===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=WE[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){const i=t>0?1/t:1;return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=R_(e.r),this.g=R_(e.g),this.b=R_(e.b),this}copyLinearToSRGB(e){return this.r=I_(e.r),this.g=I_(e.g),this.b=I_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const t=this.r,i=this.g,r=this.b,s=Math.max(t,i,r),o=Math.min(t,i,r);let u,h;const d=(o+s)/2;if(o===s)u=0,h=0;else{const p=s-o;switch(h=d<=.5?p/(s+o):p/(2-s-o),s){case t:u=(i-r)/p+(i<r?6:0);break;case i:u=(r-t)/p+2;break;case r:u=(t-i)/p+4;break}u/=6}return e.h=u,e.s=h,e.l=d,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,t,i){return this.getHSL(Xr),Xr.h+=e,Xr.s+=t,Xr.l+=i,this.setHSL(Xr.h,Xr.s,Xr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Xr),e.getHSL(qf);const i=Oh(Xr.h,qf.h,t),r=Oh(Xr.s,qf.s,t),s=Oh(Xr.l,qf.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}ht.NAMES=WE;ht.prototype.isColor=!0;ht.prototype.r=1;ht.prototype.g=1;ht.prototype.b=1;class Iv extends _i{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=fm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}Iv.prototype.isMeshBasicMaterial=!0;const on=new ie,Xf=new $e;class Bn{constructor(e,t,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i===!0,this.usage=Yh,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new ht),t[i++]=o.r,t[i++]=o.g,t[i++]=o.b}return this}copyVector2sArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new $e),t[i++]=o.x,t[i++]=o.y}return this}copyVector3sArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new ie),t[i++]=o.x,t[i++]=o.y,t[i++]=o.z}return this}copyVector4sArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new en),t[i++]=o.x,t[i++]=o.y,t[i++]=o.z,t[i++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Xf.fromBufferAttribute(this,t),Xf.applyMatrix3(e),this.setXY(t,Xf.x,Xf.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)on.fromBufferAttribute(this,t),on.applyMatrix3(e),this.setXYZ(t,on.x,on.y,on.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)on.x=this.getX(t),on.y=this.getY(t),on.z=this.getZ(t),on.applyMatrix4(e),this.setXYZ(t,on.x,on.y,on.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)on.x=this.getX(t),on.y=this.getY(t),on.z=this.getZ(t),on.applyNormalMatrix(e),this.setXYZ(t,on.x,on.y,on.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)on.x=this.getX(t),on.y=this.getY(t),on.z=this.getZ(t),on.transformDirection(e),this.setXYZ(t,on.x,on.y,on.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Yh&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}Bn.prototype.isBufferAttribute=!0;class GE extends Bn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class ZE extends Bn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class QN extends Bn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}QN.prototype.isFloat16BufferAttribute=!0;class Xn extends Bn{constructor(e,t,i){super(new Float32Array(e),t,i)}}function $E(n){if(n.length===0)return-1/0;let e=n[0];for(let t=1,i=n.length;t<i;++t)n[t]>e&&(e=n[t]);return e}let eO=0;const Lr=new yt,D_=new Zt,uu=new ie,or=new Nr,oh=new Nr,Wn=new ie;class tn extends ul{constructor(){super(),Object.defineProperty(this,"id",{value:eO++}),this.uuid=es(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new($E(e)>65535?ZE:GE)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new ei().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Lr.makeRotationFromQuaternion(e),this.applyMatrix4(Lr),this}rotateX(e){return Lr.makeRotationX(e),this.applyMatrix4(Lr),this}rotateY(e){return Lr.makeRotationY(e),this.applyMatrix4(Lr),this}rotateZ(e){return Lr.makeRotationZ(e),this.applyMatrix4(Lr),this}translate(e,t,i){return Lr.makeTranslation(e,t,i),this.applyMatrix4(Lr),this}scale(e,t,i){return Lr.makeScale(e,t,i),this.applyMatrix4(Lr),this}lookAt(e){return D_.lookAt(e),D_.updateMatrix(),this.applyMatrix4(D_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(uu).negate(),this.translate(uu.x,uu.y,uu.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Xn(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Nr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ie(-1/0,-1/0,-1/0),new ie(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];or.setFromBufferAttribute(s),this.morphTargetsRelative?(Wn.addVectors(this.boundingBox.min,or.min),this.boundingBox.expandByPoint(Wn),Wn.addVectors(this.boundingBox.max,or.max),this.boundingBox.expandByPoint(Wn)):(this.boundingBox.expandByPoint(or.min),this.boundingBox.expandByPoint(or.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new tc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ie,1/0);return}if(e){const i=this.boundingSphere.center;if(or.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const u=t[s];oh.setFromBufferAttribute(u),this.morphTargetsRelative?(Wn.addVectors(or.min,oh.min),or.expandByPoint(Wn),Wn.addVectors(or.max,oh.max),or.expandByPoint(Wn)):(or.expandByPoint(oh.min),or.expandByPoint(oh.max))}or.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Wn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Wn));if(t)for(let s=0,o=t.length;s<o;s++){const u=t[s],h=this.morphTargetsRelative;for(let d=0,p=u.count;d<p;d++)Wn.fromBufferAttribute(u,d),h&&(uu.fromBufferAttribute(e,d),Wn.add(uu)),r=Math.max(r,i.distanceToSquared(Wn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,u=r.length/3;t.tangent===void 0&&this.setAttribute("tangent",new Bn(new Float32Array(4*u),4));const h=t.tangent.array,d=[],p=[];for(let W=0;W<u;W++)d[W]=new ie,p[W]=new ie;const g=new ie,_=new ie,y=new ie,w=new $e,S=new $e,C=new $e,b=new ie,T=new ie;function k(W,H,J){g.fromArray(r,W*3),_.fromArray(r,H*3),y.fromArray(r,J*3),w.fromArray(o,W*2),S.fromArray(o,H*2),C.fromArray(o,J*2),_.sub(g),y.sub(g),S.sub(w),C.sub(w);const Y=1/(S.x*C.y-C.x*S.y);isFinite(Y)&&(b.copy(_).multiplyScalar(C.y).addScaledVector(y,-S.y).multiplyScalar(Y),T.copy(y).multiplyScalar(S.x).addScaledVector(_,-C.x).multiplyScalar(Y),d[W].add(b),d[H].add(b),d[J].add(b),p[W].add(T),p[H].add(T),p[J].add(T))}let F=this.groups;F.length===0&&(F=[{start:0,count:i.length}]);for(let W=0,H=F.length;W<H;++W){const J=F[W],Y=J.start,ee=J.count;for(let oe=Y,ae=Y+ee;oe<ae;oe+=3)k(i[oe+0],i[oe+1],i[oe+2])}const R=new ie,B=new ie,N=new ie,O=new ie;function j(W){N.fromArray(s,W*3),O.copy(N);const H=d[W];R.copy(H),R.sub(N.multiplyScalar(N.dot(H))).normalize(),B.crossVectors(O,H);const Y=B.dot(p[W])<0?-1:1;h[W*4]=R.x,h[W*4+1]=R.y,h[W*4+2]=R.z,h[W*4+3]=Y}for(let W=0,H=F.length;W<H;++W){const J=F[W],Y=J.start,ee=J.count;for(let oe=Y,ae=Y+ee;oe<ae;oe+=3)j(i[oe+0]),j(i[oe+1]),j(i[oe+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Bn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let _=0,y=i.count;_<y;_++)i.setXYZ(_,0,0,0);const r=new ie,s=new ie,o=new ie,u=new ie,h=new ie,d=new ie,p=new ie,g=new ie;if(e)for(let _=0,y=e.count;_<y;_+=3){const w=e.getX(_+0),S=e.getX(_+1),C=e.getX(_+2);r.fromBufferAttribute(t,w),s.fromBufferAttribute(t,S),o.fromBufferAttribute(t,C),p.subVectors(o,s),g.subVectors(r,s),p.cross(g),u.fromBufferAttribute(i,w),h.fromBufferAttribute(i,S),d.fromBufferAttribute(i,C),u.add(p),h.add(p),d.add(p),i.setXYZ(w,u.x,u.y,u.z),i.setXYZ(S,h.x,h.y,h.z),i.setXYZ(C,d.x,d.y,d.z)}else for(let _=0,y=t.count;_<y;_+=3)r.fromBufferAttribute(t,_+0),s.fromBufferAttribute(t,_+1),o.fromBufferAttribute(t,_+2),p.subVectors(o,s),g.subVectors(r,s),p.cross(g),i.setXYZ(_+0,p.x,p.y,p.z),i.setXYZ(_+1,p.x,p.y,p.z),i.setXYZ(_+2,p.x,p.y,p.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const r in i){if(e.attributes[r]===void 0)continue;const o=i[r].array,u=e.attributes[r],h=u.array,d=u.itemSize*t,p=Math.min(h.length,o.length-d);for(let g=0,_=d;g<p;g++,_++)o[_]=h[g]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Wn.fromBufferAttribute(e,t),Wn.normalize(),e.setXYZ(t,Wn.x,Wn.y,Wn.z)}toNonIndexed(){function e(u,h){const d=u.array,p=u.itemSize,g=u.normalized,_=new d.constructor(h.length*p);let y=0,w=0;for(let S=0,C=h.length;S<C;S++){u.isInterleavedBufferAttribute?y=h[S]*u.data.stride+u.offset:y=h[S]*p;for(let b=0;b<p;b++)_[w++]=d[y++]}return new Bn(_,p,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new tn,i=this.index.array,r=this.attributes;for(const u in r){const h=r[u],d=e(h,i);t.setAttribute(u,d)}const s=this.morphAttributes;for(const u in s){const h=[],d=s[u];for(let p=0,g=d.length;p<g;p++){const _=d[p],y=e(_,i);h.push(y)}t.morphAttributes[u]=h}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let u=0,h=o.length;u<h;u++){const d=o[u];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const d in h)h[d]!==void 0&&(e[d]=h[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const h in i){const d=i[h];e.data.attributes[h]=d.toJSON(e.data)}const r={};let s=!1;for(const h in this.morphAttributes){const d=this.morphAttributes[h],p=[];for(let g=0,_=d.length;g<_;g++){const y=d[g];p.push(y.toJSON(e.data))}p.length>0&&(r[h]=p,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e}clone(){return new tn().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const d in r){const p=r[d];this.setAttribute(d,p.clone(t))}const s=e.morphAttributes;for(const d in s){const p=[],g=s[d];for(let _=0,y=g.length;_<y;_++)p.push(g[_].clone(t));this.morphAttributes[d]=p}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let d=0,p=o.length;d<p;d++){const g=o[d];this.addGroup(g.start,g.count,g.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}tn.prototype.isBufferGeometry=!0;const oS=new yt,cu=new cl,N_=new tc,Go=new ie,Zo=new ie,$o=new ie,O_=new ie,z_=new ie,F_=new ie,Yf=new ie,Kf=new ie,Jf=new ie,Qf=new $e,ep=new $e,tp=new $e,B_=new ie,np=new ie;class Ci extends Zt{constructor(e=new tn,t=new Iv){super(),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const u=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),N_.copy(i.boundingSphere),N_.applyMatrix4(s),e.ray.intersectsSphere(N_)===!1)||(oS.copy(s).invert(),cu.copy(e.ray).applyMatrix4(oS),i.boundingBox!==null&&cu.intersectsBox(i.boundingBox)===!1))return;let o;if(i.isBufferGeometry){const u=i.index,h=i.attributes.position,d=i.morphAttributes.position,p=i.morphTargetsRelative,g=i.attributes.uv,_=i.attributes.uv2,y=i.groups,w=i.drawRange;if(u!==null)if(Array.isArray(r))for(let S=0,C=y.length;S<C;S++){const b=y[S],T=r[b.materialIndex],k=Math.max(b.start,w.start),F=Math.min(b.start+b.count,w.start+w.count);for(let R=k,B=F;R<B;R+=3){const N=u.getX(R),O=u.getX(R+1),j=u.getX(R+2);o=ip(this,T,e,cu,h,d,p,g,_,N,O,j),o&&(o.faceIndex=Math.floor(R/3),o.face.materialIndex=b.materialIndex,t.push(o))}}else{const S=Math.max(0,w.start),C=Math.min(u.count,w.start+w.count);for(let b=S,T=C;b<T;b+=3){const k=u.getX(b),F=u.getX(b+1),R=u.getX(b+2);o=ip(this,r,e,cu,h,d,p,g,_,k,F,R),o&&(o.faceIndex=Math.floor(b/3),t.push(o))}}else if(h!==void 0)if(Array.isArray(r))for(let S=0,C=y.length;S<C;S++){const b=y[S],T=r[b.materialIndex],k=Math.max(b.start,w.start),F=Math.min(b.start+b.count,w.start+w.count);for(let R=k,B=F;R<B;R+=3){const N=R,O=R+1,j=R+2;o=ip(this,T,e,cu,h,d,p,g,_,N,O,j),o&&(o.faceIndex=Math.floor(R/3),o.face.materialIndex=b.materialIndex,t.push(o))}}else{const S=Math.max(0,w.start),C=Math.min(h.count,w.start+w.count);for(let b=S,T=C;b<T;b+=3){const k=b,F=b+1,R=b+2;o=ip(this,r,e,cu,h,d,p,g,_,k,F,R),o&&(o.faceIndex=Math.floor(b/3),t.push(o))}}}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}Ci.prototype.isMesh=!0;function tO(n,e,t,i,r,s,o,u){let h;if(e.side===zn?h=i.intersectTriangle(o,s,r,!0,u):h=i.intersectTriangle(r,s,o,e.side!==il,u),h===null)return null;np.copy(u),np.applyMatrix4(n.matrixWorld);const d=t.ray.origin.distanceTo(np);return d<t.near||d>t.far?null:{distance:d,point:np.clone(),object:n}}function ip(n,e,t,i,r,s,o,u,h,d,p,g){Go.fromBufferAttribute(r,d),Zo.fromBufferAttribute(r,p),$o.fromBufferAttribute(r,g);const _=n.morphTargetInfluences;if(s&&_){Yf.set(0,0,0),Kf.set(0,0,0),Jf.set(0,0,0);for(let w=0,S=s.length;w<S;w++){const C=_[w],b=s[w];C!==0&&(O_.fromBufferAttribute(b,d),z_.fromBufferAttribute(b,p),F_.fromBufferAttribute(b,g),o?(Yf.addScaledVector(O_,C),Kf.addScaledVector(z_,C),Jf.addScaledVector(F_,C)):(Yf.addScaledVector(O_.sub(Go),C),Kf.addScaledVector(z_.sub(Zo),C),Jf.addScaledVector(F_.sub($o),C)))}Go.add(Yf),Zo.add(Kf),$o.add(Jf)}n.isSkinnedMesh&&(n.boneTransform(d,Go),n.boneTransform(p,Zo),n.boneTransform(g,$o));const y=tO(n,e,t,i,Go,Zo,$o,B_);if(y){u&&(Qf.fromBufferAttribute(u,d),ep.fromBufferAttribute(u,p),tp.fromBufferAttribute(u,g),y.uv=Fn.getUV(B_,Go,Zo,$o,Qf,ep,tp,new $e)),h&&(Qf.fromBufferAttribute(h,d),ep.fromBufferAttribute(h,p),tp.fromBufferAttribute(h,g),y.uv2=Fn.getUV(B_,Go,Zo,$o,Qf,ep,tp,new $e));const w={a:d,b:p,c:g,normal:new ie,materialIndex:0};Fn.getNormal(Go,Zo,$o,w.normal),y.face=w}return y}class hd extends tn{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const u=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const h=[],d=[],p=[],g=[];let _=0,y=0;w("z","y","x",-1,-1,i,t,e,o,s,0),w("z","y","x",1,-1,i,t,-e,o,s,1),w("x","z","y",1,1,e,i,t,r,o,2),w("x","z","y",1,-1,e,i,-t,r,o,3),w("x","y","z",1,-1,e,t,i,r,s,4),w("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(h),this.setAttribute("position",new Xn(d,3)),this.setAttribute("normal",new Xn(p,3)),this.setAttribute("uv",new Xn(g,2));function w(S,C,b,T,k,F,R,B,N,O,j){const W=F/N,H=R/O,J=F/2,Y=R/2,ee=B/2,oe=N+1,ae=O+1;let ne=0,K=0;const fe=new ie;for(let I=0;I<ae;I++){const G=I*H-Y;for(let se=0;se<oe;se++){const D=se*W-J;fe[S]=D*T,fe[C]=G*k,fe[b]=ee,d.push(fe.x,fe.y,fe.z),fe[S]=0,fe[C]=0,fe[b]=B>0?1:-1,p.push(fe.x,fe.y,fe.z),g.push(se/N),g.push(1-I/O),ne+=1}}for(let I=0;I<O;I++)for(let G=0;G<N;G++){const se=_+G+oe*I,D=_+G+oe*(I+1),me=_+(G+1)+oe*(I+1),ve=_+(G+1)+oe*I;h.push(se,D,ve),h.push(D,me,ve),K+=6}u.addGroup(y,K,j),y+=K,_+=ne}}static fromJSON(e){return new hd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Gu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function hi(n){const e={};for(let t=0;t<n.length;t++){const i=Gu(n[t]);for(const r in i)e[r]=i[r]}return e}const nO={clone:Gu,merge:hi};var iO=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,rO=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class rl extends _i{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=iO,this.fragmentShader=rO,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Gu(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}rl.prototype.isShaderMaterial=!0;class Dv extends Zt{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new yt,this.projectionMatrix=new yt,this.projectionMatrixInverse=new yt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Dv.prototype.isCamera=!0;class Gn extends Dv{constructor(e=50,t=1,i=.1,r=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Kh*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Nh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Kh*2*Math.atan(Math.tan(Nh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Nh*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const h=o.fullWidth,d=o.fullHeight;s+=o.offsetX*r/h,t-=o.offsetY*i/d,r*=o.width/h,i*=o.height/d}const u=this.filmOffset;u!==0&&(s+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}Gn.prototype.isPerspectiveCamera=!0;const hu=90,du=1;class Nv extends Zt{constructor(e,t,i){if(super(),this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=i;const r=new Gn(hu,du,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new ie(1,0,0)),this.add(r);const s=new Gn(hu,du,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new ie(-1,0,0)),this.add(s);const o=new Gn(hu,du,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new ie(0,1,0)),this.add(o);const u=new Gn(hu,du,e,t);u.layers=this.layers,u.up.set(0,0,-1),u.lookAt(new ie(0,-1,0)),this.add(u);const h=new Gn(hu,du,e,t);h.layers=this.layers,h.up.set(0,-1,0),h.lookAt(new ie(0,0,1)),this.add(h);const d=new Gn(hu,du,e,t);d.layers=this.layers,d.up.set(0,-1,0),d.lookAt(new ie(0,0,-1)),this.add(d)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,u,h,d]=this.children,p=e.xr.enabled,g=e.getRenderTarget();e.xr.enabled=!1;const _=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,u),e.setRenderTarget(i,4),e.render(t,h),i.texture.generateMipmaps=_,e.setRenderTarget(i,5),e.render(t,d),e.setRenderTarget(g),e.xr.enabled=p}}class vm extends ti{constructor(e,t,i,r,s,o,u,h,d,p){e=e!==void 0?e:[],t=t!==void 0?t:pm,u=u!==void 0?u:ta,super(e,t,i,r,s,o,u,h,d,p),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}vm.prototype.isCubeTexture=!0;class qE extends Ts{constructor(e,t,i){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=i),super(e,e,t),t=t||{},this.texture=new vm(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:kr,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=cr,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new hd(5,5,5),s=new rl({name:"CubemapFromEquirect",uniforms:Gu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:zn,blending:ea});s.uniforms.tEquirect.value=t;const o=new Ci(r,s),u=t.minFilter;return t.minFilter===_m&&(t.minFilter=kr),new Nv(1,10,this).update(e,o),t.minFilter=u,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}qE.prototype.isWebGLCubeRenderTarget=!0;const U_=new ie,sO=new ie,oO=new ei;class xs{constructor(e=new ie(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=U_.subVectors(i,t).cross(sO.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(U_),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||oO.getNormalMatrix(e),r=this.coplanarPoint(U_).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}xs.prototype.isPlane=!0;const fu=new tc,rp=new ie;class xm{constructor(e=new xs,t=new xs,i=new xs,r=new xs,s=new xs,o=new xs){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const u=this.planes;return u[0].copy(e),u[1].copy(t),u[2].copy(i),u[3].copy(r),u[4].copy(s),u[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],u=i[3],h=i[4],d=i[5],p=i[6],g=i[7],_=i[8],y=i[9],w=i[10],S=i[11],C=i[12],b=i[13],T=i[14],k=i[15];return t[0].setComponents(u-r,g-h,S-_,k-C).normalize(),t[1].setComponents(u+r,g+h,S+_,k+C).normalize(),t[2].setComponents(u+s,g+d,S+y,k+b).normalize(),t[3].setComponents(u-s,g-d,S-y,k-b).normalize(),t[4].setComponents(u-o,g-p,S-w,k-T).normalize(),t[5].setComponents(u+o,g+p,S+w,k+T).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),fu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(fu)}intersectsSprite(e){return fu.center.set(0,0,0),fu.radius=.7071067811865476,fu.applyMatrix4(e.matrixWorld),this.intersectsSphere(fu)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(rp.x=r.normal.x>0?e.max.x:e.min.x,rp.y=r.normal.y>0?e.max.y:e.min.y,rp.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(rp)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function XE(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function aO(n,e){const t=e.isWebGL2,i=new WeakMap;function r(d,p){const g=d.array,_=d.usage,y=n.createBuffer();n.bindBuffer(p,y),n.bufferData(p,g,_),d.onUploadCallback();let w=5126;return g instanceof Float32Array?w=5126:g instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):g instanceof Uint16Array?d.isFloat16BufferAttribute?t?w=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):w=5123:g instanceof Int16Array?w=5122:g instanceof Uint32Array?w=5125:g instanceof Int32Array?w=5124:g instanceof Int8Array?w=5120:(g instanceof Uint8Array||g instanceof Uint8ClampedArray)&&(w=5121),{buffer:y,type:w,bytesPerElement:g.BYTES_PER_ELEMENT,version:d.version}}function s(d,p,g){const _=p.array,y=p.updateRange;n.bindBuffer(g,d),y.count===-1?n.bufferSubData(g,0,_):(t?n.bufferSubData(g,y.offset*_.BYTES_PER_ELEMENT,_,y.offset,y.count):n.bufferSubData(g,y.offset*_.BYTES_PER_ELEMENT,_.subarray(y.offset,y.offset+y.count)),y.count=-1)}function o(d){return d.isInterleavedBufferAttribute&&(d=d.data),i.get(d)}function u(d){d.isInterleavedBufferAttribute&&(d=d.data);const p=i.get(d);p&&(n.deleteBuffer(p.buffer),i.delete(d))}function h(d,p){if(d.isGLBufferAttribute){const _=i.get(d);(!_||_.version<d.version)&&i.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version});return}d.isInterleavedBufferAttribute&&(d=d.data);const g=i.get(d);g===void 0?i.set(d,r(d,p)):g.version<d.version&&(s(g.buffer,d,p),g.version=d.version)}return{get:o,remove:u,update:h}}class Ov extends tn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,u=Math.floor(i),h=Math.floor(r),d=u+1,p=h+1,g=e/u,_=t/h,y=[],w=[],S=[],C=[];for(let b=0;b<p;b++){const T=b*_-o;for(let k=0;k<d;k++){const F=k*g-s;w.push(F,-T,0),S.push(0,0,1),C.push(k/u),C.push(1-b/h)}}for(let b=0;b<h;b++)for(let T=0;T<u;T++){const k=T+d*b,F=T+d*(b+1),R=T+1+d*(b+1),B=T+1+d*b;y.push(k,F,B),y.push(F,R,B)}this.setIndex(y),this.setAttribute("position",new Xn(w,3)),this.setAttribute("normal",new Xn(S,3)),this.setAttribute("uv",new Xn(C,2))}static fromJSON(e){return new Ov(e.width,e.height,e.widthSegments,e.heightSegments)}}var lO=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,uO=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,cO=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,hO=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,dO=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,fO=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,pO="vec3 transformed = vec3( position );",mO=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,gO=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotVH = saturate( dot( geometry.viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float NoH ) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float NoV, float NoL ) {
	return saturate( 1.0 / ( 4.0 * ( NoL + NoV - NoL * NoV ) ) );
}
vec3 BRDF_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,_O=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,yO=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,vO=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,xO=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,wO=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,bO=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,SO=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,MO=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,EO=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,TO=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,LO=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,CO=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,PO=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,AO=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,kO=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,RO=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,IO="gl_FragColor = linearToOutputTexel( gl_FragColor );",DO=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,NO=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,OO=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,zO=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,FO=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,BO=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,UO=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,HO=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,VO=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,jO=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,WO=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,GO=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,ZO=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,$O=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,qO=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,XO=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in GeometricContext geometry ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,YO=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,KO=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,JO=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,QO=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,ez=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularTintFactor = specularTint;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARTINTMAP
			specularTintFactor *= specularTintMapTexelToLinear( texture2D( specularTintMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularTintFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularTintFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenTint = sheenTint;
#endif`,tz=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenTint;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += irradiance * BRDF_Sheen( material.roughness, directLight.direction, geometry, material.sheenTint );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,nz=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,iz=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,rz=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,sz=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,oz=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,az=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,lz=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,uz=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,cz=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,hz=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,dz=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,fz=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,pz=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,mz=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,gz=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,_z=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,yz=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,vz=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,xz=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wz=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,bz=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Sz=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Mz=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Ez=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Tz=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Lz=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Cz=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Pz=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Az=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,kz=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Rz=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Iz=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Dz=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Nz=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Oz=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,zz=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Fz=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Bz=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Uz=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,Hz=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Vz=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,jz=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Wz=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Gz=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Zz=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,$z=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationTint, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = transmission.a;
#endif`,qz=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationTint;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Xz=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Yz=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Kz=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Jz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Qz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,eF=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,tF=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,nF=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,iF=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,rF=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,sF=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,oF=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,aF=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,lF=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,uF=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,cF=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,hF=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,dF=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,fF=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,pF=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mF=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,gF=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_F=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yF=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vF=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,xF=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,wF=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,bF=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SF=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MF=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularTint;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARTINTMAP
		uniform sampler2D specularTintMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenTint;
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - clearcoat * Fcc ) + clearcoatSpecular * clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EF=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,TF=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LF=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,CF=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,PF=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,AF=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,kF=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,RF=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,IF=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const Nt={alphamap_fragment:lO,alphamap_pars_fragment:uO,alphatest_fragment:cO,alphatest_pars_fragment:hO,aomap_fragment:dO,aomap_pars_fragment:fO,begin_vertex:pO,beginnormal_vertex:mO,bsdfs:gO,bumpmap_pars_fragment:_O,clipping_planes_fragment:yO,clipping_planes_pars_fragment:vO,clipping_planes_pars_vertex:xO,clipping_planes_vertex:wO,color_fragment:bO,color_pars_fragment:SO,color_pars_vertex:MO,color_vertex:EO,common:TO,cube_uv_reflection_fragment:LO,defaultnormal_vertex:CO,displacementmap_pars_vertex:PO,displacementmap_vertex:AO,emissivemap_fragment:kO,emissivemap_pars_fragment:RO,encodings_fragment:IO,encodings_pars_fragment:DO,envmap_fragment:NO,envmap_common_pars_fragment:OO,envmap_pars_fragment:zO,envmap_pars_vertex:FO,envmap_physical_pars_fragment:XO,envmap_vertex:BO,fog_vertex:UO,fog_pars_vertex:HO,fog_fragment:VO,fog_pars_fragment:jO,gradientmap_pars_fragment:WO,lightmap_fragment:GO,lightmap_pars_fragment:ZO,lights_lambert_vertex:$O,lights_pars_begin:qO,lights_toon_fragment:YO,lights_toon_pars_fragment:KO,lights_phong_fragment:JO,lights_phong_pars_fragment:QO,lights_physical_fragment:ez,lights_physical_pars_fragment:tz,lights_fragment_begin:nz,lights_fragment_maps:iz,lights_fragment_end:rz,logdepthbuf_fragment:sz,logdepthbuf_pars_fragment:oz,logdepthbuf_pars_vertex:az,logdepthbuf_vertex:lz,map_fragment:uz,map_pars_fragment:cz,map_particle_fragment:hz,map_particle_pars_fragment:dz,metalnessmap_fragment:fz,metalnessmap_pars_fragment:pz,morphnormal_vertex:mz,morphtarget_pars_vertex:gz,morphtarget_vertex:_z,normal_fragment_begin:yz,normal_fragment_maps:vz,normal_pars_fragment:xz,normal_pars_vertex:wz,normal_vertex:bz,normalmap_pars_fragment:Sz,clearcoat_normal_fragment_begin:Mz,clearcoat_normal_fragment_maps:Ez,clearcoat_pars_fragment:Tz,output_fragment:Lz,packing:Cz,premultiplied_alpha_fragment:Pz,project_vertex:Az,dithering_fragment:kz,dithering_pars_fragment:Rz,roughnessmap_fragment:Iz,roughnessmap_pars_fragment:Dz,shadowmap_pars_fragment:Nz,shadowmap_pars_vertex:Oz,shadowmap_vertex:zz,shadowmask_pars_fragment:Fz,skinbase_vertex:Bz,skinning_pars_vertex:Uz,skinning_vertex:Hz,skinnormal_vertex:Vz,specularmap_fragment:jz,specularmap_pars_fragment:Wz,tonemapping_fragment:Gz,tonemapping_pars_fragment:Zz,transmission_fragment:$z,transmission_pars_fragment:qz,uv_pars_fragment:Xz,uv_pars_vertex:Yz,uv_vertex:Kz,uv2_pars_fragment:Jz,uv2_pars_vertex:Qz,uv2_vertex:eF,worldpos_vertex:tF,background_frag:nF,background_vert:iF,cube_frag:rF,cube_vert:sF,depth_frag:oF,depth_vert:aF,distanceRGBA_frag:lF,distanceRGBA_vert:uF,equirect_frag:cF,equirect_vert:hF,linedashed_frag:dF,linedashed_vert:fF,meshbasic_frag:pF,meshbasic_vert:mF,meshlambert_frag:gF,meshlambert_vert:_F,meshmatcap_frag:yF,meshmatcap_vert:vF,meshnormal_frag:xF,meshnormal_vert:wF,meshphong_frag:bF,meshphong_vert:SF,meshphysical_frag:MF,meshphysical_vert:EF,meshtoon_frag:TF,meshtoon_vert:LF,points_frag:CF,points_vert:PF,shadow_frag:AF,shadow_vert:kF,sprite_frag:RF,sprite_vert:IF},Qe={common:{diffuse:{value:new ht(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new ei},uv2Transform:{value:new ei},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new $e(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ht(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ht(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ei}},sprite:{diffuse:{value:new ht(16777215)},opacity:{value:1},center:{value:new $e(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ei}}},ws={basic:{uniforms:hi([Qe.common,Qe.specularmap,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.fog]),vertexShader:Nt.meshbasic_vert,fragmentShader:Nt.meshbasic_frag},lambert:{uniforms:hi([Qe.common,Qe.specularmap,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.fog,Qe.lights,{emissive:{value:new ht(0)}}]),vertexShader:Nt.meshlambert_vert,fragmentShader:Nt.meshlambert_frag},phong:{uniforms:hi([Qe.common,Qe.specularmap,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.fog,Qe.lights,{emissive:{value:new ht(0)},specular:{value:new ht(1118481)},shininess:{value:30}}]),vertexShader:Nt.meshphong_vert,fragmentShader:Nt.meshphong_frag},standard:{uniforms:hi([Qe.common,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.roughnessmap,Qe.metalnessmap,Qe.fog,Qe.lights,{emissive:{value:new ht(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Nt.meshphysical_vert,fragmentShader:Nt.meshphysical_frag},toon:{uniforms:hi([Qe.common,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.gradientmap,Qe.fog,Qe.lights,{emissive:{value:new ht(0)}}]),vertexShader:Nt.meshtoon_vert,fragmentShader:Nt.meshtoon_frag},matcap:{uniforms:hi([Qe.common,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.fog,{matcap:{value:null}}]),vertexShader:Nt.meshmatcap_vert,fragmentShader:Nt.meshmatcap_frag},points:{uniforms:hi([Qe.points,Qe.fog]),vertexShader:Nt.points_vert,fragmentShader:Nt.points_frag},dashed:{uniforms:hi([Qe.common,Qe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Nt.linedashed_vert,fragmentShader:Nt.linedashed_frag},depth:{uniforms:hi([Qe.common,Qe.displacementmap]),vertexShader:Nt.depth_vert,fragmentShader:Nt.depth_frag},normal:{uniforms:hi([Qe.common,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,{opacity:{value:1}}]),vertexShader:Nt.meshnormal_vert,fragmentShader:Nt.meshnormal_frag},sprite:{uniforms:hi([Qe.sprite,Qe.fog]),vertexShader:Nt.sprite_vert,fragmentShader:Nt.sprite_frag},background:{uniforms:{uvTransform:{value:new ei},t2D:{value:null}},vertexShader:Nt.background_vert,fragmentShader:Nt.background_frag},cube:{uniforms:hi([Qe.envmap,{opacity:{value:1}}]),vertexShader:Nt.cube_vert,fragmentShader:Nt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Nt.equirect_vert,fragmentShader:Nt.equirect_frag},distanceRGBA:{uniforms:hi([Qe.common,Qe.displacementmap,{referencePosition:{value:new ie},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Nt.distanceRGBA_vert,fragmentShader:Nt.distanceRGBA_frag},shadow:{uniforms:hi([Qe.lights,Qe.fog,{color:{value:new ht(0)},opacity:{value:1}}]),vertexShader:Nt.shadow_vert,fragmentShader:Nt.shadow_frag}};ws.physical={uniforms:hi([ws.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new $e(1,1)},clearcoatNormalMap:{value:null},sheenTint:{value:new ht(0)},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new $e},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationTint:{value:new ht(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularTint:{value:new ht(1,1,1)},specularTintMap:{value:null}}]),vertexShader:Nt.meshphysical_vert,fragmentShader:Nt.meshphysical_frag};function DF(n,e,t,i,r){const s=new ht(0);let o=0,u,h,d=null,p=0,g=null;function _(w,S){let C=!1,b=S.isScene===!0?S.background:null;b&&b.isTexture&&(b=e.get(b));const T=n.xr,k=T.getSession&&T.getSession();k&&k.environmentBlendMode==="additive"&&(b=null),b===null?y(s,o):b&&b.isColor&&(y(b,1),C=!0),(n.autoClear||C)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),b&&(b.isCubeTexture||b.mapping===gm)?(h===void 0&&(h=new Ci(new hd(1,1,1),new rl({name:"BackgroundCubeMaterial",uniforms:Gu(ws.cube.uniforms),vertexShader:ws.cube.vertexShader,fragmentShader:ws.cube.fragmentShader,side:zn,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(F,R,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),h.material.uniforms.envMap.value=b,h.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,(d!==b||p!==b.version||g!==n.toneMapping)&&(h.material.needsUpdate=!0,d=b,p=b.version,g=n.toneMapping),w.unshift(h,h.geometry,h.material,0,0,null)):b&&b.isTexture&&(u===void 0&&(u=new Ci(new Ov(2,2),new rl({name:"BackgroundMaterial",uniforms:Gu(ws.background.uniforms),vertexShader:ws.background.vertexShader,fragmentShader:ws.background.fragmentShader,side:qh,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=b,b.matrixAutoUpdate===!0&&b.updateMatrix(),u.material.uniforms.uvTransform.value.copy(b.matrix),(d!==b||p!==b.version||g!==n.toneMapping)&&(u.material.needsUpdate=!0,d=b,p=b.version,g=n.toneMapping),w.unshift(u,u.geometry,u.material,0,0,null))}function y(w,S){t.buffers.color.setClear(w.r,w.g,w.b,S,r)}return{getClearColor:function(){return s},setClearColor:function(w,S=1){s.set(w),o=S,y(s,o)},getClearAlpha:function(){return o},setClearAlpha:function(w){o=w,y(s,o)},render:_}}function NF(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,u={},h=S(null);let d=h;function p(Y,ee,oe,ae,ne){let K=!1;if(o){const fe=w(ae,oe,ee);d!==fe&&(d=fe,_(d.object)),K=C(ae,ne),K&&b(ae,ne)}else{const fe=ee.wireframe===!0;(d.geometry!==ae.id||d.program!==oe.id||d.wireframe!==fe)&&(d.geometry=ae.id,d.program=oe.id,d.wireframe=fe,K=!0)}Y.isInstancedMesh===!0&&(K=!0),ne!==null&&t.update(ne,34963),K&&(N(Y,ee,oe,ae),ne!==null&&n.bindBuffer(34963,t.get(ne).buffer))}function g(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function _(Y){return i.isWebGL2?n.bindVertexArray(Y):s.bindVertexArrayOES(Y)}function y(Y){return i.isWebGL2?n.deleteVertexArray(Y):s.deleteVertexArrayOES(Y)}function w(Y,ee,oe){const ae=oe.wireframe===!0;let ne=u[Y.id];ne===void 0&&(ne={},u[Y.id]=ne);let K=ne[ee.id];K===void 0&&(K={},ne[ee.id]=K);let fe=K[ae];return fe===void 0&&(fe=S(g()),K[ae]=fe),fe}function S(Y){const ee=[],oe=[],ae=[];for(let ne=0;ne<r;ne++)ee[ne]=0,oe[ne]=0,ae[ne]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ee,enabledAttributes:oe,attributeDivisors:ae,object:Y,attributes:{},index:null}}function C(Y,ee){const oe=d.attributes,ae=Y.attributes;let ne=0;for(const K in ae){const fe=oe[K],I=ae[K];if(fe===void 0||fe.attribute!==I||fe.data!==I.data)return!0;ne++}return d.attributesNum!==ne||d.index!==ee}function b(Y,ee){const oe={},ae=Y.attributes;let ne=0;for(const K in ae){const fe=ae[K],I={};I.attribute=fe,fe.data&&(I.data=fe.data),oe[K]=I,ne++}d.attributes=oe,d.attributesNum=ne,d.index=ee}function T(){const Y=d.newAttributes;for(let ee=0,oe=Y.length;ee<oe;ee++)Y[ee]=0}function k(Y){F(Y,0)}function F(Y,ee){const oe=d.newAttributes,ae=d.enabledAttributes,ne=d.attributeDivisors;oe[Y]=1,ae[Y]===0&&(n.enableVertexAttribArray(Y),ae[Y]=1),ne[Y]!==ee&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Y,ee),ne[Y]=ee)}function R(){const Y=d.newAttributes,ee=d.enabledAttributes;for(let oe=0,ae=ee.length;oe<ae;oe++)ee[oe]!==Y[oe]&&(n.disableVertexAttribArray(oe),ee[oe]=0)}function B(Y,ee,oe,ae,ne,K){i.isWebGL2===!0&&(oe===5124||oe===5125)?n.vertexAttribIPointer(Y,ee,oe,ne,K):n.vertexAttribPointer(Y,ee,oe,ae,ne,K)}function N(Y,ee,oe,ae){if(i.isWebGL2===!1&&(Y.isInstancedMesh||ae.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;T();const ne=ae.attributes,K=oe.getAttributes(),fe=ee.defaultAttributeValues;for(const I in K){const G=K[I];if(G.location>=0){let se=ne[I];if(se===void 0&&(I==="instanceMatrix"&&Y.instanceMatrix&&(se=Y.instanceMatrix),I==="instanceColor"&&Y.instanceColor&&(se=Y.instanceColor)),se!==void 0){const D=se.normalized,me=se.itemSize,ve=t.get(se);if(ve===void 0)continue;const te=ve.buffer,Ne=ve.type,Pe=ve.bytesPerElement;if(se.isInterleavedBufferAttribute){const ke=se.data,ze=ke.stride,je=se.offset;if(ke&&ke.isInstancedInterleavedBuffer){for(let be=0;be<G.locationSize;be++)F(G.location+be,ke.meshPerAttribute);Y.isInstancedMesh!==!0&&ae._maxInstanceCount===void 0&&(ae._maxInstanceCount=ke.meshPerAttribute*ke.count)}else for(let be=0;be<G.locationSize;be++)k(G.location+be);n.bindBuffer(34962,te);for(let be=0;be<G.locationSize;be++)B(G.location+be,me/G.locationSize,Ne,D,ze*Pe,(je+me/G.locationSize*be)*Pe)}else{if(se.isInstancedBufferAttribute){for(let ke=0;ke<G.locationSize;ke++)F(G.location+ke,se.meshPerAttribute);Y.isInstancedMesh!==!0&&ae._maxInstanceCount===void 0&&(ae._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let ke=0;ke<G.locationSize;ke++)k(G.location+ke);n.bindBuffer(34962,te);for(let ke=0;ke<G.locationSize;ke++)B(G.location+ke,me/G.locationSize,Ne,D,me*Pe,me/G.locationSize*ke*Pe)}}else if(fe!==void 0){const D=fe[I];if(D!==void 0)switch(D.length){case 2:n.vertexAttrib2fv(G.location,D);break;case 3:n.vertexAttrib3fv(G.location,D);break;case 4:n.vertexAttrib4fv(G.location,D);break;default:n.vertexAttrib1fv(G.location,D)}}}}R()}function O(){H();for(const Y in u){const ee=u[Y];for(const oe in ee){const ae=ee[oe];for(const ne in ae)y(ae[ne].object),delete ae[ne];delete ee[oe]}delete u[Y]}}function j(Y){if(u[Y.id]===void 0)return;const ee=u[Y.id];for(const oe in ee){const ae=ee[oe];for(const ne in ae)y(ae[ne].object),delete ae[ne];delete ee[oe]}delete u[Y.id]}function W(Y){for(const ee in u){const oe=u[ee];if(oe[Y.id]===void 0)continue;const ae=oe[Y.id];for(const ne in ae)y(ae[ne].object),delete ae[ne];delete oe[Y.id]}}function H(){J(),d!==h&&(d=h,_(d.object))}function J(){h.geometry=null,h.program=null,h.wireframe=!1}return{setup:p,reset:H,resetDefaultState:J,dispose:O,releaseStatesOfGeometry:j,releaseStatesOfProgram:W,initAttributes:T,enableAttribute:k,disableUnusedAttributes:R}}function OF(n,e,t,i){const r=i.isWebGL2;let s;function o(d){s=d}function u(d,p){n.drawArrays(s,d,p),t.update(p,s,1)}function h(d,p,g){if(g===0)return;let _,y;if(r)_=n,y="drawArraysInstanced";else if(_=e.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",_===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[y](s,d,p,g),t.update(p,s,g)}this.setMode=o,this.render=u,this.renderInstances=h}function zF(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const N=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(N){if(N==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";N="mediump"}return N==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let u=t.precision!==void 0?t.precision:"highp";const h=s(u);h!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",h,"instead."),u=h);const d=o||e.has("WEBGL_draw_buffers"),p=t.logarithmicDepthBuffer===!0,g=n.getParameter(34930),_=n.getParameter(35660),y=n.getParameter(3379),w=n.getParameter(34076),S=n.getParameter(34921),C=n.getParameter(36347),b=n.getParameter(36348),T=n.getParameter(36349),k=_>0,F=o||e.has("OES_texture_float"),R=k&&F,B=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:d,getMaxAnisotropy:r,getMaxPrecision:s,precision:u,logarithmicDepthBuffer:p,maxTextures:g,maxVertexTextures:_,maxTextureSize:y,maxCubemapSize:w,maxAttributes:S,maxVertexUniforms:C,maxVaryings:b,maxFragmentUniforms:T,vertexTextures:k,floatFragmentTextures:F,floatVertexTextures:R,maxSamples:B}}function FF(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new xs,u=new ei,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(g,_,y){const w=g.length!==0||_||i!==0||r;return r=_,t=p(g,y,0),i=g.length,w},this.beginShadows=function(){s=!0,p(null)},this.endShadows=function(){s=!1,d()},this.setState=function(g,_,y){const w=g.clippingPlanes,S=g.clipIntersection,C=g.clipShadows,b=n.get(g);if(!r||w===null||w.length===0||s&&!C)s?p(null):d();else{const T=s?0:i,k=T*4;let F=b.clippingState||null;h.value=F,F=p(w,_,k,y);for(let R=0;R!==k;++R)F[R]=t[R];b.clippingState=F,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=T}};function d(){h.value!==t&&(h.value=t,h.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function p(g,_,y,w){const S=g!==null?g.length:0;let C=null;if(S!==0){if(C=h.value,w!==!0||C===null){const b=y+S*4,T=_.matrixWorldInverse;u.getNormalMatrix(T),(C===null||C.length<b)&&(C=new Float32Array(b));for(let k=0,F=y;k!==S;++k,F+=4)o.copy(g[k]).applyMatrix4(T,u),o.normal.toArray(C,F),C[F+3]=o.constant}h.value=C,h.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,C}}function BF(n){let e=new WeakMap;function t(o,u){return u===Dy?o.mapping=pm:u===Ny&&(o.mapping=mm),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const u=o.mapping;if(u===Dy||u===Ny)if(e.has(o)){const h=e.get(o).texture;return t(h,o.mapping)}else{const h=o.image;if(h&&h.height>0){const d=n.getRenderTarget(),p=new qE(h.height/2);return p.fromEquirectangularTexture(n,o),e.set(o,p),n.setRenderTarget(d),o.addEventListener("dispose",r),t(p.texture,o.mapping)}else return null}}return o}function r(o){const u=o.target;u.removeEventListener("dispose",r);const h=e.get(u);h!==void 0&&(e.delete(u),h.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Iu extends Dv{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,u=r+t,h=r-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=d*this.view.offsetX,o=s+d*this.view.width,u-=p*this.view.offsetY,h=u-p*this.view.height}this.projectionMatrix.makeOrthographic(s,o,u,h,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}Iu.prototype.isOrthographicCamera=!0;class wm extends rl{constructor(e){super(e),this.type="RawShaderMaterial"}}wm.prototype.isRawShaderMaterial=!0;const Du=4,na=8,ys=Math.pow(2,na),YE=[.125,.215,.35,.446,.526,.582],KE=na-Du+1+YE.length,pu=20,Ms={[Wi]:0,[ym]:1,[kv]:2,[BE]:3,[UE]:4,[HE]:5,[Av]:6},H_=new Iu,{_lodPlanes:ah,_sizeLods:aS,_sigmas:sp}=VF(),lS=new ht;let V_=null;const Wa=(1+Math.sqrt(5))/2,mu=1/Wa,uS=[new ie(1,1,1),new ie(-1,1,1),new ie(1,1,-1),new ie(-1,1,-1),new ie(0,Wa,mu),new ie(0,Wa,-mu),new ie(mu,0,Wa),new ie(-mu,0,Wa),new ie(Wa,mu,0),new ie(-Wa,mu,0)];class UF{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=jF(pu),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){V_=this._renderer.getRenderTarget();const s=this._allocateTargets();return this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=dS(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=hS(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<ah.length;e++)ah[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(V_),e.scissorTest=!1,op(e,0,0,e.width,e.height)}_fromTexture(e){V_=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){const t={magFilter:$n,minFilter:$n,generateMipmaps:!1,type:Wu,format:OD,encoding:HF(e)?e.encoding:kv,depthBuffer:!1},i=cS(t);return i.depthBuffer=!e,this._pingPongRenderTarget=cS(t),i}_compileMaterial(e){const t=new Ci(ah[0],e);this._renderer.compile(t,H_)}_sceneToCubeUV(e,t,i,r){const u=new Gn(90,1,t,i),h=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],p=this._renderer,g=p.autoClear,_=p.outputEncoding,y=p.toneMapping;p.getClearColor(lS),p.toneMapping=Qa,p.outputEncoding=Wi,p.autoClear=!1;const w=new Iv({name:"PMREM.Background",side:zn,depthWrite:!1,depthTest:!1}),S=new Ci(new hd,w);let C=!1;const b=e.background;b?b.isColor&&(w.color.copy(b),e.background=null,C=!0):(w.color.copy(lS),C=!0);for(let T=0;T<6;T++){const k=T%3;k==0?(u.up.set(0,h[T],0),u.lookAt(d[T],0,0)):k==1?(u.up.set(0,0,h[T]),u.lookAt(0,d[T],0)):(u.up.set(0,h[T],0),u.lookAt(0,0,d[T])),op(r,k*ys,T>2?ys:0,ys,ys),p.setRenderTarget(r),C&&p.render(S,u),p.render(e,u)}S.geometry.dispose(),S.material.dispose(),p.toneMapping=y,p.outputEncoding=_,p.autoClear=g,e.background=b}_textureToCubeUV(e,t){const i=this._renderer;e.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=dS()):this._equirectShader==null&&(this._equirectShader=hS());const r=e.isCubeTexture?this._cubemapShader:this._equirectShader,s=new Ci(ah[0],r),o=r.uniforms;o.envMap.value=e,e.isCubeTexture||o.texelSize.value.set(1/e.image.width,1/e.image.height),o.inputEncoding.value=Ms[e.encoding],o.outputEncoding.value=Ms[t.texture.encoding],op(t,0,0,3*ys,2*ys),i.setRenderTarget(t),i.render(s,H_)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<KE;r++){const s=Math.sqrt(sp[r]*sp[r]-sp[r-1]*sp[r-1]),o=uS[(r-1)%uS.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,u){const h=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,g=new Ci(ah[r],d),_=d.uniforms,y=aS[i]-1,w=isFinite(s)?Math.PI/(2*y):2*Math.PI/(2*pu-1),S=s/w,C=isFinite(s)?1+Math.floor(p*S):pu;C>pu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${C} samples when the maximum is set to ${pu}`);const b=[];let T=0;for(let B=0;B<pu;++B){const N=B/S,O=Math.exp(-N*N/2);b.push(O),B==0?T+=O:B<C&&(T+=2*O)}for(let B=0;B<b.length;B++)b[B]=b[B]/T;_.envMap.value=e.texture,_.samples.value=C,_.weights.value=b,_.latitudinal.value=o==="latitudinal",u&&(_.poleAxis.value=u),_.dTheta.value=w,_.mipInt.value=na-i,_.inputEncoding.value=Ms[e.texture.encoding],_.outputEncoding.value=Ms[e.texture.encoding];const k=aS[r],F=3*Math.max(0,ys-2*k),R=(r===0?0:2*ys)+2*k*(r>na-Du?r-na+Du:0);op(t,F,R,3*k,2*k),h.setRenderTarget(t),h.render(g,H_)}}function HF(n){return n===void 0||n.type!==Wu?!1:n.encoding===Wi||n.encoding===ym||n.encoding===Av}function VF(){const n=[],e=[],t=[];let i=na;for(let r=0;r<KE;r++){const s=Math.pow(2,i);e.push(s);let o=1/s;r>na-Du?o=YE[r-na+Du-1]:r==0&&(o=0),t.push(o);const u=1/(s-1),h=-u/2,d=1+u/2,p=[h,h,d,h,d,d,h,h,d,d,h,d],g=6,_=6,y=3,w=2,S=1,C=new Float32Array(y*_*g),b=new Float32Array(w*_*g),T=new Float32Array(S*_*g);for(let F=0;F<g;F++){const R=F%3*2/3-1,B=F>2?0:-1,N=[R,B,0,R+2/3,B,0,R+2/3,B+1,0,R,B,0,R+2/3,B+1,0,R,B+1,0];C.set(N,y*_*F),b.set(p,w*_*F);const O=[F,F,F,F,F,F];T.set(O,S*_*F)}const k=new tn;k.setAttribute("position",new Bn(C,y)),k.setAttribute("uv",new Bn(b,w)),k.setAttribute("faceIndex",new Bn(T,S)),n.push(k),i>Du&&i--}return{_lodPlanes:n,_sizeLods:e,_sigmas:t}}function cS(n){const e=new Ts(3*ys,3*ys,n);return e.texture.mapping=gm,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function op(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function jF(n){const e=new Float32Array(n),t=new ie(0,1,0);return new wm({name:"SphericalGaussianBlur",defines:{n},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t},inputEncoding:{value:Ms[Wi]},outputEncoding:{value:Ms[Wi]}},vertexShader:zv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${Fv()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:ea,depthTest:!1,depthWrite:!1})}function hS(){const n=new $e(1,1);return new wm({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:n},inputEncoding:{value:Ms[Wi]},outputEncoding:{value:Ms[Wi]}},vertexShader:zv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${Fv()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:ea,depthTest:!1,depthWrite:!1})}function dS(){return new wm({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Ms[Wi]},outputEncoding:{value:Ms[Wi]}},vertexShader:zv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${Fv()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:ea,depthTest:!1,depthWrite:!1})}function zv(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Fv(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function WF(n){let e=new WeakMap,t=null;function i(u){if(u&&u.isTexture&&u.isRenderTargetTexture===!1){const h=u.mapping,d=h===Dy||h===Ny,p=h===pm||h===mm;if(d||p){if(e.has(u))return e.get(u).texture;{const g=u.image;if(d&&g&&g.height>0||p&&g&&r(g)){const _=n.getRenderTarget();t===null&&(t=new UF(n));const y=d?t.fromEquirectangular(u):t.fromCubemap(u);return e.set(u,y),n.setRenderTarget(_),u.addEventListener("dispose",s),y.texture}else return null}}}return u}function r(u){let h=0;const d=6;for(let p=0;p<d;p++)u[p]!==void 0&&h++;return h===d}function s(u){const h=u.target;h.removeEventListener("dispose",s);const d=e.get(h);d!==void 0&&(e.delete(h),d.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function GF(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function ZF(n,e,t,i){const r={},s=new WeakMap;function o(g){const _=g.target;_.index!==null&&e.remove(_.index);for(const w in _.attributes)e.remove(_.attributes[w]);_.removeEventListener("dispose",o),delete r[_.id];const y=s.get(_);y&&(e.remove(y),s.delete(_)),i.releaseStatesOfGeometry(_),_.isInstancedBufferGeometry===!0&&delete _._maxInstanceCount,t.memory.geometries--}function u(g,_){return r[_.id]===!0||(_.addEventListener("dispose",o),r[_.id]=!0,t.memory.geometries++),_}function h(g){const _=g.attributes;for(const w in _)e.update(_[w],34962);const y=g.morphAttributes;for(const w in y){const S=y[w];for(let C=0,b=S.length;C<b;C++)e.update(S[C],34962)}}function d(g){const _=[],y=g.index,w=g.attributes.position;let S=0;if(y!==null){const T=y.array;S=y.version;for(let k=0,F=T.length;k<F;k+=3){const R=T[k+0],B=T[k+1],N=T[k+2];_.push(R,B,B,N,N,R)}}else{const T=w.array;S=w.version;for(let k=0,F=T.length/3-1;k<F;k+=3){const R=k+0,B=k+1,N=k+2;_.push(R,B,B,N,N,R)}}const C=new($E(_)>65535?ZE:GE)(_,1);C.version=S;const b=s.get(g);b&&e.remove(b),s.set(g,C)}function p(g){const _=s.get(g);if(_){const y=g.index;y!==null&&_.version<y.version&&d(g)}else d(g);return s.get(g)}return{get:u,update:h,getWireframeAttribute:p}}function $F(n,e,t,i){const r=i.isWebGL2;let s;function o(_){s=_}let u,h;function d(_){u=_.type,h=_.bytesPerElement}function p(_,y){n.drawElements(s,y,u,_*h),t.update(y,s,1)}function g(_,y,w){if(w===0)return;let S,C;if(r)S=n,C="drawElementsInstanced";else if(S=e.get("ANGLE_instanced_arrays"),C="drawElementsInstancedANGLE",S===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}S[C](s,y,u,_*h,w),t.update(y,s,w)}this.setMode=o,this.setIndex=d,this.render=p,this.renderInstances=g}function qF(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,u){switch(t.calls++,o){case 4:t.triangles+=u*(s/3);break;case 1:t.lines+=u*(s/2);break;case 3:t.lines+=u*(s-1);break;case 2:t.lines+=u*s;break;case 0:t.points+=u*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function XF(n,e){return n[0]-e[0]}function YF(n,e){return Math.abs(e[1])-Math.abs(n[1])}function KF(n){const e={},t=new Float32Array(8),i=[];for(let s=0;s<8;s++)i[s]=[s,0];function r(s,o,u,h){const d=s.morphTargetInfluences,p=d===void 0?0:d.length;let g=e[o.id];if(g===void 0||g.length!==p){g=[];for(let C=0;C<p;C++)g[C]=[C,0];e[o.id]=g}for(let C=0;C<p;C++){const b=g[C];b[0]=C,b[1]=d[C]}g.sort(YF);for(let C=0;C<8;C++)C<p&&g[C][1]?(i[C][0]=g[C][0],i[C][1]=g[C][1]):(i[C][0]=Number.MAX_SAFE_INTEGER,i[C][1]=0);i.sort(XF);const _=o.morphAttributes.position,y=o.morphAttributes.normal;let w=0;for(let C=0;C<8;C++){const b=i[C],T=b[0],k=b[1];T!==Number.MAX_SAFE_INTEGER&&k?(_&&o.getAttribute("morphTarget"+C)!==_[T]&&o.setAttribute("morphTarget"+C,_[T]),y&&o.getAttribute("morphNormal"+C)!==y[T]&&o.setAttribute("morphNormal"+C,y[T]),t[C]=k,w+=k):(_&&o.hasAttribute("morphTarget"+C)===!0&&o.deleteAttribute("morphTarget"+C),y&&o.hasAttribute("morphNormal"+C)===!0&&o.deleteAttribute("morphNormal"+C),t[C]=0)}const S=o.morphTargetsRelative?1:1-w;h.getUniforms().setValue(n,"morphTargetBaseInfluence",S),h.getUniforms().setValue(n,"morphTargetInfluences",t)}return{update:r}}function JF(n,e,t,i){let r=new WeakMap;function s(h){const d=i.render.frame,p=h.geometry,g=e.get(h,p);return r.get(g)!==d&&(e.update(g),r.set(g,d)),h.isInstancedMesh&&(h.hasEventListener("dispose",u)===!1&&h.addEventListener("dispose",u),t.update(h.instanceMatrix,34962),h.instanceColor!==null&&t.update(h.instanceColor,34962)),g}function o(){r=new WeakMap}function u(h){const d=h.target;d.removeEventListener("dispose",u),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:s,dispose:o}}class JE extends ti{constructor(e=null,t=1,i=1,r=1){super(null),this.image={data:e,width:t,height:i,depth:r},this.magFilter=$n,this.minFilter=$n,this.wrapR=lr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}JE.prototype.isDataTexture2DArray=!0;class QE extends ti{constructor(e=null,t=1,i=1,r=1){super(null),this.image={data:e,width:t,height:i,depth:r},this.magFilter=$n,this.minFilter=$n,this.wrapR=lr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}QE.prototype.isDataTexture3D=!0;const eT=new ti,QF=new JE,eB=new QE,tT=new vm,fS=[],pS=[],mS=new Float32Array(16),gS=new Float32Array(9),_S=new Float32Array(4);function ic(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=fS[r];if(s===void 0&&(s=new Float32Array(r),fS[r]=s),e!==0){i.toArray(s,0);for(let o=1,u=0;o!==e;++o)u+=t,n[o].toArray(s,u)}return s}function Pi(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function gi(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function nT(n,e){let t=pS[e];t===void 0&&(t=new Int32Array(e),pS[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function tB(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function nB(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pi(t,e))return;n.uniform2fv(this.addr,e),gi(t,e)}}function iB(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Pi(t,e))return;n.uniform3fv(this.addr,e),gi(t,e)}}function rB(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pi(t,e))return;n.uniform4fv(this.addr,e),gi(t,e)}}function sB(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Pi(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),gi(t,e)}else{if(Pi(t,i))return;_S.set(i),n.uniformMatrix2fv(this.addr,!1,_S),gi(t,i)}}function oB(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Pi(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),gi(t,e)}else{if(Pi(t,i))return;gS.set(i),n.uniformMatrix3fv(this.addr,!1,gS),gi(t,i)}}function aB(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Pi(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),gi(t,e)}else{if(Pi(t,i))return;mS.set(i),n.uniformMatrix4fv(this.addr,!1,mS),gi(t,i)}}function lB(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function uB(n,e){const t=this.cache;Pi(t,e)||(n.uniform2iv(this.addr,e),gi(t,e))}function cB(n,e){const t=this.cache;Pi(t,e)||(n.uniform3iv(this.addr,e),gi(t,e))}function hB(n,e){const t=this.cache;Pi(t,e)||(n.uniform4iv(this.addr,e),gi(t,e))}function dB(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function fB(n,e){const t=this.cache;Pi(t,e)||(n.uniform2uiv(this.addr,e),gi(t,e))}function pB(n,e){const t=this.cache;Pi(t,e)||(n.uniform3uiv(this.addr,e),gi(t,e))}function mB(n,e){const t=this.cache;Pi(t,e)||(n.uniform4uiv(this.addr,e),gi(t,e))}function gB(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.safeSetTexture2D(e||eT,r)}function _B(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||eB,r)}function yB(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.safeSetTextureCube(e||tT,r)}function vB(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||QF,r)}function xB(n){switch(n){case 5126:return tB;case 35664:return nB;case 35665:return iB;case 35666:return rB;case 35674:return sB;case 35675:return oB;case 35676:return aB;case 5124:case 35670:return lB;case 35667:case 35671:return uB;case 35668:case 35672:return cB;case 35669:case 35673:return hB;case 5125:return dB;case 36294:return fB;case 36295:return pB;case 36296:return mB;case 35678:case 36198:case 36298:case 36306:case 35682:return gB;case 35679:case 36299:case 36307:return _B;case 35680:case 36300:case 36308:case 36293:return yB;case 36289:case 36303:case 36311:case 36292:return vB}}function wB(n,e){n.uniform1fv(this.addr,e)}function bB(n,e){const t=ic(e,this.size,2);n.uniform2fv(this.addr,t)}function SB(n,e){const t=ic(e,this.size,3);n.uniform3fv(this.addr,t)}function MB(n,e){const t=ic(e,this.size,4);n.uniform4fv(this.addr,t)}function EB(n,e){const t=ic(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function TB(n,e){const t=ic(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function LB(n,e){const t=ic(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function CB(n,e){n.uniform1iv(this.addr,e)}function PB(n,e){n.uniform2iv(this.addr,e)}function AB(n,e){n.uniform3iv(this.addr,e)}function kB(n,e){n.uniform4iv(this.addr,e)}function RB(n,e){n.uniform1uiv(this.addr,e)}function IB(n,e){n.uniform2uiv(this.addr,e)}function DB(n,e){n.uniform3uiv(this.addr,e)}function NB(n,e){n.uniform4uiv(this.addr,e)}function OB(n,e,t){const i=e.length,r=nT(t,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)t.safeSetTexture2D(e[s]||eT,r[s])}function zB(n,e,t){const i=e.length,r=nT(t,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)t.safeSetTextureCube(e[s]||tT,r[s])}function FB(n){switch(n){case 5126:return wB;case 35664:return bB;case 35665:return SB;case 35666:return MB;case 35674:return EB;case 35675:return TB;case 35676:return LB;case 5124:case 35670:return CB;case 35667:case 35671:return PB;case 35668:case 35672:return AB;case 35669:case 35673:return kB;case 5125:return RB;case 36294:return IB;case 36295:return DB;case 36296:return NB;case 35678:case 36198:case 36298:case 36306:case 35682:return OB;case 35680:case 36300:case 36308:case 36293:return zB}}function BB(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=xB(e.type)}function iT(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=FB(e.type)}iT.prototype.updateCache=function(n){const e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),gi(e,n)};function rT(n){this.id=n,this.seq=[],this.map={}}rT.prototype.setValue=function(n,e,t){const i=this.seq;for(let r=0,s=i.length;r!==s;++r){const o=i[r];o.setValue(n,e[o.id],t)}};const j_=/(\w+)(\])?(\[|\.)?/g;function yS(n,e){n.seq.push(e),n.map[e.id]=e}function UB(n,e,t){const i=n.name,r=i.length;for(j_.lastIndex=0;;){const s=j_.exec(i),o=j_.lastIndex;let u=s[1];const h=s[2]==="]",d=s[3];if(h&&(u=u|0),d===void 0||d==="["&&o+2===r){yS(t,d===void 0?new BB(u,n,e):new iT(u,n,e));break}else{let g=t.map[u];g===void 0&&(g=new rT(u),yS(t,g)),t=g}}}function ia(n,e){this.seq=[],this.map={};const t=n.getProgramParameter(e,35718);for(let i=0;i<t;++i){const r=n.getActiveUniform(e,i),s=n.getUniformLocation(e,r.name);UB(r,s,this)}}ia.prototype.setValue=function(n,e,t,i){const r=this.map[e];r!==void 0&&r.setValue(n,t,i)};ia.prototype.setOptional=function(n,e,t){const i=e[t];i!==void 0&&this.setValue(n,t,i)};ia.upload=function(n,e,t,i){for(let r=0,s=e.length;r!==s;++r){const o=e[r],u=t[o.id];u.needsUpdate!==!1&&o.setValue(n,u.value,i)}};ia.seqWithValue=function(n,e){const t=[];for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.id in e&&t.push(s)}return t};function vS(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let HB=0;function VB(n){const e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function sT(n){switch(n){case Wi:return["Linear","( value )"];case ym:return["sRGB","( value )"];case kv:return["RGBE","( value )"];case BE:return["RGBM","( value, 7.0 )"];case UE:return["RGBM","( value, 16.0 )"];case HE:return["RGBD","( value, 256.0 )"];case Av:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case SN:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function xS(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();return i&&r===""?"":t.toUpperCase()+`

`+r+`

`+VB(n.getShaderSource(e))}function gu(n,e){const t=sT(e);return"vec4 "+n+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function jB(n,e){const t=sT(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function WB(n,e){let t;switch(e){case wD:t="Linear";break;case bD:t="Reinhard";break;case SD:t="OptimizedCineon";break;case MD:t="ACESFilmic";break;case ED:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function GB(n){return[n.extensionDerivatives||n.envMapCubeUV||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Eh).join(`
`)}function ZB(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function $B(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let u=1;s.type===35674&&(u=2),s.type===35675&&(u=3),s.type===35676&&(u=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:u}}return t}function Eh(n){return n!==""}function wS(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function bS(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const qB=/^[ \t]*#include +<([\w\d./]+)>/gm;function By(n){return n.replace(qB,XB)}function XB(n,e){const t=Nt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return By(t)}const YB=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,KB=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function SS(n){return n.replace(KB,oT).replace(YB,JB)}function JB(n,e,t,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),oT(n,e,t,i)}function oT(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function MS(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function QB(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===IE?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===QI?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Mh&&(e="SHADOWMAP_TYPE_VSM"),e}function e4(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case pm:case mm:e="ENVMAP_TYPE_CUBE";break;case gm:case Cv:e="ENVMAP_TYPE_CUBE_UV";break}return e}function t4(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case mm:case Cv:e="ENVMAP_MODE_REFRACTION";break}return e}function n4(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case fm:e="ENVMAP_BLENDING_MULTIPLY";break;case vD:e="ENVMAP_BLENDING_MIX";break;case xD:e="ENVMAP_BLENDING_ADD";break}return e}function i4(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,u=t.fragmentShader;const h=QB(t),d=e4(t),p=t4(t),g=n4(t),_=n.gammaFactor>0?n.gammaFactor:1,y=t.isWebGL2?"":GB(t),w=ZB(s),S=r.createProgram();let C,b,T=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(C=[w].filter(Eh).join(`
`),C.length>0&&(C+=`
`),b=[y,w].filter(Eh).join(`
`),b.length>0&&(b+=`
`)):(C=[MS(t),"#define SHADER_NAME "+t.shaderName,w,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+_,"#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularTintMap?"#define USE_SPECULARTINTMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Eh).join(`
`),b=[y,MS(t),"#define SHADER_NAME "+t.shaderName,w,"#define GAMMA_FACTOR "+_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+p:"",t.envMap?"#define "+g:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularTintMap?"#define USE_SPECULARTINTMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheenTint?"#define USE_SHEEN":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Qa?"#define TONE_MAPPING":"",t.toneMapping!==Qa?Nt.tonemapping_pars_fragment:"",t.toneMapping!==Qa?WB("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.format===ta?"#define OPAQUE":"",Nt.encodings_pars_fragment,t.map?gu("mapTexelToLinear",t.mapEncoding):"",t.matcap?gu("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?gu("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?gu("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.specularTintMap?gu("specularTintMapTexelToLinear",t.specularTintMapEncoding):"",t.lightMap?gu("lightMapTexelToLinear",t.lightMapEncoding):"",jB("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Eh).join(`
`)),o=By(o),o=wS(o,t),o=bS(o,t),u=By(u),u=wS(u,t),u=bS(u,t),o=SS(o),u=SS(u),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(T=`#version 300 es
`,C=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+C,b=["#define varying in",t.glslVersion===Xb?"":"out highp vec4 pc_fragColor;",t.glslVersion===Xb?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const k=T+C+o,F=T+b+u,R=vS(r,35633,k),B=vS(r,35632,F);if(r.attachShader(S,R),r.attachShader(S,B),t.index0AttributeName!==void 0?r.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(S,0,"position"),r.linkProgram(S),n.debug.checkShaderErrors){const j=r.getProgramInfoLog(S).trim(),W=r.getShaderInfoLog(R).trim(),H=r.getShaderInfoLog(B).trim();let J=!0,Y=!0;if(r.getProgramParameter(S,35714)===!1){J=!1;const ee=xS(r,R,"vertex"),oe=xS(r,B,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(S,35715)+`

Program Info Log: `+j+`
`+ee+`
`+oe)}else j!==""?console.warn("THREE.WebGLProgram: Program Info Log:",j):(W===""||H==="")&&(Y=!1);Y&&(this.diagnostics={runnable:J,programLog:j,vertexShader:{log:W,prefix:C},fragmentShader:{log:H,prefix:b}})}r.deleteShader(R),r.deleteShader(B);let N;this.getUniforms=function(){return N===void 0&&(N=new ia(r,S)),N};let O;return this.getAttributes=function(){return O===void 0&&(O=$B(r,S)),O},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(S),this.program=void 0},this.name=t.shaderName,this.id=HB++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=R,this.fragmentShader=B,this}function r4(n,e,t,i,r,s,o){const u=[],h=r.isWebGL2,d=r.logarithmicDepthBuffer,p=r.floatVertexTextures,g=r.maxVertexUniforms,_=r.vertexTextures;let y=r.precision;const w={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},S=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","specularIntensityMap","specularTintMap","specularTintMapEncoding","roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","sheenTint","transmission","transmissionMap","thicknessMap"];function C(N){const j=N.skeleton.bones;if(p)return 1024;{const H=Math.floor((g-20)/4),J=Math.min(H,j.length);return J<j.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+j.length+" bones. This GPU supports "+J+"."),0):J}}function b(N){let O;return N&&N.isTexture?O=N.encoding:N&&N.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),O=N.texture.encoding):O=Wi,O}function T(N,O,j,W,H){const J=W.fog,Y=N.isMeshStandardMaterial?W.environment:null,ee=(N.isMeshStandardMaterial?t:e).get(N.envMap||Y),oe=w[N.type],ae=H.isSkinnedMesh?C(H):0;N.precision!==null&&(y=r.getMaxPrecision(N.precision),y!==N.precision&&console.warn("THREE.WebGLProgram.getParameters:",N.precision,"not supported, using",y,"instead."));let ne,K;if(oe){const D=ws[oe];ne=D.vertexShader,K=D.fragmentShader}else ne=N.vertexShader,K=N.fragmentShader;const fe=n.getRenderTarget(),I=N.alphaTest>0,G=N.clearcoat>0;return{isWebGL2:h,shaderID:oe,shaderName:N.type,vertexShader:ne,fragmentShader:K,defines:N.defines,isRawShaderMaterial:N.isRawShaderMaterial===!0,glslVersion:N.glslVersion,precision:y,instancing:H.isInstancedMesh===!0,instancingColor:H.isInstancedMesh===!0&&H.instanceColor!==null,supportsVertexTextures:_,outputEncoding:fe!==null?b(fe.texture):n.outputEncoding,map:!!N.map,mapEncoding:b(N.map),matcap:!!N.matcap,matcapEncoding:b(N.matcap),envMap:!!ee,envMapMode:ee&&ee.mapping,envMapEncoding:b(ee),envMapCubeUV:!!ee&&(ee.mapping===gm||ee.mapping===Cv),lightMap:!!N.lightMap,lightMapEncoding:b(N.lightMap),aoMap:!!N.aoMap,emissiveMap:!!N.emissiveMap,emissiveMapEncoding:b(N.emissiveMap),bumpMap:!!N.bumpMap,normalMap:!!N.normalMap,objectSpaceNormalMap:N.normalMapType===TN,tangentSpaceNormalMap:N.normalMapType===Qu,clearcoat:G,clearcoatMap:G&&!!N.clearcoatMap,clearcoatRoughnessMap:G&&!!N.clearcoatRoughnessMap,clearcoatNormalMap:G&&!!N.clearcoatNormalMap,displacementMap:!!N.displacementMap,roughnessMap:!!N.roughnessMap,metalnessMap:!!N.metalnessMap,specularMap:!!N.specularMap,specularIntensityMap:!!N.specularIntensityMap,specularTintMap:!!N.specularTintMap,specularTintMapEncoding:b(N.specularTintMap),alphaMap:!!N.alphaMap,alphaTest:I,gradientMap:!!N.gradientMap,sheenTint:!!N.sheenTint&&(N.sheenTint.r>0||N.sheenTint.g>0||N.sheenTint.b>0),transmission:N.transmission>0,transmissionMap:!!N.transmissionMap,thicknessMap:!!N.thicknessMap,combine:N.combine,vertexTangents:!!N.normalMap&&!!H.geometry&&!!H.geometry.attributes.tangent,vertexColors:N.vertexColors,vertexAlphas:N.vertexColors===!0&&!!H.geometry&&!!H.geometry.attributes.color&&H.geometry.attributes.color.itemSize===4,vertexUvs:!!N.map||!!N.bumpMap||!!N.normalMap||!!N.specularMap||!!N.alphaMap||!!N.emissiveMap||!!N.roughnessMap||!!N.metalnessMap||!!N.clearcoatMap||!!N.clearcoatRoughnessMap||!!N.clearcoatNormalMap||!!N.displacementMap||!!N.transmissionMap||!!N.thicknessMap||!!N.specularIntensityMap||!!N.specularTintMap,uvsVertexOnly:!(N.map||N.bumpMap||N.normalMap||N.specularMap||N.alphaMap||N.emissiveMap||N.roughnessMap||N.metalnessMap||N.clearcoatNormalMap||N.transmission>0||N.transmissionMap||N.thicknessMap||N.specularIntensityMap||N.specularTintMap)&&!!N.displacementMap,fog:!!J,useFog:N.fog,fogExp2:J&&J.isFogExp2,flatShading:!!N.flatShading,sizeAttenuation:N.sizeAttenuation,logarithmicDepthBuffer:d,skinning:H.isSkinnedMesh===!0&&ae>0,maxBones:ae,useVertexTexture:p,morphTargets:!!H.geometry&&!!H.geometry.morphAttributes.position,morphNormals:!!H.geometry&&!!H.geometry.morphAttributes.normal,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,format:N.format,dithering:N.dithering,shadowMapEnabled:n.shadowMap.enabled&&j.length>0,shadowMapType:n.shadowMap.type,toneMapping:N.toneMapped?n.toneMapping:Qa,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:N.premultipliedAlpha,doubleSided:N.side===il,flipSided:N.side===zn,depthPacking:N.depthPacking!==void 0?N.depthPacking:!1,index0AttributeName:N.index0AttributeName,extensionDerivatives:N.extensions&&N.extensions.derivatives,extensionFragDepth:N.extensions&&N.extensions.fragDepth,extensionDrawBuffers:N.extensions&&N.extensions.drawBuffers,extensionShaderTextureLOD:N.extensions&&N.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||i.has("EXT_shader_texture_lod"),customProgramCacheKey:N.customProgramCacheKey()}}function k(N){const O=[];if(N.shaderID?O.push(N.shaderID):(O.push(N.fragmentShader),O.push(N.vertexShader)),N.defines!==void 0)for(const j in N.defines)O.push(j),O.push(N.defines[j]);if(N.isRawShaderMaterial===!1){for(let j=0;j<S.length;j++)O.push(N[S[j]]);O.push(n.outputEncoding),O.push(n.gammaFactor)}return O.push(N.customProgramCacheKey),O.join()}function F(N){const O=w[N.type];let j;if(O){const W=ws[O];j=nO.clone(W.uniforms)}else j=N.uniforms;return j}function R(N,O){let j;for(let W=0,H=u.length;W<H;W++){const J=u[W];if(J.cacheKey===O){j=J,++j.usedTimes;break}}return j===void 0&&(j=new i4(n,O,N,s),u.push(j)),j}function B(N){if(--N.usedTimes===0){const O=u.indexOf(N);u[O]=u[u.length-1],u.pop(),N.destroy()}}return{getParameters:T,getProgramCacheKey:k,getUniforms:F,acquireProgram:R,releaseProgram:B,programs:u}}function s4(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,u){n.get(s)[o]=u}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function o4(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.program!==e.program?n.program.id-e.program.id:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function ES(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function TS(n){const e=[];let t=0;const i=[],r=[],s=[],o={id:-1};function u(){t=0,i.length=0,r.length=0,s.length=0}function h(y,w,S,C,b,T){let k=e[t];const F=n.get(S);return k===void 0?(k={id:y.id,object:y,geometry:w,material:S,program:F.program||o,groupOrder:C,renderOrder:y.renderOrder,z:b,group:T},e[t]=k):(k.id=y.id,k.object=y,k.geometry=w,k.material=S,k.program=F.program||o,k.groupOrder=C,k.renderOrder=y.renderOrder,k.z=b,k.group=T),t++,k}function d(y,w,S,C,b,T){const k=h(y,w,S,C,b,T);S.transmission>0?r.push(k):S.transparent===!0?s.push(k):i.push(k)}function p(y,w,S,C,b,T){const k=h(y,w,S,C,b,T);S.transmission>0?r.unshift(k):S.transparent===!0?s.unshift(k):i.unshift(k)}function g(y,w){i.length>1&&i.sort(y||o4),r.length>1&&r.sort(w||ES),s.length>1&&s.sort(w||ES)}function _(){for(let y=t,w=e.length;y<w;y++){const S=e[y];if(S.id===null)break;S.id=null,S.object=null,S.geometry=null,S.material=null,S.program=null,S.group=null}}return{opaque:i,transmissive:r,transparent:s,init:u,push:d,unshift:p,finish:_,sort:g}}function a4(n){let e=new WeakMap;function t(r,s){let o;return e.has(r)===!1?(o=new TS(n),e.set(r,[o])):s>=e.get(r).length?(o=new TS(n),e.get(r).push(o)):o=e.get(r)[s],o}function i(){e=new WeakMap}return{get:t,dispose:i}}function l4(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ie,color:new ht};break;case"SpotLight":t={position:new ie,direction:new ie,color:new ht,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ie,color:new ht,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ie,skyColor:new ht,groundColor:new ht};break;case"RectAreaLight":t={color:new ht,position:new ie,halfWidth:new ie,halfHeight:new ie};break}return n[e.id]=t,t}}}function u4(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let c4=0;function h4(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function d4(n,e){const t=new l4,i=u4(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let p=0;p<9;p++)r.probe.push(new ie);const s=new ie,o=new yt,u=new yt;function h(p,g){let _=0,y=0,w=0;for(let j=0;j<9;j++)r.probe[j].set(0,0,0);let S=0,C=0,b=0,T=0,k=0,F=0,R=0,B=0;p.sort(h4);const N=g!==!0?Math.PI:1;for(let j=0,W=p.length;j<W;j++){const H=p[j],J=H.color,Y=H.intensity,ee=H.distance,oe=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)_+=J.r*Y*N,y+=J.g*Y*N,w+=J.b*Y*N;else if(H.isLightProbe)for(let ae=0;ae<9;ae++)r.probe[ae].addScaledVector(H.sh.coefficients[ae],Y);else if(H.isDirectionalLight){const ae=t.get(H);if(ae.color.copy(H.color).multiplyScalar(H.intensity*N),H.castShadow){const ne=H.shadow,K=i.get(H);K.shadowBias=ne.bias,K.shadowNormalBias=ne.normalBias,K.shadowRadius=ne.radius,K.shadowMapSize=ne.mapSize,r.directionalShadow[S]=K,r.directionalShadowMap[S]=oe,r.directionalShadowMatrix[S]=H.shadow.matrix,F++}r.directional[S]=ae,S++}else if(H.isSpotLight){const ae=t.get(H);if(ae.position.setFromMatrixPosition(H.matrixWorld),ae.color.copy(J).multiplyScalar(Y*N),ae.distance=ee,ae.coneCos=Math.cos(H.angle),ae.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),ae.decay=H.decay,H.castShadow){const ne=H.shadow,K=i.get(H);K.shadowBias=ne.bias,K.shadowNormalBias=ne.normalBias,K.shadowRadius=ne.radius,K.shadowMapSize=ne.mapSize,r.spotShadow[b]=K,r.spotShadowMap[b]=oe,r.spotShadowMatrix[b]=H.shadow.matrix,B++}r.spot[b]=ae,b++}else if(H.isRectAreaLight){const ae=t.get(H);ae.color.copy(J).multiplyScalar(Y),ae.halfWidth.set(H.width*.5,0,0),ae.halfHeight.set(0,H.height*.5,0),r.rectArea[T]=ae,T++}else if(H.isPointLight){const ae=t.get(H);if(ae.color.copy(H.color).multiplyScalar(H.intensity*N),ae.distance=H.distance,ae.decay=H.decay,H.castShadow){const ne=H.shadow,K=i.get(H);K.shadowBias=ne.bias,K.shadowNormalBias=ne.normalBias,K.shadowRadius=ne.radius,K.shadowMapSize=ne.mapSize,K.shadowCameraNear=ne.camera.near,K.shadowCameraFar=ne.camera.far,r.pointShadow[C]=K,r.pointShadowMap[C]=oe,r.pointShadowMatrix[C]=H.shadow.matrix,R++}r.point[C]=ae,C++}else if(H.isHemisphereLight){const ae=t.get(H);ae.skyColor.copy(H.color).multiplyScalar(Y*N),ae.groundColor.copy(H.groundColor).multiplyScalar(Y*N),r.hemi[k]=ae,k++}}T>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Qe.LTC_FLOAT_1,r.rectAreaLTC2=Qe.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Qe.LTC_HALF_1,r.rectAreaLTC2=Qe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=_,r.ambient[1]=y,r.ambient[2]=w;const O=r.hash;(O.directionalLength!==S||O.pointLength!==C||O.spotLength!==b||O.rectAreaLength!==T||O.hemiLength!==k||O.numDirectionalShadows!==F||O.numPointShadows!==R||O.numSpotShadows!==B)&&(r.directional.length=S,r.spot.length=b,r.rectArea.length=T,r.point.length=C,r.hemi.length=k,r.directionalShadow.length=F,r.directionalShadowMap.length=F,r.pointShadow.length=R,r.pointShadowMap.length=R,r.spotShadow.length=B,r.spotShadowMap.length=B,r.directionalShadowMatrix.length=F,r.pointShadowMatrix.length=R,r.spotShadowMatrix.length=B,O.directionalLength=S,O.pointLength=C,O.spotLength=b,O.rectAreaLength=T,O.hemiLength=k,O.numDirectionalShadows=F,O.numPointShadows=R,O.numSpotShadows=B,r.version=c4++)}function d(p,g){let _=0,y=0,w=0,S=0,C=0;const b=g.matrixWorldInverse;for(let T=0,k=p.length;T<k;T++){const F=p[T];if(F.isDirectionalLight){const R=r.directional[_];R.direction.setFromMatrixPosition(F.matrixWorld),s.setFromMatrixPosition(F.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(b),_++}else if(F.isSpotLight){const R=r.spot[w];R.position.setFromMatrixPosition(F.matrixWorld),R.position.applyMatrix4(b),R.direction.setFromMatrixPosition(F.matrixWorld),s.setFromMatrixPosition(F.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(b),w++}else if(F.isRectAreaLight){const R=r.rectArea[S];R.position.setFromMatrixPosition(F.matrixWorld),R.position.applyMatrix4(b),u.identity(),o.copy(F.matrixWorld),o.premultiply(b),u.extractRotation(o),R.halfWidth.set(F.width*.5,0,0),R.halfHeight.set(0,F.height*.5,0),R.halfWidth.applyMatrix4(u),R.halfHeight.applyMatrix4(u),S++}else if(F.isPointLight){const R=r.point[y];R.position.setFromMatrixPosition(F.matrixWorld),R.position.applyMatrix4(b),y++}else if(F.isHemisphereLight){const R=r.hemi[C];R.direction.setFromMatrixPosition(F.matrixWorld),R.direction.transformDirection(b),R.direction.normalize(),C++}}}return{setup:h,setupView:d,state:r}}function LS(n,e){const t=new d4(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(g){i.push(g)}function u(g){r.push(g)}function h(g){t.setup(i,g)}function d(g){t.setupView(i,g)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:h,setupLightsView:d,pushLight:o,pushShadow:u}}function f4(n,e){let t=new WeakMap;function i(s,o=0){let u;return t.has(s)===!1?(u=new LS(n,e),t.set(s,[u])):o>=t.get(s).length?(u=new LS(n,e),t.get(s).push(u)):u=t.get(s)[o],u}function r(){t=new WeakMap}return{get:i,dispose:r}}class aT extends _i{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=MN,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}aT.prototype.isMeshDepthMaterial=!0;class lT extends _i{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new ie,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}lT.prototype.isMeshDistanceMaterial=!0;var p4=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
uniform float samples;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,m4=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function uT(n,e,t){let i=new xm;const r=new $e,s=new $e,o=new en,u=new aT({depthPacking:EN}),h=new lT,d={},p=t.maxTextureSize,g={0:zn,1:qh,2:il},_=new rl({uniforms:{shadow_pass:{value:null},resolution:{value:new $e},radius:{value:4},samples:{value:8}},vertexShader:m4,fragmentShader:p4}),y=_.clone();y.defines.HORIZONTAL_PASS=1;const w=new tn;w.setAttribute("position",new Bn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Ci(w,_),C=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=IE,this.render=function(F,R,B){if(C.enabled===!1||C.autoUpdate===!1&&C.needsUpdate===!1||F.length===0)return;const N=n.getRenderTarget(),O=n.getActiveCubeFace(),j=n.getActiveMipmapLevel(),W=n.state;W.setBlending(ea),W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);for(let H=0,J=F.length;H<J;H++){const Y=F[H],ee=Y.shadow;if(ee===void 0){console.warn("THREE.WebGLShadowMap:",Y,"has no shadow.");continue}if(ee.autoUpdate===!1&&ee.needsUpdate===!1)continue;r.copy(ee.mapSize);const oe=ee.getFrameExtents();if(r.multiply(oe),s.copy(ee.mapSize),(r.x>p||r.y>p)&&(r.x>p&&(s.x=Math.floor(p/oe.x),r.x=s.x*oe.x,ee.mapSize.x=s.x),r.y>p&&(s.y=Math.floor(p/oe.y),r.y=s.y*oe.y,ee.mapSize.y=s.y)),ee.map===null&&!ee.isPointLightShadow&&this.type===Mh){const ne={minFilter:kr,magFilter:kr,format:cr};ee.map=new Ts(r.x,r.y,ne),ee.map.texture.name=Y.name+".shadowMap",ee.mapPass=new Ts(r.x,r.y,ne),ee.camera.updateProjectionMatrix()}if(ee.map===null){const ne={minFilter:$n,magFilter:$n,format:cr};ee.map=new Ts(r.x,r.y,ne),ee.map.texture.name=Y.name+".shadowMap",ee.camera.updateProjectionMatrix()}n.setRenderTarget(ee.map),n.clear();const ae=ee.getViewportCount();for(let ne=0;ne<ae;ne++){const K=ee.getViewport(ne);o.set(s.x*K.x,s.y*K.y,s.x*K.z,s.y*K.w),W.viewport(o),ee.updateMatrices(Y,ne),i=ee.getFrustum(),k(R,B,ee.camera,Y,this.type)}!ee.isPointLightShadow&&this.type===Mh&&b(ee,B),ee.needsUpdate=!1}C.needsUpdate=!1,n.setRenderTarget(N,O,j)};function b(F,R){const B=e.update(S);_.uniforms.shadow_pass.value=F.map.texture,_.uniforms.resolution.value=F.mapSize,_.uniforms.radius.value=F.radius,_.uniforms.samples.value=F.blurSamples,n.setRenderTarget(F.mapPass),n.clear(),n.renderBufferDirect(R,null,B,_,S,null),y.uniforms.shadow_pass.value=F.mapPass.texture,y.uniforms.resolution.value=F.mapSize,y.uniforms.radius.value=F.radius,y.uniforms.samples.value=F.blurSamples,n.setRenderTarget(F.map),n.clear(),n.renderBufferDirect(R,null,B,y,S,null)}function T(F,R,B,N,O,j,W){let H=null;const J=N.isPointLight===!0?F.customDistanceMaterial:F.customDepthMaterial;if(J!==void 0?H=J:H=N.isPointLight===!0?h:u,n.localClippingEnabled&&B.clipShadows===!0&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0){const Y=H.uuid,ee=B.uuid;let oe=d[Y];oe===void 0&&(oe={},d[Y]=oe);let ae=oe[ee];ae===void 0&&(ae=H.clone(),oe[ee]=ae),H=ae}return H.visible=B.visible,H.wireframe=B.wireframe,W===Mh?H.side=B.shadowSide!==null?B.shadowSide:B.side:H.side=B.shadowSide!==null?B.shadowSide:g[B.side],H.alphaMap=B.alphaMap,H.alphaTest=B.alphaTest,H.clipShadows=B.clipShadows,H.clippingPlanes=B.clippingPlanes,H.clipIntersection=B.clipIntersection,H.displacementMap=B.displacementMap,H.displacementScale=B.displacementScale,H.displacementBias=B.displacementBias,H.wireframeLinewidth=B.wireframeLinewidth,H.linewidth=B.linewidth,N.isPointLight===!0&&H.isMeshDistanceMaterial===!0&&(H.referencePosition.setFromMatrixPosition(N.matrixWorld),H.nearDistance=O,H.farDistance=j),H}function k(F,R,B,N,O){if(F.visible===!1)return;if(F.layers.test(R.layers)&&(F.isMesh||F.isLine||F.isPoints)&&(F.castShadow||F.receiveShadow&&O===Mh)&&(!F.frustumCulled||i.intersectsObject(F))){F.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,F.matrixWorld);const H=e.update(F),J=F.material;if(Array.isArray(J)){const Y=H.groups;for(let ee=0,oe=Y.length;ee<oe;ee++){const ae=Y[ee],ne=J[ae.materialIndex];if(ne&&ne.visible){const K=T(F,H,ne,N,B.near,B.far,O);n.renderBufferDirect(B,null,H,K,F,ae)}}}else if(J.visible){const Y=T(F,H,J,N,B.near,B.far,O);n.renderBufferDirect(B,null,H,Y,F,null)}}const W=F.children;for(let H=0,J=W.length;H<J;H++)k(W[H],R,B,N,O)}}function g4(n,e,t){const i=t.isWebGL2;function r(){let q=!1;const Le=new en;let Se=null;const Fe=new en(0,0,0,0);return{setMask:function(Xe){Se!==Xe&&!q&&(n.colorMask(Xe,Xe,Xe,Xe),Se=Xe)},setLocked:function(Xe){q=Xe},setClear:function(Xe,ut,At,Ot,_n){_n===!0&&(Xe*=Ot,ut*=Ot,At*=Ot),Le.set(Xe,ut,At,Ot),Fe.equals(Le)===!1&&(n.clearColor(Xe,ut,At,Ot),Fe.copy(Le))},reset:function(){q=!1,Se=null,Fe.set(-1,0,0,0)}}}function s(){let q=!1,Le=null,Se=null,Fe=null;return{setTest:function(Xe){Xe?me(2929):ve(2929)},setMask:function(Xe){Le!==Xe&&!q&&(n.depthMask(Xe),Le=Xe)},setFunc:function(Xe){if(Se!==Xe){if(Xe)switch(Xe){case dD:n.depthFunc(512);break;case fD:n.depthFunc(519);break;case pD:n.depthFunc(513);break;case Iy:n.depthFunc(515);break;case mD:n.depthFunc(514);break;case gD:n.depthFunc(518);break;case _D:n.depthFunc(516);break;case yD:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);Se=Xe}},setLocked:function(Xe){q=Xe},setClear:function(Xe){Fe!==Xe&&(n.clearDepth(Xe),Fe=Xe)},reset:function(){q=!1,Le=null,Se=null,Fe=null}}}function o(){let q=!1,Le=null,Se=null,Fe=null,Xe=null,ut=null,At=null,Ot=null,_n=null;return{setTest:function(le){q||(le?me(2960):ve(2960))},setMask:function(le){Le!==le&&!q&&(n.stencilMask(le),Le=le)},setFunc:function(le,Be,tt){(Se!==le||Fe!==Be||Xe!==tt)&&(n.stencilFunc(le,Be,tt),Se=le,Fe=Be,Xe=tt)},setOp:function(le,Be,tt){(ut!==le||At!==Be||Ot!==tt)&&(n.stencilOp(le,Be,tt),ut=le,At=Be,Ot=tt)},setLocked:function(le){q=le},setClear:function(le){_n!==le&&(n.clearStencil(le),_n=le)},reset:function(){q=!1,Le=null,Se=null,Fe=null,Xe=null,ut=null,At=null,Ot=null,_n=null}}}const u=new r,h=new s,d=new o;let p={},g=null,_={},y=null,w=!1,S=null,C=null,b=null,T=null,k=null,F=null,R=null,B=!1,N=null,O=null,j=null,W=null,H=null;const J=n.getParameter(35661);let Y=!1,ee=0;const oe=n.getParameter(7938);oe.indexOf("WebGL")!==-1?(ee=parseFloat(/^WebGL (\d)/.exec(oe)[1]),Y=ee>=1):oe.indexOf("OpenGL ES")!==-1&&(ee=parseFloat(/^OpenGL ES (\d)/.exec(oe)[1]),Y=ee>=2);let ae=null,ne={};const K=n.getParameter(3088),fe=n.getParameter(2978),I=new en().fromArray(K),G=new en().fromArray(fe);function se(q,Le,Se){const Fe=new Uint8Array(4),Xe=n.createTexture();n.bindTexture(q,Xe),n.texParameteri(q,10241,9728),n.texParameteri(q,10240,9728);for(let ut=0;ut<Se;ut++)n.texImage2D(Le+ut,0,6408,1,1,0,6408,5121,Fe);return Xe}const D={};D[3553]=se(3553,3553,1),D[34067]=se(34067,34069,6),u.setClear(0,0,0,1),h.setClear(1),d.setClear(0),me(2929),h.setFunc(Iy),Re(!1),De(kb),me(2884),je(ea);function me(q){p[q]!==!0&&(n.enable(q),p[q]=!0)}function ve(q){p[q]!==!1&&(n.disable(q),p[q]=!1)}function te(q){q!==g&&(n.bindFramebuffer(36160,q),g=q)}function Ne(q,Le){return Le===null&&g!==null&&(Le=g),_[q]!==Le?(n.bindFramebuffer(q,Le),_[q]=Le,i&&(q===36009&&(_[36160]=Le),q===36160&&(_[36009]=Le)),!0):!1}function Pe(q){return y!==q?(n.useProgram(q),y=q,!0):!1}const ke={[Mu]:32774,[tD]:32778,[nD]:32779};if(i)ke[Nb]=32775,ke[Ob]=32776;else{const q=e.get("EXT_blend_minmax");q!==null&&(ke[Nb]=q.MIN_EXT,ke[Ob]=q.MAX_EXT)}const ze={[iD]:0,[rD]:1,[sD]:768,[NE]:770,[hD]:776,[uD]:774,[aD]:772,[oD]:769,[OE]:771,[cD]:775,[lD]:773};function je(q,Le,Se,Fe,Xe,ut,At,Ot){if(q===ea){w===!0&&(ve(3042),w=!1);return}if(w===!1&&(me(3042),w=!0),q!==eD){if(q!==S||Ot!==B){if((C!==Mu||k!==Mu)&&(n.blendEquation(32774),C=Mu,k=Mu),Ot)switch(q){case Ih:n.blendFuncSeparate(1,771,1,771);break;case Rb:n.blendFunc(1,1);break;case Ib:n.blendFuncSeparate(0,0,769,771);break;case Db:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",q);break}else switch(q){case Ih:n.blendFuncSeparate(770,771,1,771);break;case Rb:n.blendFunc(770,1);break;case Ib:n.blendFunc(0,769);break;case Db:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",q);break}b=null,T=null,F=null,R=null,S=q,B=Ot}return}Xe=Xe||Le,ut=ut||Se,At=At||Fe,(Le!==C||Xe!==k)&&(n.blendEquationSeparate(ke[Le],ke[Xe]),C=Le,k=Xe),(Se!==b||Fe!==T||ut!==F||At!==R)&&(n.blendFuncSeparate(ze[Se],ze[Fe],ze[ut],ze[At]),b=Se,T=Fe,F=ut,R=At),S=q,B=null}function be(q,Le){q.side===il?ve(2884):me(2884);let Se=q.side===zn;Le&&(Se=!Se),Re(Se),q.blending===Ih&&q.transparent===!1?je(ea):je(q.blending,q.blendEquation,q.blendSrc,q.blendDst,q.blendEquationAlpha,q.blendSrcAlpha,q.blendDstAlpha,q.premultipliedAlpha),h.setFunc(q.depthFunc),h.setTest(q.depthTest),h.setMask(q.depthWrite),u.setMask(q.colorWrite);const Fe=q.stencilWrite;d.setTest(Fe),Fe&&(d.setMask(q.stencilWriteMask),d.setFunc(q.stencilFunc,q.stencilRef,q.stencilFuncMask),d.setOp(q.stencilFail,q.stencilZFail,q.stencilZPass)),Ie(q.polygonOffset,q.polygonOffsetFactor,q.polygonOffsetUnits),q.alphaToCoverage===!0?me(32926):ve(32926)}function Re(q){N!==q&&(q?n.frontFace(2304):n.frontFace(2305),N=q)}function De(q){q!==KI?(me(2884),q!==O&&(q===kb?n.cullFace(1029):q===JI?n.cullFace(1028):n.cullFace(1032))):ve(2884),O=q}function We(q){q!==j&&(Y&&n.lineWidth(q),j=q)}function Ie(q,Le,Se){q?(me(32823),(W!==Le||H!==Se)&&(n.polygonOffset(Le,Se),W=Le,H=Se)):ve(32823)}function X(q){q?me(3089):ve(3089)}function Z(q){q===void 0&&(q=33984+J-1),ae!==q&&(n.activeTexture(q),ae=q)}function we(q,Le){ae===null&&Z();let Se=ne[ae];Se===void 0&&(Se={type:void 0,texture:void 0},ne[ae]=Se),(Se.type!==q||Se.texture!==Le)&&(n.bindTexture(q,Le||D[q]),Se.type=q,Se.texture=Le)}function Ae(){const q=ne[ae];q!==void 0&&q.type!==void 0&&(n.bindTexture(q.type,null),q.type=void 0,q.texture=void 0)}function Ze(){try{n.compressedTexImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Ke(){try{n.texImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function rt(){try{n.texImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Je(q){I.equals(q)===!1&&(n.scissor(q.x,q.y,q.z,q.w),I.copy(q))}function st(q){G.equals(q)===!1&&(n.viewport(q.x,q.y,q.z,q.w),G.copy(q))}function he(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},ae=null,ne={},g=null,_={},y=null,w=!1,S=null,C=null,b=null,T=null,k=null,F=null,R=null,B=!1,N=null,O=null,j=null,W=null,H=null,I.set(0,0,n.canvas.width,n.canvas.height),G.set(0,0,n.canvas.width,n.canvas.height),u.reset(),h.reset(),d.reset()}return{buffers:{color:u,depth:h,stencil:d},enable:me,disable:ve,bindFramebuffer:Ne,bindXRFramebuffer:te,useProgram:Pe,setBlending:je,setMaterial:be,setFlipSided:Re,setCullFace:De,setLineWidth:We,setPolygonOffset:Ie,setScissorTest:X,activeTexture:Z,bindTexture:we,unbindTexture:Ae,compressedTexImage2D:Ze,texImage2D:Ke,texImage3D:rt,scissor:Je,viewport:st,reset:he}}function _4(n,e,t,i,r,s,o){const u=r.isWebGL2,h=r.maxTextures,d=r.maxCubemapSize,p=r.maxTextureSize,g=r.maxSamples,_=new WeakMap;let y,w=!1;try{w=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(X,Z){return w?new OffscreenCanvas(X,Z):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function C(X,Z,we,Ae){let Ze=1;if((X.width>Ae||X.height>Ae)&&(Ze=Ae/Math.max(X.width,X.height)),Ze<1||Z===!0)if(typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap){const Ke=Z?VE:Math.floor,rt=Ke(Ze*X.width),Je=Ke(Ze*X.height);y===void 0&&(y=S(rt,Je));const st=we?S(rt,Je):y;return st.width=rt,st.height=Je,st.getContext("2d").drawImage(X,0,0,rt,Je),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+X.width+"x"+X.height+") to ("+rt+"x"+Je+")."),st}else return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+X.width+"x"+X.height+")."),X;return X}function b(X){return Fy(X.width)&&Fy(X.height)}function T(X){return u?!1:X.wrapS!==lr||X.wrapT!==lr||X.minFilter!==$n&&X.minFilter!==kr}function k(X,Z){return X.generateMipmaps&&Z&&X.minFilter!==$n&&X.minFilter!==kr}function F(X,Z,we,Ae,Ze=1){n.generateMipmap(X);const Ke=i.get(Z);Ke.__maxMipLevel=Math.log2(Math.max(we,Ae,Ze))}function R(X,Z,we){if(u===!1)return Z;if(X!==null){if(n[X]!==void 0)return n[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let Ae=Z;return Z===6403&&(we===5126&&(Ae=33326),we===5131&&(Ae=33325),we===5121&&(Ae=33321)),Z===6407&&(we===5126&&(Ae=34837),we===5131&&(Ae=34843),we===5121&&(Ae=32849)),Z===6408&&(we===5126&&(Ae=34836),we===5131&&(Ae=34842),we===5121&&(Ae=32856)),(Ae===33325||Ae===33326||Ae===34842||Ae===34836)&&e.get("EXT_color_buffer_float"),Ae}function B(X){return X===$n||X===zb||X===Fb?9728:9729}function N(X){const Z=X.target;Z.removeEventListener("dispose",N),j(Z),Z.isVideoTexture&&_.delete(Z),o.memory.textures--}function O(X){const Z=X.target;Z.removeEventListener("dispose",O),W(Z)}function j(X){const Z=i.get(X);Z.__webglInit!==void 0&&(n.deleteTexture(Z.__webglTexture),i.remove(X))}function W(X){const Z=X.texture,we=i.get(X),Ae=i.get(Z);if(X){if(Ae.__webglTexture!==void 0&&(n.deleteTexture(Ae.__webglTexture),o.memory.textures--),X.depthTexture&&X.depthTexture.dispose(),X.isWebGLCubeRenderTarget)for(let Ze=0;Ze<6;Ze++)n.deleteFramebuffer(we.__webglFramebuffer[Ze]),we.__webglDepthbuffer&&n.deleteRenderbuffer(we.__webglDepthbuffer[Ze]);else n.deleteFramebuffer(we.__webglFramebuffer),we.__webglDepthbuffer&&n.deleteRenderbuffer(we.__webglDepthbuffer),we.__webglMultisampledFramebuffer&&n.deleteFramebuffer(we.__webglMultisampledFramebuffer),we.__webglColorRenderbuffer&&n.deleteRenderbuffer(we.__webglColorRenderbuffer),we.__webglDepthRenderbuffer&&n.deleteRenderbuffer(we.__webglDepthRenderbuffer);if(X.isWebGLMultipleRenderTargets)for(let Ze=0,Ke=Z.length;Ze<Ke;Ze++){const rt=i.get(Z[Ze]);rt.__webglTexture&&(n.deleteTexture(rt.__webglTexture),o.memory.textures--),i.remove(Z[Ze])}i.remove(Z),i.remove(X)}}let H=0;function J(){H=0}function Y(){const X=H;return X>=h&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+h),H+=1,X}function ee(X,Z){const we=i.get(X);if(X.isVideoTexture&&be(X),X.version>0&&we.__version!==X.version){const Ae=X.image;if(Ae===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(Ae.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{se(we,X,Z);return}}t.activeTexture(33984+Z),t.bindTexture(3553,we.__webglTexture)}function oe(X,Z){const we=i.get(X);if(X.version>0&&we.__version!==X.version){se(we,X,Z);return}t.activeTexture(33984+Z),t.bindTexture(35866,we.__webglTexture)}function ae(X,Z){const we=i.get(X);if(X.version>0&&we.__version!==X.version){se(we,X,Z);return}t.activeTexture(33984+Z),t.bindTexture(32879,we.__webglTexture)}function ne(X,Z){const we=i.get(X);if(X.version>0&&we.__version!==X.version){D(we,X,Z);return}t.activeTexture(33984+Z),t.bindTexture(34067,we.__webglTexture)}const K={[Oy]:10497,[lr]:33071,[zy]:33648},fe={[$n]:9728,[zb]:9984,[Fb]:9986,[kr]:9729,[TD]:9985,[_m]:9987};function I(X,Z,we){if(we?(n.texParameteri(X,10242,K[Z.wrapS]),n.texParameteri(X,10243,K[Z.wrapT]),(X===32879||X===35866)&&n.texParameteri(X,32882,K[Z.wrapR]),n.texParameteri(X,10240,fe[Z.magFilter]),n.texParameteri(X,10241,fe[Z.minFilter])):(n.texParameteri(X,10242,33071),n.texParameteri(X,10243,33071),(X===32879||X===35866)&&n.texParameteri(X,32882,33071),(Z.wrapS!==lr||Z.wrapT!==lr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(X,10240,B(Z.magFilter)),n.texParameteri(X,10241,B(Z.minFilter)),Z.minFilter!==$n&&Z.minFilter!==kr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ae=e.get("EXT_texture_filter_anisotropic");if(Z.type===Ga&&e.has("OES_texture_float_linear")===!1||u===!1&&Z.type===ku&&e.has("OES_texture_half_float_linear")===!1)return;(Z.anisotropy>1||i.get(Z).__currentAnisotropy)&&(n.texParameterf(X,Ae.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Z.anisotropy,r.getMaxAnisotropy())),i.get(Z).__currentAnisotropy=Z.anisotropy)}}function G(X,Z){X.__webglInit===void 0&&(X.__webglInit=!0,Z.addEventListener("dispose",N),X.__webglTexture=n.createTexture(),o.memory.textures++)}function se(X,Z,we){let Ae=3553;Z.isDataTexture2DArray&&(Ae=35866),Z.isDataTexture3D&&(Ae=32879),G(X,Z),t.activeTexture(33984+we),t.bindTexture(Ae,X.__webglTexture),n.pixelStorei(37440,Z.flipY),n.pixelStorei(37441,Z.premultiplyAlpha),n.pixelStorei(3317,Z.unpackAlignment),n.pixelStorei(37443,0);const Ze=T(Z)&&b(Z.image)===!1,Ke=C(Z.image,Ze,!1,p),rt=b(Ke)||u,Je=s.convert(Z.format);let st=s.convert(Z.type),he=R(Z.internalFormat,Je,st);I(Ae,Z,rt);let q;const Le=Z.mipmaps;if(Z.isDepthTexture)he=6402,u?Z.type===Ga?he=36012:Z.type===Pp?he=33190:Z.type===Dh?he=35056:he=33189:Z.type===Ga&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Z.format===Ru&&he===6402&&Z.type!==Vp&&Z.type!==Pp&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Z.type=Vp,st=s.convert(Z.type)),Z.format===Xh&&he===6402&&(he=34041,Z.type!==Dh&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Z.type=Dh,st=s.convert(Z.type))),t.texImage2D(3553,0,he,Ke.width,Ke.height,0,Je,st,null);else if(Z.isDataTexture)if(Le.length>0&&rt){for(let Se=0,Fe=Le.length;Se<Fe;Se++)q=Le[Se],t.texImage2D(3553,Se,he,q.width,q.height,0,Je,st,q.data);Z.generateMipmaps=!1,X.__maxMipLevel=Le.length-1}else t.texImage2D(3553,0,he,Ke.width,Ke.height,0,Je,st,Ke.data),X.__maxMipLevel=0;else if(Z.isCompressedTexture){for(let Se=0,Fe=Le.length;Se<Fe;Se++)q=Le[Se],Z.format!==cr&&Z.format!==ta?Je!==null?t.compressedTexImage2D(3553,Se,he,q.width,q.height,0,q.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):t.texImage2D(3553,Se,he,q.width,q.height,0,Je,st,q.data);X.__maxMipLevel=Le.length-1}else if(Z.isDataTexture2DArray)t.texImage3D(35866,0,he,Ke.width,Ke.height,Ke.depth,0,Je,st,Ke.data),X.__maxMipLevel=0;else if(Z.isDataTexture3D)t.texImage3D(32879,0,he,Ke.width,Ke.height,Ke.depth,0,Je,st,Ke.data),X.__maxMipLevel=0;else if(Le.length>0&&rt){for(let Se=0,Fe=Le.length;Se<Fe;Se++)q=Le[Se],t.texImage2D(3553,Se,he,Je,st,q);Z.generateMipmaps=!1,X.__maxMipLevel=Le.length-1}else t.texImage2D(3553,0,he,Je,st,Ke),X.__maxMipLevel=0;k(Z,rt)&&F(Ae,Z,Ke.width,Ke.height),X.__version=Z.version,Z.onUpdate&&Z.onUpdate(Z)}function D(X,Z,we){if(Z.image.length!==6)return;G(X,Z),t.activeTexture(33984+we),t.bindTexture(34067,X.__webglTexture),n.pixelStorei(37440,Z.flipY),n.pixelStorei(37441,Z.premultiplyAlpha),n.pixelStorei(3317,Z.unpackAlignment),n.pixelStorei(37443,0);const Ae=Z&&(Z.isCompressedTexture||Z.image[0].isCompressedTexture),Ze=Z.image[0]&&Z.image[0].isDataTexture,Ke=[];for(let Se=0;Se<6;Se++)!Ae&&!Ze?Ke[Se]=C(Z.image[Se],!1,!0,d):Ke[Se]=Ze?Z.image[Se].image:Z.image[Se];const rt=Ke[0],Je=b(rt)||u,st=s.convert(Z.format),he=s.convert(Z.type),q=R(Z.internalFormat,st,he);I(34067,Z,Je);let Le;if(Ae){for(let Se=0;Se<6;Se++){Le=Ke[Se].mipmaps;for(let Fe=0;Fe<Le.length;Fe++){const Xe=Le[Fe];Z.format!==cr&&Z.format!==ta?st!==null?t.compressedTexImage2D(34069+Se,Fe,q,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):t.texImage2D(34069+Se,Fe,q,Xe.width,Xe.height,0,st,he,Xe.data)}}X.__maxMipLevel=Le.length-1}else{Le=Z.mipmaps;for(let Se=0;Se<6;Se++)if(Ze){t.texImage2D(34069+Se,0,q,Ke[Se].width,Ke[Se].height,0,st,he,Ke[Se].data);for(let Fe=0;Fe<Le.length;Fe++){const ut=Le[Fe].image[Se].image;t.texImage2D(34069+Se,Fe+1,q,ut.width,ut.height,0,st,he,ut.data)}}else{t.texImage2D(34069+Se,0,q,st,he,Ke[Se]);for(let Fe=0;Fe<Le.length;Fe++){const Xe=Le[Fe];t.texImage2D(34069+Se,Fe+1,q,st,he,Xe.image[Se])}}X.__maxMipLevel=Le.length}k(Z,Je)&&F(34067,Z,rt.width,rt.height),X.__version=Z.version,Z.onUpdate&&Z.onUpdate(Z)}function me(X,Z,we,Ae,Ze){const Ke=s.convert(we.format),rt=s.convert(we.type),Je=R(we.internalFormat,Ke,rt);Ze===32879||Ze===35866?t.texImage3D(Ze,0,Je,Z.width,Z.height,Z.depth,0,Ke,rt,null):t.texImage2D(Ze,0,Je,Z.width,Z.height,0,Ke,rt,null),t.bindFramebuffer(36160,X),n.framebufferTexture2D(36160,Ae,Ze,i.get(we).__webglTexture,0),t.bindFramebuffer(36160,null)}function ve(X,Z,we){if(n.bindRenderbuffer(36161,X),Z.depthBuffer&&!Z.stencilBuffer){let Ae=33189;if(we){const Ze=Z.depthTexture;Ze&&Ze.isDepthTexture&&(Ze.type===Ga?Ae=36012:Ze.type===Pp&&(Ae=33190));const Ke=je(Z);n.renderbufferStorageMultisample(36161,Ke,Ae,Z.width,Z.height)}else n.renderbufferStorage(36161,Ae,Z.width,Z.height);n.framebufferRenderbuffer(36160,36096,36161,X)}else if(Z.depthBuffer&&Z.stencilBuffer){if(we){const Ae=je(Z);n.renderbufferStorageMultisample(36161,Ae,35056,Z.width,Z.height)}else n.renderbufferStorage(36161,34041,Z.width,Z.height);n.framebufferRenderbuffer(36160,33306,36161,X)}else{const Ae=Z.isWebGLMultipleRenderTargets===!0?Z.texture[0]:Z.texture,Ze=s.convert(Ae.format),Ke=s.convert(Ae.type),rt=R(Ae.internalFormat,Ze,Ke);if(we){const Je=je(Z);n.renderbufferStorageMultisample(36161,Je,rt,Z.width,Z.height)}else n.renderbufferStorage(36161,rt,Z.width,Z.height)}n.bindRenderbuffer(36161,null)}function te(X,Z){if(Z&&Z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,X),!(Z.depthTexture&&Z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(Z.depthTexture).__webglTexture||Z.depthTexture.image.width!==Z.width||Z.depthTexture.image.height!==Z.height)&&(Z.depthTexture.image.width=Z.width,Z.depthTexture.image.height=Z.height,Z.depthTexture.needsUpdate=!0),ee(Z.depthTexture,0);const Ae=i.get(Z.depthTexture).__webglTexture;if(Z.depthTexture.format===Ru)n.framebufferTexture2D(36160,36096,3553,Ae,0);else if(Z.depthTexture.format===Xh)n.framebufferTexture2D(36160,33306,3553,Ae,0);else throw new Error("Unknown depthTexture format")}function Ne(X){const Z=i.get(X),we=X.isWebGLCubeRenderTarget===!0;if(X.depthTexture){if(we)throw new Error("target.depthTexture not supported in Cube render targets");te(Z.__webglFramebuffer,X)}else if(we){Z.__webglDepthbuffer=[];for(let Ae=0;Ae<6;Ae++)t.bindFramebuffer(36160,Z.__webglFramebuffer[Ae]),Z.__webglDepthbuffer[Ae]=n.createRenderbuffer(),ve(Z.__webglDepthbuffer[Ae],X,!1)}else t.bindFramebuffer(36160,Z.__webglFramebuffer),Z.__webglDepthbuffer=n.createRenderbuffer(),ve(Z.__webglDepthbuffer,X,!1);t.bindFramebuffer(36160,null)}function Pe(X){const Z=X.texture,we=i.get(X),Ae=i.get(Z);X.addEventListener("dispose",O),X.isWebGLMultipleRenderTargets!==!0&&(Ae.__webglTexture=n.createTexture(),Ae.__version=Z.version,o.memory.textures++);const Ze=X.isWebGLCubeRenderTarget===!0,Ke=X.isWebGLMultipleRenderTargets===!0,rt=X.isWebGLMultisampleRenderTarget===!0,Je=Z.isDataTexture3D||Z.isDataTexture2DArray,st=b(X)||u;if(u&&Z.format===ta&&(Z.type===Ga||Z.type===ku)&&(Z.format=cr,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),Ze){we.__webglFramebuffer=[];for(let he=0;he<6;he++)we.__webglFramebuffer[he]=n.createFramebuffer()}else if(we.__webglFramebuffer=n.createFramebuffer(),Ke)if(r.drawBuffers){const he=X.texture;for(let q=0,Le=he.length;q<Le;q++){const Se=i.get(he[q]);Se.__webglTexture===void 0&&(Se.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(rt)if(u){we.__webglMultisampledFramebuffer=n.createFramebuffer(),we.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,we.__webglColorRenderbuffer);const he=s.convert(Z.format),q=s.convert(Z.type),Le=R(Z.internalFormat,he,q),Se=je(X);n.renderbufferStorageMultisample(36161,Se,Le,X.width,X.height),t.bindFramebuffer(36160,we.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,we.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),X.depthBuffer&&(we.__webglDepthRenderbuffer=n.createRenderbuffer(),ve(we.__webglDepthRenderbuffer,X,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(Ze){t.bindTexture(34067,Ae.__webglTexture),I(34067,Z,st);for(let he=0;he<6;he++)me(we.__webglFramebuffer[he],X,Z,36064,34069+he);k(Z,st)&&F(34067,Z,X.width,X.height),t.unbindTexture()}else if(Ke){const he=X.texture;for(let q=0,Le=he.length;q<Le;q++){const Se=he[q],Fe=i.get(Se);t.bindTexture(3553,Fe.__webglTexture),I(3553,Se,st),me(we.__webglFramebuffer,X,Se,36064+q,3553),k(Se,st)&&F(3553,Se,X.width,X.height)}t.unbindTexture()}else{let he=3553;Je&&(u?he=Z.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(he,Ae.__webglTexture),I(he,Z,st),me(we.__webglFramebuffer,X,Z,36064,he),k(Z,st)&&F(he,Z,X.width,X.height,X.depth),t.unbindTexture()}X.depthBuffer&&Ne(X)}function ke(X){const Z=b(X)||u,we=X.isWebGLMultipleRenderTargets===!0?X.texture:[X.texture];for(let Ae=0,Ze=we.length;Ae<Ze;Ae++){const Ke=we[Ae];if(k(Ke,Z)){const rt=X.isWebGLCubeRenderTarget?34067:3553,Je=i.get(Ke).__webglTexture;t.bindTexture(rt,Je),F(rt,Ke,X.width,X.height),t.unbindTexture()}}}function ze(X){if(X.isWebGLMultisampleRenderTarget)if(u){const Z=X.width,we=X.height;let Ae=16384;X.depthBuffer&&(Ae|=256),X.stencilBuffer&&(Ae|=1024);const Ze=i.get(X);t.bindFramebuffer(36008,Ze.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ze.__webglFramebuffer),n.blitFramebuffer(0,0,Z,we,0,0,Z,we,Ae,9728),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,Ze.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function je(X){return u&&X.isWebGLMultisampleRenderTarget?Math.min(g,X.samples):0}function be(X){const Z=o.render.frame;_.get(X)!==Z&&(_.set(X,Z),X.update())}let Re=!1,De=!1;function We(X,Z){X&&X.isWebGLRenderTarget&&(Re===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Re=!0),X=X.texture),ee(X,Z)}function Ie(X,Z){X&&X.isWebGLCubeRenderTarget&&(De===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),De=!0),X=X.texture),ne(X,Z)}this.allocateTextureUnit=Y,this.resetTextureUnits=J,this.setTexture2D=ee,this.setTexture2DArray=oe,this.setTexture3D=ae,this.setTextureCube=ne,this.setupRenderTarget=Pe,this.updateRenderTargetMipmap=ke,this.updateMultisampleRenderTarget=ze,this.safeSetTexture2D=We,this.safeSetTextureCube=Ie}function y4(n,e,t){const i=t.isWebGL2;function r(s){let o;if(s===Wu)return 5121;if(s===AD)return 32819;if(s===kD)return 32820;if(s===RD)return 33635;if(s===LD)return 5120;if(s===CD)return 5122;if(s===Vp)return 5123;if(s===PD)return 5124;if(s===Pp)return 5125;if(s===Ga)return 5126;if(s===ku)return i?5131:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(s===ID)return 6406;if(s===ta)return 6407;if(s===cr)return 6408;if(s===DD)return 6409;if(s===ND)return 6410;if(s===Ru)return 6402;if(s===Xh)return 34041;if(s===zD)return 6403;if(s===FD)return 36244;if(s===BD)return 33319;if(s===UD)return 33320;if(s===HD)return 36248;if(s===VD)return 36249;if(s===Bb||s===Ub||s===Hb||s===Vb)if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===Bb)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Ub)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Hb)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Vb)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===jb||s===Wb||s===Gb||s===Zb)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===jb)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Wb)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Gb)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Zb)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===jD)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if((s===$b||s===qb)&&(o=e.get("WEBGL_compressed_texture_etc"),o!==null)){if(s===$b)return o.COMPRESSED_RGB8_ETC2;if(s===qb)return o.COMPRESSED_RGBA8_ETC2_EAC}if(s===WD||s===GD||s===ZD||s===$D||s===qD||s===XD||s===YD||s===KD||s===JD||s===QD||s===eN||s===tN||s===nN||s===iN||s===sN||s===oN||s===aN||s===lN||s===uN||s===cN||s===hN||s===dN||s===fN||s===pN||s===mN||s===gN||s===_N||s===yN)return o=e.get("WEBGL_compressed_texture_astc"),o!==null?s:null;if(s===rN)return o=e.get("EXT_texture_compression_bptc"),o!==null?s:null;if(s===Dh)return i?34042:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:r}}class cT extends Gn{constructor(e=[]){super(),this.cameras=e}}cT.prototype.isArrayCamera=!0;class Th extends Zt{constructor(){super(),this.type="Group"}}Th.prototype.isGroup=!0;const v4={type:"move"};class W_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Th,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Th,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ie,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ie),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Th,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ie,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ie),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const u=this._targetRay,h=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(u!==null&&(r=t.getPose(e.targetRaySpace,i),r!==null&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(v4))),d&&e.hand){o=!0;for(const S of e.hand.values()){const C=t.getJointPose(S,i);if(d.joints[S.jointName]===void 0){const T=new Th;T.matrixAutoUpdate=!1,T.visible=!1,d.joints[S.jointName]=T,d.add(T)}const b=d.joints[S.jointName];C!==null&&(b.matrix.fromArray(C.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.jointRadius=C.radius),b.visible=C!==null}const p=d.joints["index-finger-tip"],g=d.joints["thumb-tip"],_=p.position.distanceTo(g.position),y=.02,w=.005;d.inputState.pinching&&_>y+w?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&_<=y-w&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else h!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(h.matrix.fromArray(s.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),s.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(s.linearVelocity)):h.hasLinearVelocity=!1,s.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(s.angularVelocity)):h.hasAngularVelocity=!1));return u!==null&&(u.visible=r!==null),h!==null&&(h.visible=s!==null),d!==null&&(d.visible=o!==null),this}}class x4 extends ul{constructor(e,t){super();const i=this,r=e.state;let s=null,o=1,u=null,h="local-floor",d=null,p=null,g=null,_=null,y=null,w=!1,S=null,C=null,b=null,T=null,k=null,F=null;const R=[],B=new Map,N=new Gn;N.layers.enable(1),N.viewport=new en;const O=new Gn;O.layers.enable(2),O.viewport=new en;const j=[N,O],W=new cT;W.layers.enable(1),W.layers.enable(2);let H=null,J=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(D){let me=R[D];return me===void 0&&(me=new W_,R[D]=me),me.getTargetRaySpace()},this.getControllerGrip=function(D){let me=R[D];return me===void 0&&(me=new W_,R[D]=me),me.getGripSpace()},this.getHand=function(D){let me=R[D];return me===void 0&&(me=new W_,R[D]=me),me.getHandSpace()};function Y(D){const me=B.get(D.inputSource);me&&me.dispatchEvent({type:D.type,data:D.inputSource})}function ee(){B.forEach(function(D,me){D.disconnect(me)}),B.clear(),H=null,J=null,r.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),g&&t.deleteFramebuffer(g),S&&t.deleteFramebuffer(S),C&&t.deleteRenderbuffer(C),b&&t.deleteRenderbuffer(b),g=null,S=null,C=null,b=null,y=null,_=null,p=null,s=null,se.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(D){o=D,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(D){h=D,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u},this.getBaseLayer=function(){return _!==null?_:y},this.getBinding=function(){return p},this.getFrame=function(){return T},this.getSession=function(){return s},this.setSession=async function(D){if(s=D,s!==null){s.addEventListener("select",Y),s.addEventListener("selectstart",Y),s.addEventListener("selectend",Y),s.addEventListener("squeeze",Y),s.addEventListener("squeezestart",Y),s.addEventListener("squeezeend",Y),s.addEventListener("end",ee),s.addEventListener("inputsourceschange",oe);const me=t.getContextAttributes();if(me.xrCompatible!==!0&&await t.makeXRCompatible(),s.renderState.layers===void 0){const ve={antialias:me.antialias,alpha:me.alpha,depth:me.depth,stencil:me.stencil,framebufferScaleFactor:o};y=new XRWebGLLayer(s,t,ve),s.updateRenderState({baseLayer:y})}else if(t instanceof WebGLRenderingContext){const ve={antialias:!0,alpha:me.alpha,depth:me.depth,stencil:me.stencil,framebufferScaleFactor:o};y=new XRWebGLLayer(s,t,ve),s.updateRenderState({layers:[y]})}else{w=me.antialias;let ve=null;me.depth&&(F=256,me.stencil&&(F|=1024),k=me.stencil?33306:36096,ve=me.stencil?35056:33190);const te={colorFormat:me.alpha?32856:32849,depthFormat:ve,scaleFactor:o};p=new XRWebGLBinding(s,t),_=p.createProjectionLayer(te),g=t.createFramebuffer(),s.updateRenderState({layers:[_]}),w&&(S=t.createFramebuffer(),C=t.createRenderbuffer(),t.bindRenderbuffer(36161,C),t.renderbufferStorageMultisample(36161,4,32856,_.textureWidth,_.textureHeight),r.bindFramebuffer(36160,S),t.framebufferRenderbuffer(36160,36064,36161,C),t.bindRenderbuffer(36161,null),ve!==null&&(b=t.createRenderbuffer(),t.bindRenderbuffer(36161,b),t.renderbufferStorageMultisample(36161,4,ve,_.textureWidth,_.textureHeight),t.framebufferRenderbuffer(36160,k,36161,b),t.bindRenderbuffer(36161,null)),r.bindFramebuffer(36160,null))}u=await s.requestReferenceSpace(h),se.setContext(s),se.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function oe(D){const me=s.inputSources;for(let ve=0;ve<R.length;ve++)B.set(me[ve],R[ve]);for(let ve=0;ve<D.removed.length;ve++){const te=D.removed[ve],Ne=B.get(te);Ne&&(Ne.dispatchEvent({type:"disconnected",data:te}),B.delete(te))}for(let ve=0;ve<D.added.length;ve++){const te=D.added[ve],Ne=B.get(te);Ne&&Ne.dispatchEvent({type:"connected",data:te})}}const ae=new ie,ne=new ie;function K(D,me,ve){ae.setFromMatrixPosition(me.matrixWorld),ne.setFromMatrixPosition(ve.matrixWorld);const te=ae.distanceTo(ne),Ne=me.projectionMatrix.elements,Pe=ve.projectionMatrix.elements,ke=Ne[14]/(Ne[10]-1),ze=Ne[14]/(Ne[10]+1),je=(Ne[9]+1)/Ne[5],be=(Ne[9]-1)/Ne[5],Re=(Ne[8]-1)/Ne[0],De=(Pe[8]+1)/Pe[0],We=ke*Re,Ie=ke*De,X=te/(-Re+De),Z=X*-Re;me.matrixWorld.decompose(D.position,D.quaternion,D.scale),D.translateX(Z),D.translateZ(X),D.matrixWorld.compose(D.position,D.quaternion,D.scale),D.matrixWorldInverse.copy(D.matrixWorld).invert();const we=ke+X,Ae=ze+X,Ze=We-Z,Ke=Ie+(te-Z),rt=je*ze/Ae*we,Je=be*ze/Ae*we;D.projectionMatrix.makePerspective(Ze,Ke,rt,Je,we,Ae)}function fe(D,me){me===null?D.matrixWorld.copy(D.matrix):D.matrixWorld.multiplyMatrices(me.matrixWorld,D.matrix),D.matrixWorldInverse.copy(D.matrixWorld).invert()}this.updateCamera=function(D){if(s===null)return;W.near=O.near=N.near=D.near,W.far=O.far=N.far=D.far,(H!==W.near||J!==W.far)&&(s.updateRenderState({depthNear:W.near,depthFar:W.far}),H=W.near,J=W.far);const me=D.parent,ve=W.cameras;fe(W,me);for(let Ne=0;Ne<ve.length;Ne++)fe(ve[Ne],me);W.matrixWorld.decompose(W.position,W.quaternion,W.scale),D.position.copy(W.position),D.quaternion.copy(W.quaternion),D.scale.copy(W.scale),D.matrix.copy(W.matrix),D.matrixWorld.copy(W.matrixWorld);const te=D.children;for(let Ne=0,Pe=te.length;Ne<Pe;Ne++)te[Ne].updateMatrixWorld(!0);ve.length===2?K(W,N,O):W.projectionMatrix.copy(N.projectionMatrix)},this.getCamera=function(){return W},this.getFoveation=function(){if(_!==null)return _.fixedFoveation;if(y!==null)return y.fixedFoveation},this.setFoveation=function(D){_!==null&&(_.fixedFoveation=D),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=D)};let I=null;function G(D,me){if(d=me.getViewerPose(u),T=me,d!==null){const te=d.views;y!==null&&r.bindXRFramebuffer(y.framebuffer);let Ne=!1;te.length!==W.cameras.length&&(W.cameras.length=0,Ne=!0);for(let Pe=0;Pe<te.length;Pe++){const ke=te[Pe];let ze=null;if(y!==null)ze=y.getViewport(ke);else{const be=p.getViewSubImage(_,ke);r.bindXRFramebuffer(g),be.depthStencilTexture!==void 0&&t.framebufferTexture2D(36160,k,3553,be.depthStencilTexture,0),t.framebufferTexture2D(36160,36064,3553,be.colorTexture,0),ze=be.viewport}const je=j[Pe];je.matrix.fromArray(ke.transform.matrix),je.projectionMatrix.fromArray(ke.projectionMatrix),je.viewport.set(ze.x,ze.y,ze.width,ze.height),Pe===0&&W.matrix.copy(je.matrix),Ne===!0&&W.cameras.push(je)}w&&(r.bindXRFramebuffer(S),F!==null&&t.clear(F))}const ve=s.inputSources;for(let te=0;te<R.length;te++){const Ne=R[te],Pe=ve[te];Ne.update(Pe,me,u)}if(I&&I(D,me),w){const te=_.textureWidth,Ne=_.textureHeight;r.bindFramebuffer(36008,S),r.bindFramebuffer(36009,g),t.invalidateFramebuffer(36008,[k]),t.invalidateFramebuffer(36009,[k]),t.blitFramebuffer(0,0,te,Ne,0,0,te,Ne,16384,9728),t.invalidateFramebuffer(36008,[36064]),r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,null),r.bindFramebuffer(36160,S)}T=null}const se=new XE;se.setAnimationLoop(G),this.setAnimationLoop=function(D){I=D},this.dispose=function(){}}}function w4(n){function e(b,T){b.fogColor.value.copy(T.color),T.isFog?(b.fogNear.value=T.near,b.fogFar.value=T.far):T.isFogExp2&&(b.fogDensity.value=T.density)}function t(b,T,k,F,R){T.isMeshBasicMaterial?i(b,T):T.isMeshLambertMaterial?(i(b,T),h(b,T)):T.isMeshToonMaterial?(i(b,T),p(b,T)):T.isMeshPhongMaterial?(i(b,T),d(b,T)):T.isMeshStandardMaterial?(i(b,T),T.isMeshPhysicalMaterial?_(b,T,R):g(b,T)):T.isMeshMatcapMaterial?(i(b,T),y(b,T)):T.isMeshDepthMaterial?(i(b,T),w(b,T)):T.isMeshDistanceMaterial?(i(b,T),S(b,T)):T.isMeshNormalMaterial?(i(b,T),C(b,T)):T.isLineBasicMaterial?(r(b,T),T.isLineDashedMaterial&&s(b,T)):T.isPointsMaterial?o(b,T,k,F):T.isSpriteMaterial?u(b,T):T.isShadowMaterial?(b.color.value.copy(T.color),b.opacity.value=T.opacity):T.isShaderMaterial&&(T.uniformsNeedUpdate=!1)}function i(b,T){b.opacity.value=T.opacity,T.color&&b.diffuse.value.copy(T.color),T.emissive&&b.emissive.value.copy(T.emissive).multiplyScalar(T.emissiveIntensity),T.map&&(b.map.value=T.map),T.alphaMap&&(b.alphaMap.value=T.alphaMap),T.specularMap&&(b.specularMap.value=T.specularMap),T.alphaTest>0&&(b.alphaTest.value=T.alphaTest);const k=n.get(T).envMap;if(k){b.envMap.value=k,b.flipEnvMap.value=k.isCubeTexture&&k.isRenderTargetTexture===!1?-1:1,b.reflectivity.value=T.reflectivity,b.ior.value=T.ior,b.refractionRatio.value=T.refractionRatio;const B=n.get(k).__maxMipLevel;B!==void 0&&(b.maxMipLevel.value=B)}T.lightMap&&(b.lightMap.value=T.lightMap,b.lightMapIntensity.value=T.lightMapIntensity),T.aoMap&&(b.aoMap.value=T.aoMap,b.aoMapIntensity.value=T.aoMapIntensity);let F;T.map?F=T.map:T.specularMap?F=T.specularMap:T.displacementMap?F=T.displacementMap:T.normalMap?F=T.normalMap:T.bumpMap?F=T.bumpMap:T.roughnessMap?F=T.roughnessMap:T.metalnessMap?F=T.metalnessMap:T.alphaMap?F=T.alphaMap:T.emissiveMap?F=T.emissiveMap:T.clearcoatMap?F=T.clearcoatMap:T.clearcoatNormalMap?F=T.clearcoatNormalMap:T.clearcoatRoughnessMap?F=T.clearcoatRoughnessMap:T.specularIntensityMap?F=T.specularIntensityMap:T.specularTintMap?F=T.specularTintMap:T.transmissionMap?F=T.transmissionMap:T.thicknessMap&&(F=T.thicknessMap),F!==void 0&&(F.isWebGLRenderTarget&&(F=F.texture),F.matrixAutoUpdate===!0&&F.updateMatrix(),b.uvTransform.value.copy(F.matrix));let R;T.aoMap?R=T.aoMap:T.lightMap&&(R=T.lightMap),R!==void 0&&(R.isWebGLRenderTarget&&(R=R.texture),R.matrixAutoUpdate===!0&&R.updateMatrix(),b.uv2Transform.value.copy(R.matrix))}function r(b,T){b.diffuse.value.copy(T.color),b.opacity.value=T.opacity}function s(b,T){b.dashSize.value=T.dashSize,b.totalSize.value=T.dashSize+T.gapSize,b.scale.value=T.scale}function o(b,T,k,F){b.diffuse.value.copy(T.color),b.opacity.value=T.opacity,b.size.value=T.size*k,b.scale.value=F*.5,T.map&&(b.map.value=T.map),T.alphaMap&&(b.alphaMap.value=T.alphaMap),T.alphaTest>0&&(b.alphaTest.value=T.alphaTest);let R;T.map?R=T.map:T.alphaMap&&(R=T.alphaMap),R!==void 0&&(R.matrixAutoUpdate===!0&&R.updateMatrix(),b.uvTransform.value.copy(R.matrix))}function u(b,T){b.diffuse.value.copy(T.color),b.opacity.value=T.opacity,b.rotation.value=T.rotation,T.map&&(b.map.value=T.map),T.alphaMap&&(b.alphaMap.value=T.alphaMap),T.alphaTest>0&&(b.alphaTest.value=T.alphaTest);let k;T.map?k=T.map:T.alphaMap&&(k=T.alphaMap),k!==void 0&&(k.matrixAutoUpdate===!0&&k.updateMatrix(),b.uvTransform.value.copy(k.matrix))}function h(b,T){T.emissiveMap&&(b.emissiveMap.value=T.emissiveMap)}function d(b,T){b.specular.value.copy(T.specular),b.shininess.value=Math.max(T.shininess,1e-4),T.emissiveMap&&(b.emissiveMap.value=T.emissiveMap),T.bumpMap&&(b.bumpMap.value=T.bumpMap,b.bumpScale.value=T.bumpScale,T.side===zn&&(b.bumpScale.value*=-1)),T.normalMap&&(b.normalMap.value=T.normalMap,b.normalScale.value.copy(T.normalScale),T.side===zn&&b.normalScale.value.negate()),T.displacementMap&&(b.displacementMap.value=T.displacementMap,b.displacementScale.value=T.displacementScale,b.displacementBias.value=T.displacementBias)}function p(b,T){T.gradientMap&&(b.gradientMap.value=T.gradientMap),T.emissiveMap&&(b.emissiveMap.value=T.emissiveMap),T.bumpMap&&(b.bumpMap.value=T.bumpMap,b.bumpScale.value=T.bumpScale,T.side===zn&&(b.bumpScale.value*=-1)),T.normalMap&&(b.normalMap.value=T.normalMap,b.normalScale.value.copy(T.normalScale),T.side===zn&&b.normalScale.value.negate()),T.displacementMap&&(b.displacementMap.value=T.displacementMap,b.displacementScale.value=T.displacementScale,b.displacementBias.value=T.displacementBias)}function g(b,T){b.roughness.value=T.roughness,b.metalness.value=T.metalness,T.roughnessMap&&(b.roughnessMap.value=T.roughnessMap),T.metalnessMap&&(b.metalnessMap.value=T.metalnessMap),T.emissiveMap&&(b.emissiveMap.value=T.emissiveMap),T.bumpMap&&(b.bumpMap.value=T.bumpMap,b.bumpScale.value=T.bumpScale,T.side===zn&&(b.bumpScale.value*=-1)),T.normalMap&&(b.normalMap.value=T.normalMap,b.normalScale.value.copy(T.normalScale),T.side===zn&&b.normalScale.value.negate()),T.displacementMap&&(b.displacementMap.value=T.displacementMap,b.displacementScale.value=T.displacementScale,b.displacementBias.value=T.displacementBias),n.get(T).envMap&&(b.envMapIntensity.value=T.envMapIntensity)}function _(b,T,k){g(b,T),b.ior.value=T.ior,T.sheenTint&&b.sheenTint.value.copy(T.sheenTint),T.clearcoat>0&&(b.clearcoat.value=T.clearcoat,b.clearcoatRoughness.value=T.clearcoatRoughness,T.clearcoatMap&&(b.clearcoatMap.value=T.clearcoatMap),T.clearcoatRoughnessMap&&(b.clearcoatRoughnessMap.value=T.clearcoatRoughnessMap),T.clearcoatNormalMap&&(b.clearcoatNormalScale.value.copy(T.clearcoatNormalScale),b.clearcoatNormalMap.value=T.clearcoatNormalMap,T.side===zn&&b.clearcoatNormalScale.value.negate())),T.transmission>0&&(b.transmission.value=T.transmission,b.transmissionSamplerMap.value=k.texture,b.transmissionSamplerSize.value.set(k.width,k.height),T.transmissionMap&&(b.transmissionMap.value=T.transmissionMap),b.thickness.value=T.thickness,T.thicknessMap&&(b.thicknessMap.value=T.thicknessMap),b.attenuationDistance.value=T.attenuationDistance,b.attenuationTint.value.copy(T.attenuationTint)),b.specularIntensity.value=T.specularIntensity,b.specularTint.value.copy(T.specularTint),T.specularIntensityMap&&(b.specularIntensityMap.value=T.specularIntensityMap),T.specularTintMap&&(b.specularTintMap.value=T.specularTintMap)}function y(b,T){T.matcap&&(b.matcap.value=T.matcap),T.bumpMap&&(b.bumpMap.value=T.bumpMap,b.bumpScale.value=T.bumpScale,T.side===zn&&(b.bumpScale.value*=-1)),T.normalMap&&(b.normalMap.value=T.normalMap,b.normalScale.value.copy(T.normalScale),T.side===zn&&b.normalScale.value.negate()),T.displacementMap&&(b.displacementMap.value=T.displacementMap,b.displacementScale.value=T.displacementScale,b.displacementBias.value=T.displacementBias)}function w(b,T){T.displacementMap&&(b.displacementMap.value=T.displacementMap,b.displacementScale.value=T.displacementScale,b.displacementBias.value=T.displacementBias)}function S(b,T){T.displacementMap&&(b.displacementMap.value=T.displacementMap,b.displacementScale.value=T.displacementScale,b.displacementBias.value=T.displacementBias),b.referencePosition.value.copy(T.referencePosition),b.nearDistance.value=T.nearDistance,b.farDistance.value=T.farDistance}function C(b,T){T.bumpMap&&(b.bumpMap.value=T.bumpMap,b.bumpScale.value=T.bumpScale,T.side===zn&&(b.bumpScale.value*=-1)),T.normalMap&&(b.normalMap.value=T.normalMap,b.normalScale.value.copy(T.normalScale),T.side===zn&&b.normalScale.value.negate()),T.displacementMap&&(b.displacementMap.value=T.displacementMap,b.displacementScale.value=T.displacementScale,b.displacementBias.value=T.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:t}}function b4(){const n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return n.style.display="block",n}function Jt(n={}){const e=n.canvas!==void 0?n.canvas:b4(),t=n.context!==void 0?n.context:null,i=n.alpha!==void 0?n.alpha:!1,r=n.depth!==void 0?n.depth:!0,s=n.stencil!==void 0?n.stencil:!0,o=n.antialias!==void 0?n.antialias:!1,u=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,h=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,d=n.powerPreference!==void 0?n.powerPreference:"default",p=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let g=null,_=null;const y=[],w=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Wi,this.physicallyCorrectLights=!1,this.toneMapping=Qa,this.toneMappingExposure=1;const S=this;let C=!1,b=0,T=0,k=null,F=-1,R=null;const B=new en,N=new en;let O=null,j=e.width,W=e.height,H=1,J=null,Y=null;const ee=new en(0,0,j,W),oe=new en(0,0,j,W);let ae=!1;const ne=[],K=new xm;let fe=!1,I=!1,G=null;const se=new yt,D=new ie,me={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ve(){return k===null?H:1}let te=t;function Ne($,ce){for(let ge=0;ge<$.length;ge++){const Ce=$[ge],Ve=e.getContext(Ce,ce);if(Ve!==null)return Ve}return null}try{const $={alpha:i,depth:r,stencil:s,antialias:o,premultipliedAlpha:u,preserveDrawingBuffer:h,powerPreference:d,failIfMajorPerformanceCaveat:p};if(e.addEventListener("webglcontextlost",At,!1),e.addEventListener("webglcontextrestored",Ot,!1),te===null){const ce=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&ce.shift(),te=Ne(ce,$),te===null)throw Ne(ce)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}te.getShaderPrecisionFormat===void 0&&(te.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch($){throw console.error("THREE.WebGLRenderer: "+$.message),$}let Pe,ke,ze,je,be,Re,De,We,Ie,X,Z,we,Ae,Ze,Ke,rt,Je,st,he,q,Le,Se,Fe;function Xe(){Pe=new GF(te),ke=new zF(te,Pe,n),Pe.init(ke),Se=new y4(te,Pe,ke),ze=new g4(te,Pe,ke),ne[0]=1029,je=new qF,be=new s4,Re=new _4(te,Pe,ze,be,ke,Se,je),De=new BF(S),We=new WF(S),Ie=new aO(te,ke),Fe=new NF(te,Pe,Ie,ke),X=new ZF(te,Ie,je,Fe),Z=new JF(te,X,Ie,je),he=new KF(te),rt=new FF(be),we=new r4(S,De,We,Pe,ke,Fe,rt),Ae=new w4(be),Ze=new a4(be),Ke=new f4(Pe,ke),st=new DF(S,De,ze,Z,u),Je=new uT(S,Z,ke),q=new OF(te,Pe,je,ke),Le=new $F(te,Pe,je,ke),je.programs=we.programs,S.capabilities=ke,S.extensions=Pe,S.properties=be,S.renderLists=Ze,S.shadowMap=Je,S.state=ze,S.info=je}Xe();const ut=new x4(S,te);this.xr=ut,this.getContext=function(){return te},this.getContextAttributes=function(){return te.getContextAttributes()},this.forceContextLoss=function(){const $=Pe.get("WEBGL_lose_context");$&&$.loseContext()},this.forceContextRestore=function(){const $=Pe.get("WEBGL_lose_context");$&&$.restoreContext()},this.getPixelRatio=function(){return H},this.setPixelRatio=function($){$!==void 0&&(H=$,this.setSize(j,W,!1))},this.getSize=function($){return $.set(j,W)},this.setSize=function($,ce,ge){if(ut.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}j=$,W=ce,e.width=Math.floor($*H),e.height=Math.floor(ce*H),ge!==!1&&(e.style.width=$+"px",e.style.height=ce+"px"),this.setViewport(0,0,$,ce)},this.getDrawingBufferSize=function($){return $.set(j*H,W*H).floor()},this.setDrawingBufferSize=function($,ce,ge){j=$,W=ce,H=ge,e.width=Math.floor($*ge),e.height=Math.floor(ce*ge),this.setViewport(0,0,$,ce)},this.getCurrentViewport=function($){return $.copy(B)},this.getViewport=function($){return $.copy(ee)},this.setViewport=function($,ce,ge,Ce){$.isVector4?ee.set($.x,$.y,$.z,$.w):ee.set($,ce,ge,Ce),ze.viewport(B.copy(ee).multiplyScalar(H).floor())},this.getScissor=function($){return $.copy(oe)},this.setScissor=function($,ce,ge,Ce){$.isVector4?oe.set($.x,$.y,$.z,$.w):oe.set($,ce,ge,Ce),ze.scissor(N.copy(oe).multiplyScalar(H).floor())},this.getScissorTest=function(){return ae},this.setScissorTest=function($){ze.setScissorTest(ae=$)},this.setOpaqueSort=function($){J=$},this.setTransparentSort=function($){Y=$},this.getClearColor=function($){return $.copy(st.getClearColor())},this.setClearColor=function(){st.setClearColor.apply(st,arguments)},this.getClearAlpha=function(){return st.getClearAlpha()},this.setClearAlpha=function(){st.setClearAlpha.apply(st,arguments)},this.clear=function($,ce,ge){let Ce=0;($===void 0||$)&&(Ce|=16384),(ce===void 0||ce)&&(Ce|=256),(ge===void 0||ge)&&(Ce|=1024),te.clear(Ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",At,!1),e.removeEventListener("webglcontextrestored",Ot,!1),Ze.dispose(),Ke.dispose(),be.dispose(),De.dispose(),We.dispose(),Z.dispose(),Fe.dispose(),ut.dispose(),ut.removeEventListener("sessionstart",Sn),ut.removeEventListener("sessionend",Tn),G&&(G.dispose(),G=null),Zi.stop()};function At($){$.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function Ot(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const $=je.autoReset,ce=Je.enabled,ge=Je.autoUpdate,Ce=Je.needsUpdate,Ve=Je.type;Xe(),je.autoReset=$,Je.enabled=ce,Je.autoUpdate=ge,Je.needsUpdate=Ce,Je.type=Ve}function _n($){const ce=$.target;ce.removeEventListener("dispose",_n),le(ce)}function le($){Be($),be.remove($)}function Be($){const ce=be.get($).programs;ce!==void 0&&ce.forEach(function(ge){we.releaseProgram(ge)})}function tt($,ce){$.render(function(ge){S.renderBufferImmediate(ge,ce)})}this.renderBufferImmediate=function($,ce){Fe.initAttributes();const ge=be.get($);$.hasPositions&&!ge.position&&(ge.position=te.createBuffer()),$.hasNormals&&!ge.normal&&(ge.normal=te.createBuffer()),$.hasUvs&&!ge.uv&&(ge.uv=te.createBuffer()),$.hasColors&&!ge.color&&(ge.color=te.createBuffer());const Ce=ce.getAttributes();$.hasPositions&&(te.bindBuffer(34962,ge.position),te.bufferData(34962,$.positionArray,35048),Fe.enableAttribute(Ce.position.location),te.vertexAttribPointer(Ce.position.location,3,5126,!1,0,0)),$.hasNormals&&(te.bindBuffer(34962,ge.normal),te.bufferData(34962,$.normalArray,35048),Fe.enableAttribute(Ce.normal.location),te.vertexAttribPointer(Ce.normal.location,3,5126,!1,0,0)),$.hasUvs&&(te.bindBuffer(34962,ge.uv),te.bufferData(34962,$.uvArray,35048),Fe.enableAttribute(Ce.uv.location),te.vertexAttribPointer(Ce.uv.location,2,5126,!1,0,0)),$.hasColors&&(te.bindBuffer(34962,ge.color),te.bufferData(34962,$.colorArray,35048),Fe.enableAttribute(Ce.color.location),te.vertexAttribPointer(Ce.color.location,3,5126,!1,0,0)),Fe.disableUnusedAttributes(),te.drawArrays(4,0,$.count),$.count=0},this.renderBufferDirect=function($,ce,ge,Ce,Ve,St){ce===null&&(ce=me);const dt=Ve.isMesh&&Ve.matrixWorld.determinant()<0,lt=oo($,ce,Ce,Ve);ze.setMaterial(Ce,dt);let xt=ge.index;const zt=ge.attributes.position;if(xt===null){if(zt===void 0||zt.count===0)return}else if(xt.count===0)return;let kt=1;Ce.wireframe===!0&&(xt=X.getWireframeAttribute(ge),kt=2),(ge.morphAttributes.position!==void 0||ge.morphAttributes.normal!==void 0)&&he.update(Ve,ge,Ce,lt),Fe.setup(Ve,Ce,lt,ge,xt);let It,_t=q;xt!==null&&(It=Ie.get(xt),_t=Le,_t.setIndex(It));const hr=xt!==null?xt.count:zt.count,nn=ge.drawRange.start*kt,dr=ge.drawRange.count*kt,Un=St!==null?St.start*kt:0,Vt=St!==null?St.count*kt:1/0,fr=Math.max(nn,Un),fn=Math.min(hr,nn+dr,Un+Vt)-1,wi=Math.max(0,fn-fr+1);if(wi!==0){if(Ve.isMesh)Ce.wireframe===!0?(ze.setLineWidth(Ce.wireframeLinewidth*ve()),_t.setMode(1)):_t.setMode(4);else if(Ve.isLine){let pn=Ce.linewidth;pn===void 0&&(pn=1),ze.setLineWidth(pn*ve()),Ve.isLineSegments?_t.setMode(1):Ve.isLineLoop?_t.setMode(2):_t.setMode(3)}else Ve.isPoints?_t.setMode(0):Ve.isSprite&&_t.setMode(4);if(Ve.isInstancedMesh)_t.renderInstances(fr,wi,Ve.count);else if(ge.isInstancedBufferGeometry){const pn=Math.min(ge.instanceCount,ge._maxInstanceCount);_t.renderInstances(fr,wi,pn)}else _t.render(fr,wi)}},this.compile=function($,ce){_=Ke.get($),_.init(),w.push(_),$.traverseVisible(function(ge){ge.isLight&&ge.layers.test(ce.layers)&&(_.pushLight(ge),ge.castShadow&&_.pushShadow(ge))}),_.setupLights(S.physicallyCorrectLights),$.traverse(function(ge){const Ce=ge.material;if(Ce)if(Array.isArray(Ce))for(let Ve=0;Ve<Ce.length;Ve++){const St=Ce[Ve];ii(St,$,ge)}else ii(Ce,$,ge)}),w.pop(),_=null};let Ct=null;function Qt($){Ct&&Ct($)}function Sn(){Zi.stop()}function Tn(){Zi.start()}const Zi=new XE;Zi.setAnimationLoop(Qt),typeof window<"u"&&Zi.setContext(window),this.setAnimationLoop=function($){Ct=$,ut.setAnimationLoop($),$===null?Zi.stop():Zi.start()},ut.addEventListener("sessionstart",Sn),ut.addEventListener("sessionend",Tn),this.render=function($,ce){if(ce!==void 0&&ce.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;$.autoUpdate===!0&&$.updateMatrixWorld(),ce.parent===null&&ce.updateMatrixWorld(),ut.enabled===!0&&ut.isPresenting===!0&&(ut.cameraAutoUpdate===!0&&ut.updateCamera(ce),ce=ut.getCamera()),$.isScene===!0&&$.onBeforeRender(S,$,ce,k),_=Ke.get($,w.length),_.init(),w.push(_),se.multiplyMatrices(ce.projectionMatrix,ce.matrixWorldInverse),K.setFromProjectionMatrix(se),I=this.localClippingEnabled,fe=rt.init(this.clippingPlanes,I,ce),g=Ze.get($,y.length),g.init(),y.push(g),ns($,ce,0,S.sortObjects),g.finish(),S.sortObjects===!0&&g.sort(J,Y),fe===!0&&rt.beginShadows();const ge=_.state.shadowsArray;if(Je.render(ge,$,ce),fe===!0&&rt.endShadows(),this.info.autoReset===!0&&this.info.reset(),st.render(g,$),_.setupLights(S.physicallyCorrectLights),ce.isArrayCamera){const Ce=ce.cameras;for(let Ve=0,St=Ce.length;Ve<St;Ve++){const dt=Ce[Ve];Yn(g,$,dt,dt.viewport)}}else Yn(g,$,ce);k!==null&&(Re.updateMultisampleRenderTarget(k),Re.updateRenderTargetMipmap(k)),$.isScene===!0&&$.onAfterRender(S,$,ce),ze.buffers.depth.setTest(!0),ze.buffers.depth.setMask(!0),ze.buffers.color.setMask(!0),ze.setPolygonOffset(!1),Fe.resetDefaultState(),F=-1,R=null,w.pop(),w.length>0?_=w[w.length-1]:_=null,y.pop(),y.length>0?g=y[y.length-1]:g=null};function ns($,ce,ge,Ce){if($.visible===!1)return;if($.layers.test(ce.layers)){if($.isGroup)ge=$.renderOrder;else if($.isLOD)$.autoUpdate===!0&&$.update(ce);else if($.isLight)_.pushLight($),$.castShadow&&_.pushShadow($);else if($.isSprite){if(!$.frustumCulled||K.intersectsSprite($)){Ce&&D.setFromMatrixPosition($.matrixWorld).applyMatrix4(se);const dt=Z.update($),lt=$.material;lt.visible&&g.push($,dt,lt,ge,D.z,null)}}else if($.isImmediateRenderObject)Ce&&D.setFromMatrixPosition($.matrixWorld).applyMatrix4(se),g.push($,null,$.material,ge,D.z,null);else if(($.isMesh||$.isLine||$.isPoints)&&($.isSkinnedMesh&&$.skeleton.frame!==je.render.frame&&($.skeleton.update(),$.skeleton.frame=je.render.frame),!$.frustumCulled||K.intersectsObject($))){Ce&&D.setFromMatrixPosition($.matrixWorld).applyMatrix4(se);const dt=Z.update($),lt=$.material;if(Array.isArray(lt)){const xt=dt.groups;for(let zt=0,kt=xt.length;zt<kt;zt++){const It=xt[zt],_t=lt[It.materialIndex];_t&&_t.visible&&g.push($,dt,_t,ge,D.z,It)}}else lt.visible&&g.push($,dt,lt,ge,D.z,null)}}const St=$.children;for(let dt=0,lt=St.length;dt<lt;dt++)ns(St[dt],ce,ge,Ce)}function Yn($,ce,ge,Ce){const Ve=$.opaque,St=$.transmissive,dt=$.transparent;_.setupLightsView(ge),St.length>0&&ni(Ve,ce,ge),Ce&&ze.viewport(B.copy(Ce)),Ve.length>0&&vi(Ve,ce,ge),St.length>0&&vi(St,ce,ge),dt.length>0&&vi(dt,ce,ge)}function ni($,ce,ge){if(G===null){const dt=o===!0&&ke.isWebGL2===!0?jE:Ts;G=new dt(1024,1024,{generateMipmaps:!0,type:Se.convert(ku)!==null?ku:Wu,minFilter:_m,magFilter:$n,wrapS:lr,wrapT:lr})}const Ce=S.getRenderTarget();S.setRenderTarget(G),S.clear();const Ve=S.toneMapping;S.toneMapping=Qa,vi($,ce,ge),S.toneMapping=Ve,Re.updateMultisampleRenderTarget(G),Re.updateRenderTargetMipmap(G),S.setRenderTarget(Ce)}function vi($,ce,ge){const Ce=ce.isScene===!0?ce.overrideMaterial:null;for(let Ve=0,St=$.length;Ve<St;Ve++){const dt=$[Ve],lt=dt.object,xt=dt.geometry,zt=Ce===null?dt.material:Ce,kt=dt.group;lt.layers.test(ge.layers)&&$i(lt,ce,ge,xt,zt,kt)}}function $i($,ce,ge,Ce,Ve,St){if($.onBeforeRender(S,ce,ge,Ce,Ve,St),$.modelViewMatrix.multiplyMatrices(ge.matrixWorldInverse,$.matrixWorld),$.normalMatrix.getNormalMatrix($.modelViewMatrix),$.isImmediateRenderObject){const dt=oo(ge,ce,Ve,$);ze.setMaterial(Ve),Fe.reset(),tt($,dt)}else Ve.transparent===!0&&Ve.side===il?(Ve.side=zn,Ve.needsUpdate=!0,S.renderBufferDirect(ge,ce,Ce,Ve,$,St),Ve.side=qh,Ve.needsUpdate=!0,S.renderBufferDirect(ge,ce,Ce,Ve,$,St),Ve.side=il):S.renderBufferDirect(ge,ce,Ce,Ve,$,St);$.onAfterRender(S,ce,ge,Ce,Ve,St)}function ii($,ce,ge){ce.isScene!==!0&&(ce=me);const Ce=be.get($),Ve=_.state.lights,St=_.state.shadowsArray,dt=Ve.state.version,lt=we.getParameters($,Ve.state,St,ce,ge),xt=we.getProgramCacheKey(lt);let zt=Ce.programs;Ce.environment=$.isMeshStandardMaterial?ce.environment:null,Ce.fog=ce.fog,Ce.envMap=($.isMeshStandardMaterial?We:De).get($.envMap||Ce.environment),zt===void 0&&($.addEventListener("dispose",_n),zt=new Map,Ce.programs=zt);let kt=zt.get(xt);if(kt!==void 0){if(Ce.currentProgram===kt&&Ce.lightsStateVersion===dt)return xi($,lt),kt}else lt.uniforms=we.getUniforms($),$.onBuild(lt,S),$.onBeforeCompile(lt,S),kt=we.acquireProgram(lt,xt),zt.set(xt,kt),Ce.uniforms=lt.uniforms;const It=Ce.uniforms;(!$.isShaderMaterial&&!$.isRawShaderMaterial||$.clipping===!0)&&(It.clippingPlanes=rt.uniform),xi($,lt),Ce.needsLights=uc($),Ce.lightsStateVersion=dt,Ce.needsLights&&(It.ambientLightColor.value=Ve.state.ambient,It.lightProbe.value=Ve.state.probe,It.directionalLights.value=Ve.state.directional,It.directionalLightShadows.value=Ve.state.directionalShadow,It.spotLights.value=Ve.state.spot,It.spotLightShadows.value=Ve.state.spotShadow,It.rectAreaLights.value=Ve.state.rectArea,It.ltc_1.value=Ve.state.rectAreaLTC1,It.ltc_2.value=Ve.state.rectAreaLTC2,It.pointLights.value=Ve.state.point,It.pointLightShadows.value=Ve.state.pointShadow,It.hemisphereLights.value=Ve.state.hemi,It.directionalShadowMap.value=Ve.state.directionalShadowMap,It.directionalShadowMatrix.value=Ve.state.directionalShadowMatrix,It.spotShadowMap.value=Ve.state.spotShadowMap,It.spotShadowMatrix.value=Ve.state.spotShadowMatrix,It.pointShadowMap.value=Ve.state.pointShadowMap,It.pointShadowMatrix.value=Ve.state.pointShadowMatrix);const _t=kt.getUniforms(),hr=ia.seqWithValue(_t.seq,It);return Ce.currentProgram=kt,Ce.uniformsList=hr,kt}function xi($,ce){const ge=be.get($);ge.outputEncoding=ce.outputEncoding,ge.instancing=ce.instancing,ge.skinning=ce.skinning,ge.morphTargets=ce.morphTargets,ge.morphNormals=ce.morphNormals,ge.numClippingPlanes=ce.numClippingPlanes,ge.numIntersection=ce.numClipIntersection,ge.vertexAlphas=ce.vertexAlphas,ge.vertexTangents=ce.vertexTangents}function oo($,ce,ge,Ce){ce.isScene!==!0&&(ce=me),Re.resetTextureUnits();const Ve=ce.fog,St=ge.isMeshStandardMaterial?ce.environment:null,dt=k===null?S.outputEncoding:k.texture.encoding,lt=(ge.isMeshStandardMaterial?We:De).get(ge.envMap||St),xt=ge.vertexColors===!0&&!!Ce.geometry&&!!Ce.geometry.attributes.color&&Ce.geometry.attributes.color.itemSize===4,zt=!!Ce.geometry&&!!Ce.geometry.attributes.tangent,kt=!!Ce.geometry&&!!Ce.geometry.morphAttributes.position,It=!!Ce.geometry&&!!Ce.geometry.morphAttributes.normal,_t=be.get(ge),hr=_.state.lights;if(fe===!0&&(I===!0||$!==R)){const pn=$===R&&ge.id===F;rt.setState(ge,$,pn)}let nn=!1;ge.version===_t.__version?(_t.needsLights&&_t.lightsStateVersion!==hr.state.version||_t.outputEncoding!==dt||Ce.isInstancedMesh&&_t.instancing===!1||!Ce.isInstancedMesh&&_t.instancing===!0||Ce.isSkinnedMesh&&_t.skinning===!1||!Ce.isSkinnedMesh&&_t.skinning===!0||_t.envMap!==lt||ge.fog&&_t.fog!==Ve||_t.numClippingPlanes!==void 0&&(_t.numClippingPlanes!==rt.numPlanes||_t.numIntersection!==rt.numIntersection)||_t.vertexAlphas!==xt||_t.vertexTangents!==zt||_t.morphTargets!==kt||_t.morphNormals!==It)&&(nn=!0):(nn=!0,_t.__version=ge.version);let dr=_t.currentProgram;nn===!0&&(dr=ii(ge,ce,Ce));let Un=!1,Vt=!1,fr=!1;const fn=dr.getUniforms(),wi=_t.uniforms;if(ze.useProgram(dr.program)&&(Un=!0,Vt=!0,fr=!0),ge.id!==F&&(F=ge.id,Vt=!0),Un||R!==$){if(fn.setValue(te,"projectionMatrix",$.projectionMatrix),ke.logarithmicDepthBuffer&&fn.setValue(te,"logDepthBufFC",2/(Math.log($.far+1)/Math.LN2)),R!==$&&(R=$,Vt=!0,fr=!0),ge.isShaderMaterial||ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshStandardMaterial||ge.envMap){const pn=fn.map.cameraPosition;pn!==void 0&&pn.setValue(te,D.setFromMatrixPosition($.matrixWorld))}(ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshLambertMaterial||ge.isMeshBasicMaterial||ge.isMeshStandardMaterial||ge.isShaderMaterial)&&fn.setValue(te,"isOrthographic",$.isOrthographicCamera===!0),(ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshLambertMaterial||ge.isMeshBasicMaterial||ge.isMeshStandardMaterial||ge.isShaderMaterial||ge.isShadowMaterial||Ce.isSkinnedMesh)&&fn.setValue(te,"viewMatrix",$.matrixWorldInverse)}if(Ce.isSkinnedMesh){fn.setOptional(te,Ce,"bindMatrix"),fn.setOptional(te,Ce,"bindMatrixInverse");const pn=Ce.skeleton;pn&&(ke.floatVertexTextures?(pn.boneTexture===null&&pn.computeBoneTexture(),fn.setValue(te,"boneTexture",pn.boneTexture,Re),fn.setValue(te,"boneTextureSize",pn.boneTextureSize)):fn.setOptional(te,pn,"boneMatrices"))}return(Vt||_t.receiveShadow!==Ce.receiveShadow)&&(_t.receiveShadow=Ce.receiveShadow,fn.setValue(te,"receiveShadow",Ce.receiveShadow)),Vt&&(fn.setValue(te,"toneMappingExposure",S.toneMappingExposure),_t.needsLights&&As(wi,fr),Ve&&ge.fog&&Ae.refreshFogUniforms(wi,Ve),Ae.refreshMaterialUniforms(wi,ge,H,W,G),ia.upload(te,_t.uniformsList,wi,Re)),ge.isShaderMaterial&&ge.uniformsNeedUpdate===!0&&(ia.upload(te,_t.uniformsList,wi,Re),ge.uniformsNeedUpdate=!1),ge.isSpriteMaterial&&fn.setValue(te,"center",Ce.center),fn.setValue(te,"modelViewMatrix",Ce.modelViewMatrix),fn.setValue(te,"normalMatrix",Ce.normalMatrix),fn.setValue(te,"modelMatrix",Ce.matrixWorld),dr}function As($,ce){$.ambientLightColor.needsUpdate=ce,$.lightProbe.needsUpdate=ce,$.directionalLights.needsUpdate=ce,$.directionalLightShadows.needsUpdate=ce,$.pointLights.needsUpdate=ce,$.pointLightShadows.needsUpdate=ce,$.spotLights.needsUpdate=ce,$.spotLightShadows.needsUpdate=ce,$.rectAreaLights.needsUpdate=ce,$.hemisphereLights.needsUpdate=ce}function uc($){return $.isMeshLambertMaterial||$.isMeshToonMaterial||$.isMeshPhongMaterial||$.isMeshStandardMaterial||$.isShadowMaterial||$.isShaderMaterial&&$.lights===!0}this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return k},this.setRenderTarget=function($,ce=0,ge=0){k=$,b=ce,T=ge,$&&be.get($).__webglFramebuffer===void 0&&Re.setupRenderTarget($);let Ce=null,Ve=!1,St=!1;if($){const lt=$.texture;(lt.isDataTexture3D||lt.isDataTexture2DArray)&&(St=!0);const xt=be.get($).__webglFramebuffer;$.isWebGLCubeRenderTarget?(Ce=xt[ce],Ve=!0):$.isWebGLMultisampleRenderTarget?Ce=be.get($).__webglMultisampledFramebuffer:Ce=xt,B.copy($.viewport),N.copy($.scissor),O=$.scissorTest}else B.copy(ee).multiplyScalar(H).floor(),N.copy(oe).multiplyScalar(H).floor(),O=ae;if(ze.bindFramebuffer(36160,Ce)&&ke.drawBuffers){let lt=!1;if($)if($.isWebGLMultipleRenderTargets){const xt=$.texture;if(ne.length!==xt.length||ne[0]!==36064){for(let zt=0,kt=xt.length;zt<kt;zt++)ne[zt]=36064+zt;ne.length=xt.length,lt=!0}}else(ne.length!==1||ne[0]!==36064)&&(ne[0]=36064,ne.length=1,lt=!0);else(ne.length!==1||ne[0]!==1029)&&(ne[0]=1029,ne.length=1,lt=!0);lt&&(ke.isWebGL2?te.drawBuffers(ne):Pe.get("WEBGL_draw_buffers").drawBuffersWEBGL(ne))}if(ze.viewport(B),ze.scissor(N),ze.setScissorTest(O),Ve){const lt=be.get($.texture);te.framebufferTexture2D(36160,36064,34069+ce,lt.__webglTexture,ge)}else if(St){const lt=be.get($.texture),xt=ce||0;te.framebufferTextureLayer(36160,36064,lt.__webglTexture,ge||0,xt)}F=-1},this.readRenderTargetPixels=function($,ce,ge,Ce,Ve,St,dt){if(!($&&$.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let lt=be.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&dt!==void 0&&(lt=lt[dt]),lt){ze.bindFramebuffer(36160,lt);try{const xt=$.texture,zt=xt.format,kt=xt.type;if(zt!==cr&&Se.convert(zt)!==te.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const It=kt===ku&&(Pe.has("EXT_color_buffer_half_float")||ke.isWebGL2&&Pe.has("EXT_color_buffer_float"));if(kt!==Wu&&Se.convert(kt)!==te.getParameter(35738)&&!(kt===Ga&&(ke.isWebGL2||Pe.has("OES_texture_float")||Pe.has("WEBGL_color_buffer_float")))&&!It){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}te.checkFramebufferStatus(36160)===36053?ce>=0&&ce<=$.width-Ce&&ge>=0&&ge<=$.height-Ve&&te.readPixels(ce,ge,Ce,Ve,Se.convert(zt),Se.convert(kt),St):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const xt=k!==null?be.get(k).__webglFramebuffer:null;ze.bindFramebuffer(36160,xt)}}},this.copyFramebufferToTexture=function($,ce,ge=0){const Ce=Math.pow(2,-ge),Ve=Math.floor(ce.image.width*Ce),St=Math.floor(ce.image.height*Ce);let dt=Se.convert(ce.format);ke.isWebGL2&&(dt===6407&&(dt=32849),dt===6408&&(dt=32856)),Re.setTexture2D(ce,0),te.copyTexImage2D(3553,ge,dt,$.x,$.y,Ve,St,0),ze.unbindTexture()},this.copyTextureToTexture=function($,ce,ge,Ce=0){const Ve=ce.image.width,St=ce.image.height,dt=Se.convert(ge.format),lt=Se.convert(ge.type);Re.setTexture2D(ge,0),te.pixelStorei(37440,ge.flipY),te.pixelStorei(37441,ge.premultiplyAlpha),te.pixelStorei(3317,ge.unpackAlignment),ce.isDataTexture?te.texSubImage2D(3553,Ce,$.x,$.y,Ve,St,dt,lt,ce.image.data):ce.isCompressedTexture?te.compressedTexSubImage2D(3553,Ce,$.x,$.y,ce.mipmaps[0].width,ce.mipmaps[0].height,dt,ce.mipmaps[0].data):te.texSubImage2D(3553,Ce,$.x,$.y,dt,lt,ce.image),Ce===0&&ge.generateMipmaps&&te.generateMipmap(3553),ze.unbindTexture()},this.copyTextureToTexture3D=function($,ce,ge,Ce,Ve=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const St=$.max.x-$.min.x+1,dt=$.max.y-$.min.y+1,lt=$.max.z-$.min.z+1,xt=Se.convert(Ce.format),zt=Se.convert(Ce.type);let kt;if(Ce.isDataTexture3D)Re.setTexture3D(Ce,0),kt=32879;else if(Ce.isDataTexture2DArray)Re.setTexture2DArray(Ce,0),kt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}te.pixelStorei(37440,Ce.flipY),te.pixelStorei(37441,Ce.premultiplyAlpha),te.pixelStorei(3317,Ce.unpackAlignment);const It=te.getParameter(3314),_t=te.getParameter(32878),hr=te.getParameter(3316),nn=te.getParameter(3315),dr=te.getParameter(32877),Un=ge.isCompressedTexture?ge.mipmaps[0]:ge.image;te.pixelStorei(3314,Un.width),te.pixelStorei(32878,Un.height),te.pixelStorei(3316,$.min.x),te.pixelStorei(3315,$.min.y),te.pixelStorei(32877,$.min.z),ge.isDataTexture||ge.isDataTexture3D?te.texSubImage3D(kt,Ve,ce.x,ce.y,ce.z,St,dt,lt,xt,zt,Un.data):ge.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),te.compressedTexSubImage3D(kt,Ve,ce.x,ce.y,ce.z,St,dt,lt,xt,Un.data)):te.texSubImage3D(kt,Ve,ce.x,ce.y,ce.z,St,dt,lt,xt,zt,Un),te.pixelStorei(3314,It),te.pixelStorei(32878,_t),te.pixelStorei(3316,hr),te.pixelStorei(3315,nn),te.pixelStorei(32877,dr),Ve===0&&Ce.generateMipmaps&&te.generateMipmap(kt),ze.unbindTexture()},this.initTexture=function($){Re.setTexture2D($,0),ze.unbindTexture()},this.resetState=function(){b=0,T=0,k=null,ze.reset(),Fe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class S4 extends Jt{}S4.prototype.isWebGL1Renderer=!0;class Bv extends Zt{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}Bv.prototype.isScene=!0;class dd{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Yh,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=es()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=es()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=es()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}dd.prototype.isInterleavedBuffer=!0;const Cn=new ie;class Jh{constructor(e,t,i,r=!1){this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Cn.x=this.getX(t),Cn.y=this.getY(t),Cn.z=this.getZ(t),Cn.applyMatrix4(e),this.setXYZ(t,Cn.x,Cn.y,Cn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Cn.x=this.getX(t),Cn.y=this.getY(t),Cn.z=this.getZ(t),Cn.applyNormalMatrix(e),this.setXYZ(t,Cn.x,Cn.y,Cn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Cn.x=this.getX(t),Cn.y=this.getY(t),Cn.z=this.getZ(t),Cn.transformDirection(e),this.setXYZ(t,Cn.x,Cn.y,Cn.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Bn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Jh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Jh.prototype.isInterleavedBufferAttribute=!0;class hT extends _i{constructor(e){super(),this.type="SpriteMaterial",this.color=new ht(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}hT.prototype.isSpriteMaterial=!0;let _u;const lh=new ie,yu=new ie,vu=new ie,xu=new $e,uh=new $e,dT=new yt,ap=new ie,ch=new ie,lp=new ie,CS=new $e,G_=new $e,PS=new $e;class M4 extends Zt{constructor(e){if(super(),this.type="Sprite",_u===void 0){_u=new tn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new dd(t,5);_u.setIndex([0,1,2,0,2,3]),_u.setAttribute("position",new Jh(i,3,0,!1)),_u.setAttribute("uv",new Jh(i,2,3,!1))}this.geometry=_u,this.material=e!==void 0?e:new hT,this.center=new $e(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),yu.setFromMatrixScale(this.matrixWorld),dT.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),vu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&yu.multiplyScalar(-vu.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;up(ap.set(-.5,-.5,0),vu,o,yu,r,s),up(ch.set(.5,-.5,0),vu,o,yu,r,s),up(lp.set(.5,.5,0),vu,o,yu,r,s),CS.set(0,0),G_.set(1,0),PS.set(1,1);let u=e.ray.intersectTriangle(ap,ch,lp,!1,lh);if(u===null&&(up(ch.set(-.5,.5,0),vu,o,yu,r,s),G_.set(0,1),u=e.ray.intersectTriangle(ap,lp,ch,!1,lh),u===null))return;const h=e.ray.origin.distanceTo(lh);h<e.near||h>e.far||t.push({distance:h,point:lh.clone(),uv:Fn.getUV(lh,ap,ch,lp,CS,G_,PS,new $e),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}M4.prototype.isSprite=!0;function up(n,e,t,i,r,s){xu.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(uh.x=s*xu.x-r*xu.y,uh.y=r*xu.x+s*xu.y):uh.copy(xu),n.copy(e),n.x+=uh.x,n.y+=uh.y,n.applyMatrix4(dT)}const AS=new ie,kS=new en,RS=new en,E4=new ie,IS=new yt;class fT extends Ci{constructor(e,t){super(e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new yt,this.bindMatrixInverse=new yt}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new en,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.w=t.getW(i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;kS.fromBufferAttribute(r.attributes.skinIndex,e),RS.fromBufferAttribute(r.attributes.skinWeight,e),AS.fromBufferAttribute(r.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=RS.getComponent(s);if(o!==0){const u=kS.getComponent(s);IS.multiplyMatrices(i.bones[u].matrixWorld,i.boneInverses[u]),t.addScaledVector(E4.copy(AS).applyMatrix4(IS),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}fT.prototype.isSkinnedMesh=!0;class T4 extends Zt{constructor(){super(),this.type="Bone"}}T4.prototype.isBone=!0;class L4 extends ti{constructor(e=null,t=1,i=1,r,s,o,u,h,d=$n,p=$n,g,_){super(null,o,u,h,d,p,r,s,g,_),this.image={data:e,width:t,height:i},this.magFilter=d,this.minFilter=p,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}L4.prototype.isDataTexture=!0;class Uy extends Bn{constructor(e,t,i,r=1){typeof i=="number"&&(r=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,i),this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}Uy.prototype.isInstancedBufferAttribute=!0;const DS=new yt,NS=new yt,cp=[],hh=new Ci;class C4 extends Ci{constructor(e,t,i){super(e,t),this.instanceMatrix=new Uy(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(hh.geometry=this.geometry,hh.material=this.material,hh.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,DS),NS.multiplyMatrices(i,DS),hh.matrixWorld=NS,hh.raycast(e,cp);for(let o=0,u=cp.length;o<u;o++){const h=cp[o];h.instanceId=s,h.object=this,t.push(h)}cp.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Uy(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}C4.prototype.isInstancedMesh=!0;class rc extends _i{constructor(e){super(),this.type="LineBasicMaterial",this.color=new ht(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}rc.prototype.isLineBasicMaterial=!0;const OS=new ie,zS=new ie,FS=new yt,Z_=new cl,hp=new tc;class Uv extends Zt{constructor(e=new tn,t=new rc){super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)OS.fromBufferAttribute(t,r-1),zS.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=OS.distanceTo(zS);e.setAttribute("lineDistance",new Xn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),hp.copy(i.boundingSphere),hp.applyMatrix4(r),hp.radius+=s,e.ray.intersectsSphere(hp)===!1)return;FS.copy(r).invert(),Z_.copy(e.ray).applyMatrix4(FS);const u=s/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,d=new ie,p=new ie,g=new ie,_=new ie,y=this.isLineSegments?2:1;if(i.isBufferGeometry){const w=i.index,C=i.attributes.position;if(w!==null){const b=Math.max(0,o.start),T=Math.min(w.count,o.start+o.count);for(let k=b,F=T-1;k<F;k+=y){const R=w.getX(k),B=w.getX(k+1);if(d.fromBufferAttribute(C,R),p.fromBufferAttribute(C,B),Z_.distanceSqToSegment(d,p,_,g)>h)continue;_.applyMatrix4(this.matrixWorld);const O=e.ray.origin.distanceTo(_);O<e.near||O>e.far||t.push({distance:O,point:g.clone().applyMatrix4(this.matrixWorld),index:k,face:null,faceIndex:null,object:this})}}else{const b=Math.max(0,o.start),T=Math.min(C.count,o.start+o.count);for(let k=b,F=T-1;k<F;k+=y){if(d.fromBufferAttribute(C,k),p.fromBufferAttribute(C,k+1),Z_.distanceSqToSegment(d,p,_,g)>h)continue;_.applyMatrix4(this.matrixWorld);const B=e.ray.origin.distanceTo(_);B<e.near||B>e.far||t.push({distance:B,point:g.clone().applyMatrix4(this.matrixWorld),index:k,face:null,faceIndex:null,object:this})}}}else i.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const u=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Uv.prototype.isLine=!0;const BS=new ie,US=new ie;class Hv extends Uv{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)BS.fromBufferAttribute(t,r),US.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+BS.distanceTo(US);e.setAttribute("lineDistance",new Xn(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Hv.prototype.isLineSegments=!0;class Hy extends Uv{constructor(e,t){super(e,t),this.type="LineLoop"}}Hy.prototype.isLineLoop=!0;class pT extends _i{constructor(e){super(),this.type="PointsMaterial",this.color=new ht(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}pT.prototype.isPointsMaterial=!0;const HS=new yt,Vy=new cl,dp=new tc,fp=new ie;class P4 extends Zt{constructor(e=new tn,t=new pT){super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),dp.copy(i.boundingSphere),dp.applyMatrix4(r),dp.radius+=s,e.ray.intersectsSphere(dp)===!1)return;HS.copy(r).invert(),Vy.copy(e.ray).applyMatrix4(HS);const u=s/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u;if(i.isBufferGeometry){const d=i.index,g=i.attributes.position;if(d!==null){const _=Math.max(0,o.start),y=Math.min(d.count,o.start+o.count);for(let w=_,S=y;w<S;w++){const C=d.getX(w);fp.fromBufferAttribute(g,C),VS(fp,C,h,r,e,t,this)}}else{const _=Math.max(0,o.start),y=Math.min(g.count,o.start+o.count);for(let w=_,S=y;w<S;w++)fp.fromBufferAttribute(g,w),VS(fp,w,h,r,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const u=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}P4.prototype.isPoints=!0;function VS(n,e,t,i,r,s,o){const u=Vy.distanceSqToPoint(n);if(u<t){const h=new ie;Vy.closestPointToPoint(n,h),h.applyMatrix4(i);const d=r.ray.origin.distanceTo(h);if(d<r.near||d>r.far)return;s.push({distance:d,distanceToRay:Math.sqrt(u),point:h,index:e,face:null,object:o})}}class A4 extends ti{constructor(e,t,i,r,s,o,u,h,d){super(e,t,i,r,s,o,u,h,d),this.format=u!==void 0?u:ta,this.minFilter=o!==void 0?o:kr,this.magFilter=s!==void 0?s:kr,this.generateMipmaps=!1;const p=this;function g(){p.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}A4.prototype.isVideoTexture=!0;class k4 extends ti{constructor(e,t,i,r,s,o,u,h,d,p,g,_){super(null,o,u,h,d,p,r,s,g,_),this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}k4.prototype.isCompressedTexture=!0;class R4 extends ti{constructor(e,t,i,r,s,o,u,h,d){super(e,t,i,r,s,o,u,h,d),this.needsUpdate=!0}}R4.prototype.isCanvasTexture=!0;class I4 extends ti{constructor(e,t,i,r,s,o,u,h,d,p){if(p=p!==void 0?p:Ru,p!==Ru&&p!==Xh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&p===Ru&&(i=Vp),i===void 0&&p===Xh&&(i=Dh),super(null,r,s,o,u,h,p,i,d),this.image={width:e,height:t},this.magFilter=u!==void 0?u:$n,this.minFilter=h!==void 0?h:$n,this.flipY=!1,this.generateMipmaps=!1}}I4.prototype.isDepthTexture=!0;class Dr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let u=0,h=s-1,d;for(;u<=h;)if(r=Math.floor(u+(h-u)/2),d=i[r]-o,d<0)u=r+1;else if(d>0)h=r-1;else{h=r;break}if(r=h,i[r]===o)return r/(s-1);const p=i[r],_=i[r+1]-p,y=(o-p)/_;return(r+y)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),u=this.getPoint(s),h=t||(o.isVector2?new $e:new ie);return h.copy(u).sub(o).normalize(),h}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new ie,r=[],s=[],o=[],u=new ie,h=new yt;for(let y=0;y<=e;y++){const w=y/e;r[y]=this.getTangentAt(w,new ie),r[y].normalize()}s[0]=new ie,o[0]=new ie;let d=Number.MAX_VALUE;const p=Math.abs(r[0].x),g=Math.abs(r[0].y),_=Math.abs(r[0].z);p<=d&&(d=p,i.set(1,0,0)),g<=d&&(d=g,i.set(0,1,0)),_<=d&&i.set(0,0,1),u.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],u),o[0].crossVectors(r[0],s[0]);for(let y=1;y<=e;y++){if(s[y]=s[y-1].clone(),o[y]=o[y-1].clone(),u.crossVectors(r[y-1],r[y]),u.length()>Number.EPSILON){u.normalize();const w=Math.acos(Li(r[y-1].dot(r[y]),-1,1));s[y].applyMatrix4(h.makeRotationAxis(u,w))}o[y].crossVectors(r[y],s[y])}if(t===!0){let y=Math.acos(Li(s[0].dot(s[e]),-1,1));y/=e,r[0].dot(u.crossVectors(s[0],s[e]))>0&&(y=-y);for(let w=1;w<=e;w++)s[w].applyMatrix4(h.makeRotationAxis(r[w],y*w)),o[w].crossVectors(r[w],s[w])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class bm extends Dr{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,u=!1,h=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=u,this.aRotation=h}getPoint(e,t){const i=t||new $e,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const u=this.aStartAngle+e*s;let h=this.aX+this.xRadius*Math.cos(u),d=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const p=Math.cos(this.aRotation),g=Math.sin(this.aRotation),_=h-this.aX,y=d-this.aY;h=_*p-y*g+this.aX,d=_*g+y*p+this.aY}return i.set(h,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}bm.prototype.isEllipseCurve=!0;class mT extends bm{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.type="ArcCurve"}}mT.prototype.isArcCurve=!0;function Vv(){let n=0,e=0,t=0,i=0;function r(s,o,u,h){n=s,e=u,t=-3*s+3*o-2*u-h,i=2*s-2*o+u+h}return{initCatmullRom:function(s,o,u,h,d){r(o,u,d*(u-s),d*(h-o))},initNonuniformCatmullRom:function(s,o,u,h,d,p,g){let _=(o-s)/d-(u-s)/(d+p)+(u-o)/p,y=(u-o)/p-(h-o)/(p+g)+(h-u)/g;_*=p,y*=p,r(o,u,_,y)},calc:function(s){const o=s*s,u=o*s;return n+e*s+t*o+i*u}}}const pp=new ie,$_=new Vv,q_=new Vv,X_=new Vv;class gT extends Dr{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new ie){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let u=Math.floor(o),h=o-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/s)+1)*s:h===0&&u===s-1&&(u=s-2,h=1);let d,p;this.closed||u>0?d=r[(u-1)%s]:(pp.subVectors(r[0],r[1]).add(r[0]),d=pp);const g=r[u%s],_=r[(u+1)%s];if(this.closed||u+2<s?p=r[(u+2)%s]:(pp.subVectors(r[s-1],r[s-2]).add(r[s-1]),p=pp),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let w=Math.pow(d.distanceToSquared(g),y),S=Math.pow(g.distanceToSquared(_),y),C=Math.pow(_.distanceToSquared(p),y);S<1e-4&&(S=1),w<1e-4&&(w=S),C<1e-4&&(C=S),$_.initNonuniformCatmullRom(d.x,g.x,_.x,p.x,w,S,C),q_.initNonuniformCatmullRom(d.y,g.y,_.y,p.y,w,S,C),X_.initNonuniformCatmullRom(d.z,g.z,_.z,p.z,w,S,C)}else this.curveType==="catmullrom"&&($_.initCatmullRom(d.x,g.x,_.x,p.x,this.tension),q_.initCatmullRom(d.y,g.y,_.y,p.y,this.tension),X_.initCatmullRom(d.z,g.z,_.z,p.z,this.tension));return i.set($_.calc(h),q_.calc(h),X_.calc(h)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ie().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}gT.prototype.isCatmullRomCurve3=!0;function jS(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,u=n*n,h=n*u;return(2*t-2*i+s+o)*h+(-3*t+3*i-2*s-o)*u+s*n+t}function D4(n,e){const t=1-n;return t*t*e}function N4(n,e){return 2*(1-n)*n*e}function O4(n,e){return n*n*e}function zh(n,e,t,i){return D4(n,e)+N4(n,t)+O4(n,i)}function z4(n,e){const t=1-n;return t*t*t*e}function F4(n,e){const t=1-n;return 3*t*t*n*e}function B4(n,e){return 3*(1-n)*n*n*e}function U4(n,e){return n*n*n*e}function Fh(n,e,t,i,r){return z4(n,e)+F4(n,t)+B4(n,i)+U4(n,r)}class jv extends Dr{constructor(e=new $e,t=new $e,i=new $e,r=new $e){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new $e){const i=t,r=this.v0,s=this.v1,o=this.v2,u=this.v3;return i.set(Fh(e,r.x,s.x,o.x,u.x),Fh(e,r.y,s.y,o.y,u.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}jv.prototype.isCubicBezierCurve=!0;class _T extends Dr{constructor(e=new ie,t=new ie,i=new ie,r=new ie){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ie){const i=t,r=this.v0,s=this.v1,o=this.v2,u=this.v3;return i.set(Fh(e,r.x,s.x,o.x,u.x),Fh(e,r.y,s.y,o.y,u.y),Fh(e,r.z,s.z,o.z,u.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}_T.prototype.isCubicBezierCurve3=!0;class Sm extends Dr{constructor(e=new $e,t=new $e){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new $e){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new $e;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Sm.prototype.isLineCurve=!0;class H4 extends Dr{constructor(e=new ie,t=new ie){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new ie){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Wv extends Dr{constructor(e=new $e,t=new $e,i=new $e){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new $e){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(zh(e,r.x,s.x,o.x),zh(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Wv.prototype.isQuadraticBezierCurve=!0;class yT extends Dr{constructor(e=new ie,t=new ie,i=new ie){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ie){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(zh(e,r.x,s.x,o.x),zh(e,r.y,s.y,o.y),zh(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}yT.prototype.isQuadraticBezierCurve3=!0;class Gv extends Dr{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new $e){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),u=s-o,h=r[o===0?o:o-1],d=r[o],p=r[o>r.length-2?r.length-1:o+1],g=r[o>r.length-3?r.length-1:o+2];return i.set(jS(u,h.x,d.x,p.x,g.x),jS(u,h.y,d.y,p.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new $e().fromArray(r))}return this}}Gv.prototype.isSplineCurve=!0;var vT=Object.freeze({__proto__:null,ArcCurve:mT,CatmullRomCurve3:gT,CubicBezierCurve:jv,CubicBezierCurve3:_T,EllipseCurve:bm,LineCurve:Sm,LineCurve3:H4,QuadraticBezierCurve:Wv,QuadraticBezierCurve3:yT,SplineCurve:Gv});const V4={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=xT(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let u,h,d,p,g,_,y;if(i&&(s=$4(n,e,s,t)),n.length>80*t){u=d=n[0],h=p=n[1];for(let w=t;w<r;w+=t)g=n[w],_=n[w+1],g<u&&(u=g),_<h&&(h=_),g>d&&(d=g),_>p&&(p=_);y=Math.max(d-u,p-h),y=y!==0?1/y:0}return Qh(s,o,t,u,h,y),o}};function xT(n,e,t,i,r){let s,o;if(r===r5(n,e,t,i)>0)for(s=e;s<t;s+=i)o=WS(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=WS(s,n[s],n[s+1],o);return o&&Mm(o,o.next)&&(td(o),o=o.next),o}function oa(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Mm(t,t.next)||wn(t.prev,t,t.next)===0)){if(td(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Qh(n,e,t,i,r,s,o){if(!n)return;!o&&s&&J4(n,i,r,s);let u=n,h,d;for(;n.prev!==n.next;){if(h=n.prev,d=n.next,s?W4(n,i,r,s):j4(n)){e.push(h.i/t),e.push(n.i/t),e.push(d.i/t),td(n),n=d.next,u=d.next;continue}if(n=d,n===u){o?o===1?(n=G4(oa(n),e,t),Qh(n,e,t,i,r,s,2)):o===2&&Z4(n,e,t,i,r,s):Qh(oa(n),e,t,i,r,s,1);break}}}function j4(n){const e=n.prev,t=n,i=n.next;if(wn(e,t,i)>=0)return!1;let r=n.next.next;for(;r!==n.prev;){if(Cu(e.x,e.y,t.x,t.y,i.x,i.y,r.x,r.y)&&wn(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function W4(n,e,t,i){const r=n.prev,s=n,o=n.next;if(wn(r,s,o)>=0)return!1;const u=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,h=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,d=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,p=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,g=jy(u,h,e,t,i),_=jy(d,p,e,t,i);let y=n.prevZ,w=n.nextZ;for(;y&&y.z>=g&&w&&w.z<=_;){if(y!==n.prev&&y!==n.next&&Cu(r.x,r.y,s.x,s.y,o.x,o.y,y.x,y.y)&&wn(y.prev,y,y.next)>=0||(y=y.prevZ,w!==n.prev&&w!==n.next&&Cu(r.x,r.y,s.x,s.y,o.x,o.y,w.x,w.y)&&wn(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;y&&y.z>=g;){if(y!==n.prev&&y!==n.next&&Cu(r.x,r.y,s.x,s.y,o.x,o.y,y.x,y.y)&&wn(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;w&&w.z<=_;){if(w!==n.prev&&w!==n.next&&Cu(r.x,r.y,s.x,s.y,o.x,o.y,w.x,w.y)&&wn(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function G4(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!Mm(r,s)&&wT(r,i,i.next,s)&&ed(r,s)&&ed(s,r)&&(e.push(r.i/t),e.push(i.i/t),e.push(s.i/t),td(i),td(i.next),i=n=s),i=i.next}while(i!==n);return oa(i)}function Z4(n,e,t,i,r,s){let o=n;do{let u=o.next.next;for(;u!==o.prev;){if(o.i!==u.i&&t5(o,u)){let h=bT(o,u);o=oa(o,o.next),h=oa(h,h.next),Qh(o,e,t,i,r,s),Qh(h,e,t,i,r,s);return}u=u.next}o=o.next}while(o!==n)}function $4(n,e,t,i){const r=[];let s,o,u,h,d;for(s=0,o=e.length;s<o;s++)u=e[s]*i,h=s<o-1?e[s+1]*i:n.length,d=xT(n,u,h,i,!1),d===d.next&&(d.steiner=!0),r.push(e5(d));for(r.sort(q4),s=0;s<r.length;s++)X4(r[s],t),t=oa(t,t.next);return t}function q4(n,e){return n.x-e.x}function X4(n,e){if(e=Y4(n,e),e){const t=bT(e,n);oa(e,e.next),oa(t,t.next)}}function Y4(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,o;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const _=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(_<=i&&_>s){if(s=_,_===i){if(r===t.y)return t;if(r===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!o)return null;if(i===s)return o;const u=o,h=o.x,d=o.y;let p=1/0,g;t=o;do i>=t.x&&t.x>=h&&i!==t.x&&Cu(r<d?i:s,r,h,d,r<d?s:i,r,t.x,t.y)&&(g=Math.abs(r-t.y)/(i-t.x),ed(t,n)&&(g<p||g===p&&(t.x>o.x||t.x===o.x&&K4(o,t)))&&(o=t,p=g)),t=t.next;while(t!==u);return o}function K4(n,e){return wn(n.prev,n,e.prev)<0&&wn(e.next,n,n.next)<0}function J4(n,e,t,i){let r=n;do r.z===null&&(r.z=jy(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,Q4(r)}function Q4(n){let e,t,i,r,s,o,u,h,d=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,u=0,e=0;e<d&&(u++,i=i.nextZ,!!i);e++);for(h=d;u>0||h>0&&i;)u!==0&&(h===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,u--):(r=i,i=i.nextZ,h--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,d*=2}while(o>1);return n}function jy(n,e,t,i,r){return n=32767*(n-t)*r,e=32767*(e-i)*r,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function e5(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Cu(n,e,t,i,r,s,o,u){return(r-o)*(e-u)-(n-o)*(s-u)>=0&&(n-o)*(i-u)-(t-o)*(e-u)>=0&&(t-o)*(s-u)-(r-o)*(i-u)>=0}function t5(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!n5(n,e)&&(ed(n,e)&&ed(e,n)&&i5(n,e)&&(wn(n.prev,n,e.prev)||wn(n,e.prev,e))||Mm(n,e)&&wn(n.prev,n,n.next)>0&&wn(e.prev,e,e.next)>0)}function wn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Mm(n,e){return n.x===e.x&&n.y===e.y}function wT(n,e,t,i){const r=gp(wn(n,e,t)),s=gp(wn(n,e,i)),o=gp(wn(t,i,n)),u=gp(wn(t,i,e));return!!(r!==s&&o!==u||r===0&&mp(n,t,e)||s===0&&mp(n,i,e)||o===0&&mp(t,n,i)||u===0&&mp(t,e,i))}function mp(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function gp(n){return n>0?1:n<0?-1:0}function n5(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&wT(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function ed(n,e){return wn(n.prev,n,n.next)<0?wn(n,e,n.next)>=0&&wn(n,n.prev,e)>=0:wn(n,e,n.prev)<0||wn(n,n.next,e)<0}function i5(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function bT(n,e){const t=new Wy(n.i,n.x,n.y),i=new Wy(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function WS(n,e,t,i){const r=new Wy(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function td(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Wy(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function r5(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class ra{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return ra.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];GS(e),ZS(i,e);let o=e.length;t.forEach(GS);for(let h=0;h<t.length;h++)r.push(o),o+=t[h].length,ZS(i,t[h]);const u=V4.triangulate(i,r);for(let h=0;h<u.length;h+=3)s.push(u.slice(h,h+3));return s}}function GS(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function ZS(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class hl extends tn{constructor(e,t){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let u=0,h=e.length;u<h;u++){const d=e[u];o(d)}this.setAttribute("position",new Xn(r,3)),this.setAttribute("uv",new Xn(s,2)),this.computeVertexNormals();function o(u){const h=[],d=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1;let g=t.depth!==void 0?t.depth:100,_=t.bevelEnabled!==void 0?t.bevelEnabled:!0,y=t.bevelThickness!==void 0?t.bevelThickness:6,w=t.bevelSize!==void 0?t.bevelSize:y-2,S=t.bevelOffset!==void 0?t.bevelOffset:0,C=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,T=t.UVGenerator!==void 0?t.UVGenerator:s5;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),g=t.amount);let k,F=!1,R,B,N,O;b&&(k=b.getSpacedPoints(p),F=!0,_=!1,R=b.computeFrenetFrames(p,!1),B=new ie,N=new ie,O=new ie),_||(C=0,y=0,w=0,S=0);const j=u.extractPoints(d);let W=j.shape;const H=j.holes;if(!ra.isClockWise(W)){W=W.reverse();for(let be=0,Re=H.length;be<Re;be++){const De=H[be];ra.isClockWise(De)&&(H[be]=De.reverse())}}const Y=ra.triangulateShape(W,H),ee=W;for(let be=0,Re=H.length;be<Re;be++){const De=H[be];W=W.concat(De)}function oe(be,Re,De){return Re||console.error("THREE.ExtrudeGeometry: vec does not exist"),Re.clone().multiplyScalar(De).add(be)}const ae=W.length,ne=Y.length;function K(be,Re,De){let We,Ie,X;const Z=be.x-Re.x,we=be.y-Re.y,Ae=De.x-be.x,Ze=De.y-be.y,Ke=Z*Z+we*we,rt=Z*Ze-we*Ae;if(Math.abs(rt)>Number.EPSILON){const Je=Math.sqrt(Ke),st=Math.sqrt(Ae*Ae+Ze*Ze),he=Re.x-we/Je,q=Re.y+Z/Je,Le=De.x-Ze/st,Se=De.y+Ae/st,Fe=((Le-he)*Ze-(Se-q)*Ae)/(Z*Ze-we*Ae);We=he+Z*Fe-be.x,Ie=q+we*Fe-be.y;const Xe=We*We+Ie*Ie;if(Xe<=2)return new $e(We,Ie);X=Math.sqrt(Xe/2)}else{let Je=!1;Z>Number.EPSILON?Ae>Number.EPSILON&&(Je=!0):Z<-Number.EPSILON?Ae<-Number.EPSILON&&(Je=!0):Math.sign(we)===Math.sign(Ze)&&(Je=!0),Je?(We=-we,Ie=Z,X=Math.sqrt(Ke)):(We=Z,Ie=we,X=Math.sqrt(Ke/2))}return new $e(We/X,Ie/X)}const fe=[];for(let be=0,Re=ee.length,De=Re-1,We=be+1;be<Re;be++,De++,We++)De===Re&&(De=0),We===Re&&(We=0),fe[be]=K(ee[be],ee[De],ee[We]);const I=[];let G,se=fe.concat();for(let be=0,Re=H.length;be<Re;be++){const De=H[be];G=[];for(let We=0,Ie=De.length,X=Ie-1,Z=We+1;We<Ie;We++,X++,Z++)X===Ie&&(X=0),Z===Ie&&(Z=0),G[We]=K(De[We],De[X],De[Z]);I.push(G),se=se.concat(G)}for(let be=0;be<C;be++){const Re=be/C,De=y*Math.cos(Re*Math.PI/2),We=w*Math.sin(Re*Math.PI/2)+S;for(let Ie=0,X=ee.length;Ie<X;Ie++){const Z=oe(ee[Ie],fe[Ie],We);Ne(Z.x,Z.y,-De)}for(let Ie=0,X=H.length;Ie<X;Ie++){const Z=H[Ie];G=I[Ie];for(let we=0,Ae=Z.length;we<Ae;we++){const Ze=oe(Z[we],G[we],We);Ne(Ze.x,Ze.y,-De)}}}const D=w+S;for(let be=0;be<ae;be++){const Re=_?oe(W[be],se[be],D):W[be];F?(N.copy(R.normals[0]).multiplyScalar(Re.x),B.copy(R.binormals[0]).multiplyScalar(Re.y),O.copy(k[0]).add(N).add(B),Ne(O.x,O.y,O.z)):Ne(Re.x,Re.y,0)}for(let be=1;be<=p;be++)for(let Re=0;Re<ae;Re++){const De=_?oe(W[Re],se[Re],D):W[Re];F?(N.copy(R.normals[be]).multiplyScalar(De.x),B.copy(R.binormals[be]).multiplyScalar(De.y),O.copy(k[be]).add(N).add(B),Ne(O.x,O.y,O.z)):Ne(De.x,De.y,g/p*be)}for(let be=C-1;be>=0;be--){const Re=be/C,De=y*Math.cos(Re*Math.PI/2),We=w*Math.sin(Re*Math.PI/2)+S;for(let Ie=0,X=ee.length;Ie<X;Ie++){const Z=oe(ee[Ie],fe[Ie],We);Ne(Z.x,Z.y,g+De)}for(let Ie=0,X=H.length;Ie<X;Ie++){const Z=H[Ie];G=I[Ie];for(let we=0,Ae=Z.length;we<Ae;we++){const Ze=oe(Z[we],G[we],We);F?Ne(Ze.x,Ze.y+k[p-1].y,k[p-1].x+De):Ne(Ze.x,Ze.y,g+De)}}}me(),ve();function me(){const be=r.length/3;if(_){let Re=0,De=ae*Re;for(let We=0;We<ne;We++){const Ie=Y[We];Pe(Ie[2]+De,Ie[1]+De,Ie[0]+De)}Re=p+C*2,De=ae*Re;for(let We=0;We<ne;We++){const Ie=Y[We];Pe(Ie[0]+De,Ie[1]+De,Ie[2]+De)}}else{for(let Re=0;Re<ne;Re++){const De=Y[Re];Pe(De[2],De[1],De[0])}for(let Re=0;Re<ne;Re++){const De=Y[Re];Pe(De[0]+ae*p,De[1]+ae*p,De[2]+ae*p)}}i.addGroup(be,r.length/3-be,0)}function ve(){const be=r.length/3;let Re=0;te(ee,Re),Re+=ee.length;for(let De=0,We=H.length;De<We;De++){const Ie=H[De];te(Ie,Re),Re+=Ie.length}i.addGroup(be,r.length/3-be,1)}function te(be,Re){let De=be.length;for(;--De>=0;){const We=De;let Ie=De-1;Ie<0&&(Ie=be.length-1);for(let X=0,Z=p+C*2;X<Z;X++){const we=ae*X,Ae=ae*(X+1),Ze=Re+We+we,Ke=Re+Ie+we,rt=Re+Ie+Ae,Je=Re+We+Ae;ke(Ze,Ke,rt,Je)}}}function Ne(be,Re,De){h.push(be),h.push(Re),h.push(De)}function Pe(be,Re,De){ze(be),ze(Re),ze(De);const We=r.length/3,Ie=T.generateTopUV(i,r,We-3,We-2,We-1);je(Ie[0]),je(Ie[1]),je(Ie[2])}function ke(be,Re,De,We){ze(be),ze(Re),ze(We),ze(Re),ze(De),ze(We);const Ie=r.length/3,X=T.generateSideWallUV(i,r,Ie-6,Ie-3,Ie-2,Ie-1);je(X[0]),je(X[1]),je(X[3]),je(X[1]),je(X[2]),je(X[3])}function ze(be){r.push(h[be*3+0]),r.push(h[be*3+1]),r.push(h[be*3+2])}function je(be){s.push(be.x),s.push(be.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return o5(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const u=t[e.shapes[s]];i.push(u)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new vT[r.type]().fromJSON(r)),new hl(i,e.options)}}const s5={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],u=e[i*3],h=e[i*3+1],d=e[r*3],p=e[r*3+1];return[new $e(s,o),new $e(u,h),new $e(d,p)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],u=e[t*3+1],h=e[t*3+2],d=e[i*3],p=e[i*3+1],g=e[i*3+2],_=e[r*3],y=e[r*3+1],w=e[r*3+2],S=e[s*3],C=e[s*3+1],b=e[s*3+2];return Math.abs(u-p)<Math.abs(o-d)?[new $e(o,1-h),new $e(d,1-g),new $e(_,1-w),new $e(S,1-b)]:[new $e(u,1-h),new $e(p,1-g),new $e(y,1-w),new $e(C,1-b)]}};function o5(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Zv extends tn{constructor(e,t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let u=0,h=0;if(Array.isArray(e)===!1)d(e);else for(let p=0;p<e.length;p++)d(e[p]),this.addGroup(u,h,p),u+=h,h=0;this.setIndex(i),this.setAttribute("position",new Xn(r,3)),this.setAttribute("normal",new Xn(s,3)),this.setAttribute("uv",new Xn(o,2));function d(p){const g=r.length/3,_=p.extractPoints(t);let y=_.shape;const w=_.holes;ra.isClockWise(y)===!1&&(y=y.reverse());for(let C=0,b=w.length;C<b;C++){const T=w[C];ra.isClockWise(T)===!0&&(w[C]=T.reverse())}const S=ra.triangulateShape(y,w);for(let C=0,b=w.length;C<b;C++){const T=w[C];y=y.concat(T)}for(let C=0,b=y.length;C<b;C++){const T=y[C];r.push(T.x,T.y,0),s.push(0,0,1),o.push(T.x,T.y)}for(let C=0,b=S.length;C<b;C++){const T=S[C],k=T[0]+g,F=T[1]+g,R=T[2]+g;i.push(k,F,R),h+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return a5(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new Zv(i,e.curveSegments)}}function a5(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class l5 extends _i{constructor(e){super(),this.type="ShadowMaterial",this.color=new ht(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}l5.prototype.isShadowMaterial=!0;class ST extends _i{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ht(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qu,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}ST.prototype.isMeshStandardMaterial=!0;class u5 extends ST{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new $e(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Li(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenTint=new ht(0),this.transmission=0,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationTint=new ht(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularTint=new ht(1,1,1),this.specularTintMap=null,this._clearcoat=0,this._transmission=0,this.setValues(e)}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheenTint.copy(e.sheenTint),this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationTint.copy(e.attenuationTint),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularTint.copy(e.specularTint),this.specularTintMap=e.specularTintMap,this}}u5.prototype.isMeshPhysicalMaterial=!0;class MT extends _i{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new ht(16777215),this.specular=new ht(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qu,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=fm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}MT.prototype.isMeshPhongMaterial=!0;class c5 extends _i{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ht(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qu,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}c5.prototype.isMeshToonMaterial=!0;class h5 extends _i{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qu,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}h5.prototype.isMeshNormalMaterial=!0;class d5 extends _i{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=fm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}d5.prototype.isMeshLambertMaterial=!0;class f5 extends _i{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ht(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qu,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}f5.prototype.isMeshMatcapMaterial=!0;class p5 extends rc{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}p5.prototype.isLineDashedMaterial=!0;const gn={arraySlice:function(n,e,t){return gn.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i},sortedArray:function(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const u=t[s]*e;for(let h=0;h!==e;++h)r[o++]=n[u+h]}return r},flattenJSON:function(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)},subclip:function(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let h=0;h<s.tracks.length;++h){const d=s.tracks[h],p=d.getValueSize(),g=[],_=[];for(let y=0;y<d.times.length;++y){const w=d.times[y]*r;if(!(w<t||w>=i)){g.push(d.times[y]);for(let S=0;S<p;++S)_.push(d.values[y*p+S])}}g.length!==0&&(d.times=gn.convertArray(g,d.times.constructor),d.values=gn.convertArray(_,d.values.constructor),o.push(d))}s.tracks=o;let u=1/0;for(let h=0;h<s.tracks.length;++h)u>s.tracks[h].times[0]&&(u=s.tracks[h].times[0]);for(let h=0;h<s.tracks.length;++h)s.tracks[h].shift(-1*u);return s.resetDuration(),s},makeClipAdditive:function(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const u=t.tracks[o],h=u.ValueTypeName;if(h==="bool"||h==="string")continue;const d=n.tracks.find(function(b){return b.name===u.name&&b.ValueTypeName===h});if(d===void 0)continue;let p=0;const g=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);let _=0;const y=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(_=y/3);const w=u.times.length-1;let S;if(s<=u.times[0]){const b=p,T=g-p;S=gn.arraySlice(u.values,b,T)}else if(s>=u.times[w]){const b=w*g+p,T=b+g-p;S=gn.arraySlice(u.values,b,T)}else{const b=u.createInterpolant(),T=p,k=g-p;b.evaluate(s),S=gn.arraySlice(b.resultBuffer,T,k)}h==="quaternion"&&new mi().fromArray(S).normalize().conjugate().toArray(S);const C=d.times.length;for(let b=0;b<C;++b){const T=b*y+_;if(h==="quaternion")mi.multiplyQuaternionsFlat(d.values,T,S,0,d.values,T);else{const k=y-_*2;for(let F=0;F<k;++F)d.values[T+F]-=S[F]}}}return n.blendMode=FE,n}};class aa{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let u=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,e,s)}if(i===u)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const u=t[1];e<u&&(i=2,s=u);for(let h=i-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(i===h)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const u=i+o>>>1;e<t[u]?o=u:i=u+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(r===void 0)return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,s,e)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}aa.prototype.beforeStart_=aa.prototype.copySampleValue_;aa.prototype.afterEnd_=aa.prototype.copySampleValue_;class m5 extends aa{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Tu,endingEnd:Tu}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,u=r[s],h=r[o];if(u===void 0)switch(this.getSettings_().endingStart){case Lu:s=e,u=2*t-i;break;case Gp:s=r.length-2,u=t+r[s]-r[s+1];break;default:s=e,u=i}if(h===void 0)switch(this.getSettings_().endingEnd){case Lu:o=e,h=2*i-t;break;case Gp:o=1,h=i+r[1]-r[0];break;default:o=e-1,h=t}const d=(i-t)*.5,p=this.valueSize;this._weightPrev=d/(t-u),this._weightNext=d/(h-i),this._offsetPrev=s*p,this._offsetNext=o*p}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,u=this.valueSize,h=e*u,d=h-u,p=this._offsetPrev,g=this._offsetNext,_=this._weightPrev,y=this._weightNext,w=(i-t)/(r-t),S=w*w,C=S*w,b=-_*C+2*_*S-_*w,T=(1+_)*C+(-1.5-2*_)*S+(-.5+_)*w+1,k=(-1-y)*C+(1.5+y)*S+.5*w,F=y*C-y*S;for(let R=0;R!==u;++R)s[R]=b*o[p+R]+T*o[d+R]+k*o[h+R]+F*o[g+R];return s}}class ET extends aa{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,u=this.valueSize,h=e*u,d=h-u,p=(i-t)/(r-t),g=1-p;for(let _=0;_!==u;++_)s[_]=o[d+_]*g+o[h+_]*p;return s}}class g5 extends aa{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ps{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=gn.convertArray(t,this.TimeBufferType),this.values=gn.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:gn.convertArray(e.times,Array),values:gn.convertArray(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new g5(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ET(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new m5(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case jp:t=this.InterpolantFactoryMethodDiscrete;break;case Wp:t=this.InterpolantFactoryMethodLinear;break;case m_:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return jp;case this.InterpolantFactoryMethodLinear:return Wp;case this.InterpolantFactoryMethodSmooth:return m_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const u=this.getValueSize();this.times=gn.arraySlice(i,s,o),this.values=gn.arraySlice(this.values,s*u,o*u)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let u=0;u!==s;u++){const h=i[u];if(typeof h=="number"&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,h),e=!1;break}if(o!==null&&o>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,h,o),e=!1;break}o=h}if(r!==void 0&&gn.isTypedArray(r))for(let u=0,h=r.length;u!==h;++u){const d=r[u];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,d),e=!1;break}}return e}optimize(){const e=gn.arraySlice(this.times),t=gn.arraySlice(this.values),i=this.getValueSize(),r=this.getInterpolation()===m_,s=e.length-1;let o=1;for(let u=1;u<s;++u){let h=!1;const d=e[u],p=e[u+1];if(d!==p&&(u!==1||d!==e[0]))if(r)h=!0;else{const g=u*i,_=g-i,y=g+i;for(let w=0;w!==i;++w){const S=t[g+w];if(S!==t[_+w]||S!==t[y+w]){h=!0;break}}}if(h){if(u!==o){e[o]=e[u];const g=u*i,_=o*i;for(let y=0;y!==i;++y)t[_+y]=t[g+y]}++o}}if(s>0){e[o]=e[s];for(let u=s*i,h=o*i,d=0;d!==i;++d)t[h+d]=t[u+d];++o}return o!==e.length?(this.times=gn.arraySlice(e,0,o),this.values=gn.arraySlice(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=gn.arraySlice(this.times,0),t=gn.arraySlice(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Ps.prototype.TimeBufferType=Float32Array;Ps.prototype.ValueBufferType=Float32Array;Ps.prototype.DefaultInterpolation=Wp;class sc extends Ps{}sc.prototype.ValueTypeName="bool";sc.prototype.ValueBufferType=Array;sc.prototype.DefaultInterpolation=jp;sc.prototype.InterpolantFactoryMethodLinear=void 0;sc.prototype.InterpolantFactoryMethodSmooth=void 0;class TT extends Ps{}TT.prototype.ValueTypeName="color";class $p extends Ps{}$p.prototype.ValueTypeName="number";class _5 extends aa{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,u=this.valueSize,h=(i-t)/(r-t);let d=e*u;for(let p=d+u;d!==p;d+=4)mi.slerpFlat(s,0,o,d-u,o,d,h);return s}}class fd extends Ps{InterpolantFactoryMethodLinear(e){return new _5(this.times,this.values,this.getValueSize(),e)}}fd.prototype.ValueTypeName="quaternion";fd.prototype.DefaultInterpolation=Wp;fd.prototype.InterpolantFactoryMethodSmooth=void 0;class oc extends Ps{}oc.prototype.ValueTypeName="string";oc.prototype.ValueBufferType=Array;oc.prototype.DefaultInterpolation=jp;oc.prototype.InterpolantFactoryMethodLinear=void 0;oc.prototype.InterpolantFactoryMethodSmooth=void 0;class qp extends Ps{}qp.prototype.ValueTypeName="vector";class $S{constructor(e,t=-1,i,r=Pv){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=es(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,u=i.length;o!==u;++o)t.push(v5(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Ps.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let u=0;u<s;u++){let h=[],d=[];h.push((u+s-1)%s,u,(u+1)%s),d.push(0,1,0);const p=gn.getKeyframeOrder(h);h=gn.sortedArray(h,1,p),d=gn.sortedArray(d,1,p),!r&&h[0]===0&&(h.push(s),d.push(d[0])),o.push(new $p(".morphTargetInfluences["+t[u].name+"]",h,d).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let u=0,h=e.length;u<h;u++){const d=e[u],p=d.name.match(s);if(p&&p.length>1){const g=p[1];let _=r[g];_||(r[g]=_=[]),_.push(d)}}const o=[];for(const u in r)o.push(this.CreateFromMorphTargetSequence(u,r[u],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(g,_,y,w,S){if(y.length!==0){const C=[],b=[];gn.flattenJSON(y,C,b,w),C.length!==0&&S.push(new g(_,C,b))}},r=[],s=e.name||"default",o=e.fps||30,u=e.blendMode;let h=e.length||-1;const d=e.hierarchy||[];for(let g=0;g<d.length;g++){const _=d[g].keys;if(!(!_||_.length===0))if(_[0].morphTargets){const y={};let w;for(w=0;w<_.length;w++)if(_[w].morphTargets)for(let S=0;S<_[w].morphTargets.length;S++)y[_[w].morphTargets[S]]=-1;for(const S in y){const C=[],b=[];for(let T=0;T!==_[w].morphTargets.length;++T){const k=_[w];C.push(k.time),b.push(k.morphTarget===S?1:0)}r.push(new $p(".morphTargetInfluence["+S+"]",C,b))}h=y.length*o}else{const y=".bones["+t[g].name+"]";i(qp,y+".position",_,"pos",r),i(fd,y+".quaternion",_,"rot",r),i(qp,y+".scale",_,"scl",r)}}return r.length===0?null:new this(s,h,r,u)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function y5(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return $p;case"vector":case"vector2":case"vector3":case"vector4":return qp;case"color":return TT;case"quaternion":return fd;case"bool":case"boolean":return sc;case"string":return oc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function v5(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=y5(n.type);if(n.times===void 0){const t=[],i=[];gn.flattenJSON(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Zu={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class x5{constructor(e,t,i){const r=this;let s=!1,o=0,u=0,h;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(p){u++,s===!1&&r.onStart!==void 0&&r.onStart(p,o,u),s=!0},this.itemEnd=function(p){o++,r.onProgress!==void 0&&r.onProgress(p,o,u),o===u&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(p){r.onError!==void 0&&r.onError(p)},this.resolveURL=function(p){return h?h(p):p},this.setURLModifier=function(p){return h=p,this},this.addHandler=function(p,g){return d.push(p,g),this},this.removeHandler=function(p){const g=d.indexOf(p);return g!==-1&&d.splice(g,2),this},this.getHandler=function(p){for(let g=0,_=d.length;g<_;g+=2){const y=d[g],w=d[g+1];if(y.global&&(y.lastIndex=0),y.test(p))return w}return null}}}const w5=new x5;class ua{constructor(e){this.manager=e!==void 0?e:w5,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Yr={};class b5 extends ua{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Zu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;if(Yr[e]!==void 0){Yr[e].push({onLoad:t,onProgress:i,onError:r});return}const u=/^data:(.*?)(;base64)?,(.*)$/,h=e.match(u);let d;if(h){const p=h[1],g=!!h[2];let _=h[3];_=decodeURIComponent(_),g&&(_=atob(_));try{let y;const w=(this.responseType||"").toLowerCase();switch(w){case"arraybuffer":case"blob":const S=new Uint8Array(_.length);for(let b=0;b<_.length;b++)S[b]=_.charCodeAt(b);w==="blob"?y=new Blob([S.buffer],{type:p}):y=S.buffer;break;case"document":y=new DOMParser().parseFromString(_,p);break;case"json":y=JSON.parse(_);break;default:y=_;break}setTimeout(function(){t&&t(y),s.manager.itemEnd(e)},0)}catch(y){setTimeout(function(){r&&r(y),s.manager.itemError(e),s.manager.itemEnd(e)},0)}}else{Yr[e]=[],Yr[e].push({onLoad:t,onProgress:i,onError:r}),d=new XMLHttpRequest,d.open("GET",e,!0),d.addEventListener("load",function(p){const g=this.response,_=Yr[e];if(delete Yr[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Zu.add(e,g);for(let y=0,w=_.length;y<w;y++){const S=_[y];S.onLoad&&S.onLoad(g)}s.manager.itemEnd(e)}else{for(let y=0,w=_.length;y<w;y++){const S=_[y];S.onError&&S.onError(p)}s.manager.itemError(e),s.manager.itemEnd(e)}},!1),d.addEventListener("progress",function(p){const g=Yr[e];for(let _=0,y=g.length;_<y;_++){const w=g[_];w.onProgress&&w.onProgress(p)}},!1),d.addEventListener("error",function(p){const g=Yr[e];delete Yr[e];for(let _=0,y=g.length;_<y;_++){const w=g[_];w.onError&&w.onError(p)}s.manager.itemError(e),s.manager.itemEnd(e)},!1),d.addEventListener("abort",function(p){const g=Yr[e];delete Yr[e];for(let _=0,y=g.length;_<y;_++){const w=g[_];w.onError&&w.onError(p)}s.manager.itemError(e),s.manager.itemEnd(e)},!1),this.responseType!==void 0&&(d.responseType=this.responseType),this.withCredentials!==void 0&&(d.withCredentials=this.withCredentials),d.overrideMimeType&&d.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const p in this.requestHeader)d.setRequestHeader(p,this.requestHeader[p]);d.send(null)}return s.manager.itemStart(e),d}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class LT extends ua{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Zu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const u=document.createElementNS("http://www.w3.org/1999/xhtml","img");function h(){u.removeEventListener("load",h,!1),u.removeEventListener("error",d,!1),Zu.add(e,this),t&&t(this),s.manager.itemEnd(e)}function d(p){u.removeEventListener("load",h,!1),u.removeEventListener("error",d,!1),r&&r(p),s.manager.itemError(e),s.manager.itemEnd(e)}return u.addEventListener("load",h,!1),u.addEventListener("error",d,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),s.manager.itemStart(e),u.src=e,u}}class S5 extends ua{constructor(e){super(e)}load(e,t,i,r){const s=new vm,o=new LT(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let u=0;function h(d){o.load(e[d],function(p){s.images[d]=p,u++,u===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let d=0;d<e.length;++d)h(d);return s}}class M5 extends ua{constructor(e){super(e)}load(e,t,i,r){const s=new ti,o=new LT(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(u){s.image=u;const h=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;s.format=h?ta:cr,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class E5 extends Dr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Sm(t,e))}getPoint(e){const t=e*this.getLength(),i=this.getCurveLengths();let r=0;for(;r<i.length;){if(i[r]>=t){const s=i[r]-t,o=this.curves[r],u=o.getLength(),h=u===0?0:1-s/u;return o.getPointAt(h)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],u=o&&o.isEllipseCurve?e*2:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,h=o.getPoints(u);for(let d=0;d<h.length;d++){const p=h[d];i&&i.equals(p)||(t.push(p),i=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new vT[r.type]().fromJSON(r))}return this}}class Gy extends E5{constructor(e){super(),this.type="Path",this.currentPoint=new $e,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Sm(this.currentPoint.clone(),new $e(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new Wv(this.currentPoint.clone(),new $e(e,t),new $e(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const u=new jv(this.currentPoint.clone(),new $e(e,t),new $e(i,r),new $e(s,o));return this.curves.push(u),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new Gv(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(e+u,t+h,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,u,h){const d=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+d,t+p,i,r,s,o,u,h),this}absellipse(e,t,i,r,s,o,u,h){const d=new bm(e,t,i,r,s,o,u,h);if(this.curves.length>0){const g=d.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(d);const p=d.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Em extends Gy{constructor(e){super(e),this.uuid=es(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Gy().fromJSON(r))}return this}}class Ls extends Zt{constructor(e,t=1){super(),this.type="Light",this.color=new ht(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}Ls.prototype.isLight=!0;class T5 extends Ls{constructor(e,t,i){super(e,i),this.type="HemisphereLight",this.position.copy(Zt.DefaultUp),this.updateMatrix(),this.groundColor=new ht(t)}copy(e){return Ls.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}T5.prototype.isHemisphereLight=!0;const qS=new yt,XS=new ie,YS=new ie;class $v{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new $e(512,512),this.map=null,this.mapPass=null,this.matrix=new yt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new xm,this._frameExtents=new $e(1,1),this._viewportCount=1,this._viewports=[new en(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;XS.setFromMatrixPosition(e.matrixWorld),t.position.copy(XS),YS.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(YS),t.updateMatrixWorld(),qS.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(qS),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(t.projectionMatrix),i.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class CT extends $v{constructor(){super(new Gn(50,1,.5,500)),this.focus=1}updateMatrices(e){const t=this.camera,i=Kh*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}CT.prototype.isSpotLightShadow=!0;class L5 extends Ls{constructor(e,t,i=0,r=Math.PI/3,s=0,o=1){super(e,t),this.type="SpotLight",this.position.copy(Zt.DefaultUp),this.updateMatrix(),this.target=new Zt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.shadow=new CT}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}L5.prototype.isSpotLight=!0;const KS=new yt,dh=new ie,Y_=new ie;class PT extends $v{constructor(){super(new Gn(90,1,.5,500)),this._frameExtents=new $e(4,2),this._viewportCount=6,this._viewports=[new en(2,1,1,1),new en(0,1,1,1),new en(3,1,1,1),new en(1,1,1,1),new en(3,0,1,1),new en(1,0,1,1)],this._cubeDirections=[new ie(1,0,0),new ie(-1,0,0),new ie(0,0,1),new ie(0,0,-1),new ie(0,1,0),new ie(0,-1,0)],this._cubeUps=[new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,0,1),new ie(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),dh.setFromMatrixPosition(e.matrixWorld),i.position.copy(dh),Y_.copy(i.position),Y_.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(Y_),i.updateMatrixWorld(),r.makeTranslation(-dh.x,-dh.y,-dh.z),KS.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(KS)}}PT.prototype.isPointLightShadow=!0;class C5 extends Ls{constructor(e,t,i=0,r=1){super(e,t),this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new PT}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}C5.prototype.isPointLight=!0;class AT extends $v{constructor(){super(new Iu(-5,5,5,-5,.5,500))}}AT.prototype.isDirectionalLightShadow=!0;class kT extends Ls{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(Zt.DefaultUp),this.updateMatrix(),this.target=new Zt,this.shadow=new AT}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}kT.prototype.isDirectionalLight=!0;class RT extends Ls{constructor(e,t){super(e,t),this.type="AmbientLight"}}RT.prototype.isAmbientLight=!0;class P5 extends Ls{constructor(e,t,i=10,r=10){super(e,t),this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}P5.prototype.isRectAreaLight=!0;class IT{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ie)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}IT.prototype.isSphericalHarmonics3=!0;class qv extends Ls{constructor(e=new IT,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}qv.prototype.isLightProbe=!0;class A5{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}}class k5 extends tn{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}k5.prototype.isInstancedBufferGeometry=!0;class R5 extends ua{constructor(e){super(e),typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Zu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader,fetch(e,u).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(h){Zu.add(e,h),t&&t(h),s.manager.itemEnd(e)}).catch(function(h){r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}R5.prototype.isImageBitmapLoader=!0;let _p;const I5={getContext:function(){return _p===void 0&&(_p=new(window.AudioContext||window.webkitAudioContext)),_p},setContext:function(n){_p=n}};class D5 extends ua{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new b5(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(u){try{const h=u.slice(0);I5.getContext().decodeAudioData(h,function(p){t(p)})}catch(h){r?r(h):console.error(h),s.manager.itemError(e)}},i,r)}}class N5 extends qv{constructor(e,t,i=1){super(void 0,i);const r=new ht().set(e),s=new ht().set(t),o=new ie(r.r,r.g,r.b),u=new ie(s.r,s.g,s.b),h=Math.sqrt(Math.PI),d=h*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(u).multiplyScalar(h),this.sh.coefficients[1].copy(o).sub(u).multiplyScalar(d)}}N5.prototype.isHemisphereLightProbe=!0;class O5 extends qv{constructor(e,t=1){super(void 0,t);const i=new ht().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}O5.prototype.isAmbientLightProbe=!0;class z5 extends Zt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}class F5{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let u=0;u!==r;++u)i[s+u]=i[u];o=t}else{o+=t;const u=t/o;this._mixBufferRegion(i,s,0,u,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const h=t*this._origIndex;this._mixBufferRegion(i,r,h,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let h=t,d=t+t;h!==d;++h)if(i[h]!==i[h+t]){u.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){mi.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;mi.multiplyQuaternionsFlat(e,o,e,t,e,i),mi.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let u=0;u!==s;++u){const h=t+u;e[h]=e[h]*o+e[i+u]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const u=t+o;e[u]=e[u]+e[i+o]*r}}}const Xv="\\[\\]\\.:\\/",B5=new RegExp("["+Xv+"]","g"),Yv="[^"+Xv+"]",U5="[^"+Xv.replace("\\.","")+"]",H5=/((?:WC+[\/:])*)/.source.replace("WC",Yv),V5=/(WCOD+)?/.source.replace("WCOD",U5),j5=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Yv),W5=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Yv),G5=new RegExp("^"+H5+V5+j5+W5+"$"),Z5=["material","materials","bones"];class $5{constructor(e,t,i){const r=i||$t.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class $t{constructor(e,t,i){this.path=t,this.parsedPath=i||$t.parseTrackName(t),this.node=$t.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new $t.Composite(e,t,i):new $t(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(B5,"")}static parseTrackName(e){const t=G5.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);Z5.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const u=s[o];if(u.name===t||u.uuid===t)return u;const h=i(u.children);if(h)return h}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=$t.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let d=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===d){d=p;break}break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const o=e[r];if(o===void 0){const d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+r+" but it wasn't found.",e);return}let u=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?u=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}h=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(h=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}$t.Composite=$5;$t.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};$t.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};$t.prototype.GetterByBindingType=[$t.prototype._getValue_direct,$t.prototype._getValue_array,$t.prototype._getValue_arrayElement,$t.prototype._getValue_toArray];$t.prototype.SetterByBindingTypeAndVersioning=[[$t.prototype._setValue_direct,$t.prototype._setValue_direct_setNeedsUpdate,$t.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[$t.prototype._setValue_array,$t.prototype._setValue_array_setNeedsUpdate,$t.prototype._setValue_array_setMatrixWorldNeedsUpdate],[$t.prototype._setValue_arrayElement,$t.prototype._setValue_arrayElement_setNeedsUpdate,$t.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[$t.prototype._setValue_fromArray,$t.prototype._setValue_fromArray_setNeedsUpdate,$t.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class q5{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,u=new Array(o),h={endingStart:Tu,endingEnd:Tu};for(let d=0;d!==o;++d){const p=s[d].createInterpolant(null);u[d]=p,p.settings=h}this._interpolantSettings=h,this._interpolants=u,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xN,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,u=r/s;e.warp(1,o,t),this.warp(u,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=r._lendControlInterpolant(),this._timeScaleInterpolant=u);const h=u.parameterPositions,d=u.sampleValues;return h[0]=s,h[1]=s+i,d[0]=e/o,d[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const h=(e-s)*i;if(h<0||i===0)return;this._startTime=null,t=i*h}t*=this._updateTimeScale(e);const o=this._updateTime(t),u=this._updateWeight(e);if(u>0){const h=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case FE:for(let p=0,g=h.length;p!==g;++p)h[p].evaluate(o),d[p].accumulateAdditive(u);break;case Pv:default:for(let p=0,g=h.length;p!==g;++p)h[p].evaluate(o),d[p].accumulate(r,u)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===wN;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===vN){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const u=Math.floor(r/t);r-=t*u,s+=Math.abs(u);const h=this.repetitions-s;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(h===1){const d=e<0;this._setEndings(d,!d,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Lu,r.endingEnd=Lu):(e?r.endingStart=this.zeroSlopeAtStart?Lu:Tu:r.endingStart=Gp,t?r.endingEnd=this.zeroSlopeAtEnd?Lu:Tu:r.endingEnd=Gp)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const u=o.parameterPositions,h=o.sampleValues;return u[0]=s,h[0]=t,u[1]=s+e,h[1]=i,this}}class X5 extends ul{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,u=e._interpolants,h=i.uuid,d=this._bindingsByRootAndName;let p=d[h];p===void 0&&(p={},d[h]=p);for(let g=0;g!==s;++g){const _=r[g],y=_.name;let w=p[y];if(w!==void 0)o[g]=w;else{if(w=o[g],w!==void 0){w._cacheIndex===null&&(++w.referenceCount,this._addInactiveBinding(w,h,y));continue}const S=t&&t._propertyBindings[g].binding.parsedPath;w=new F5($t.create(i,y,S),_.ValueTypeName,_.getValueSize()),++w.referenceCount,this._addInactiveBinding(w,h,y),o[g]=w}u[g].resultBuffer=w.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const u=o.knownActions;e._byClipCacheIndex=u.length,u.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,u=o[s],h=u.knownActions,d=h[h.length-1],p=e._byClipCacheIndex;d._byClipCacheIndex=p,h[p]=d,h.pop(),e._byClipCacheIndex=null;const g=u.actionByRoot,_=(e._localRoot||this._root).uuid;delete g[_],h.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,u=o[r],h=t[t.length-1],d=e._cacheIndex;h._cacheIndex=d,t[d]=h,t.pop(),delete u[s],Object.keys(u).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new ET(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?$S.findByName(r,e):e;const u=o!==null?o.uuid:e,h=this._actionsByClip[u];let d=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Pv),h!==void 0){const g=h.actionByRoot[s];if(g!==void 0&&g.blendMode===i)return g;d=h.knownActions[0],o===null&&(o=d._clip)}if(o===null)return null;const p=new q5(this,o,t,i);return this._bindAction(p,d),this._addInactiveAction(p,u,s),p}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?$S.findByName(i,e):e,o=s?s.uuid:e,u=this._actionsByClip[o];return u!==void 0&&u.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let d=0;d!==i;++d)t[d]._update(r,e,s,o);const u=this._bindings,h=this._nActiveBindings;for(let d=0;d!==h;++d)u[d].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let u=0,h=o.length;u!==h;++u){const d=o[u];this._deactivateAction(d);const p=d._cacheIndex,g=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,g._cacheIndex=p,t[p]=g,t.pop(),this._removeInactiveBindingsForAction(d)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const u=i[o].actionByRoot,h=u[t];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const u=s[o];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}X5.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Y5 extends dd{constructor(e,t,i=1){super(e,t),this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}Y5.prototype.isInstancedInterleavedBuffer=!0;class JS{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Li(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class K5 extends Zt{constructor(e){super(),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}}K5.prototype.isImmediateRenderObject=!0;const qo=new ie,yp=new yt,K_=new yt;class J5 extends Hv{constructor(e){const t=DT(e),i=new tn,r=[],s=[],o=new ht(0,0,1),u=new ht(0,1,0);for(let d=0;d<t.length;d++){const p=t[d];p.parent&&p.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(u.r,u.g,u.b))}i.setAttribute("position",new Xn(r,3)),i.setAttribute("color",new Xn(s,3));const h=new rc({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,h),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");K_.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const u=t[s];u.parent&&u.parent.isBone&&(yp.multiplyMatrices(K_,u.matrixWorld),qo.setFromMatrixPosition(yp),r.setXYZ(o,qo.x,qo.y,qo.z),yp.multiplyMatrices(K_,u.parent.matrixWorld),qo.setFromMatrixPosition(yp),r.setXYZ(o+1,qo.x,qo.y,qo.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function DT(n){const e=[];n&&n.isBone&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,DT(n.children[t]));return e}class NT extends Hv{constructor(e=10,t=10,i=4473924,r=8947848){i=new ht(i),r=new ht(r);const s=t/2,o=e/t,u=e/2,h=[],d=[];for(let _=0,y=0,w=-u;_<=t;_++,w+=o){h.push(-u,0,w,u,0,w),h.push(w,0,-u,w,0,u);const S=_===s?i:r;S.toArray(d,y),y+=3,S.toArray(d,y),y+=3,S.toArray(d,y),y+=3,S.toArray(d,y),y+=3}const p=new tn;p.setAttribute("position",new Xn(h,3)),p.setAttribute("color",new Xn(d,3));const g=new rc({vertexColors:!0,toneMapped:!1});super(p,g),this.type="GridHelper"}}const Q5=new Float32Array(1);new Int32Array(Q5.buffer);Dr.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(Dr.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};Gy.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};NT.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};J5.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};ua.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),A5.extractUrlBase(n)};ua.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Nr.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};Nr.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Nr.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Nr.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};Nr.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};tc.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};xm.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};ei.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};ei.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};ei.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};ei.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};ei.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};ei.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};yt.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};yt.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};yt.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new ie().setFromMatrixColumn(this,3)};yt.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};yt.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};yt.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};yt.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};yt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};yt.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};yt.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};yt.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};yt.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};yt.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};yt.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};yt.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};yt.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};yt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};yt.prototype.makeFrustum=function(n,e,t,i,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,i,t,r,s)};yt.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};xs.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};mi.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};mi.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};cl.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};cl.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};cl.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};Fn.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Fn.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};Fn.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};Fn.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};Fn.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};Fn.barycoordFromPoint=function(n,e,t,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Fn.getBarycoord(n,e,t,i,r)};Fn.normal=function(n,e,t,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Fn.getNormal(n,e,t,i)};Em.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};Em.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new hl(this,n)};Em.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Zv(this,n)};$e.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};$e.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};$e.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};ie.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};ie.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};ie.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};ie.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};ie.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};ie.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};ie.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};ie.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};ie.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};en.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};en.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Zt.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};Zt.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Zt.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};Zt.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Zt.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(Zt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Ci.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Ci.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),bN},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});fT.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Gn.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties(Ls.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(Bn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Zp},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Zp)}}});Bn.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?Zp:Yh),this};Bn.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Bn.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};tn.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};tn.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new Bn(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};tn.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};tn.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};tn.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};tn.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};tn.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(tn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});dd.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?Zp:Yh),this};dd.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};hl.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};hl.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};hl.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};Bv.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Object.defineProperties(_i.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new ht}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===DE}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(rl.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});Jt.prototype.clearTarget=function(n,e,t,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,i)};Jt.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};Jt.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};Jt.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};Jt.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};Jt.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};Jt.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};Jt.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};Jt.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};Jt.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};Jt.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};Jt.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};Jt.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};Jt.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};Jt.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};Jt.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};Jt.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};Jt.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};Jt.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};Jt.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};Jt.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};Jt.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};Jt.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};Jt.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};Jt.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(Jt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?ym:Wi}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(uT.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(Ts.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});z5.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new D5().load(n,function(i){e.setBuffer(i)}),this};Nv.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};Nv.prototype.clear=function(n,e,t,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,i)};ec.crossOrigin=void 0;ec.loadTexture=function(n,e,t,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new M5;r.setCrossOrigin(this.crossOrigin);const s=r.load(n,t,void 0,i);return e&&(s.mapping=e),s};ec.loadTextureCube=function(n,e,t,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new S5;r.setCrossOrigin(this.crossOrigin);const s=r.load(n,t,void 0,i);return e&&(s.mapping=e),s};ec.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};ec.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:RE}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=RE);var eU=Object.defineProperty,tU=(n,e,t)=>e in n?eU(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,nU=(n,e,t)=>(tU(n,e+"",t),t);class iU{constructor(){nU(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}var rU=Object.defineProperty,sU=(n,e,t)=>e in n?rU(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gt=(n,e,t)=>(sU(n,typeof e!="symbol"?e+"":e,t),t);const vp=new cl,QS=new xs,oU=Math.cos(70*(Math.PI/180)),e1=(n,e)=>(n%e+e)%e;class aU extends iU{constructor(e,t){super(),gt(this,"object"),gt(this,"domElement"),gt(this,"enabled",!0),gt(this,"target",new ie),gt(this,"minDistance",0),gt(this,"maxDistance",1/0),gt(this,"minZoom",0),gt(this,"maxZoom",1/0),gt(this,"minPolarAngle",0),gt(this,"maxPolarAngle",Math.PI),gt(this,"minAzimuthAngle",-1/0),gt(this,"maxAzimuthAngle",1/0),gt(this,"enableDamping",!1),gt(this,"dampingFactor",.05),gt(this,"enableZoom",!0),gt(this,"zoomSpeed",1),gt(this,"enableRotate",!0),gt(this,"rotateSpeed",1),gt(this,"enablePan",!0),gt(this,"panSpeed",1),gt(this,"screenSpacePanning",!0),gt(this,"keyPanSpeed",7),gt(this,"zoomToCursor",!1),gt(this,"autoRotate",!1),gt(this,"autoRotateSpeed",2),gt(this,"reverseOrbit",!1),gt(this,"reverseHorizontalOrbit",!1),gt(this,"reverseVerticalOrbit",!1),gt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),gt(this,"mouseButtons",{LEFT:Ql.ROTATE,MIDDLE:Ql.DOLLY,RIGHT:Ql.PAN}),gt(this,"touches",{ONE:eu.ROTATE,TWO:eu.DOLLY_PAN}),gt(this,"target0"),gt(this,"position0"),gt(this,"zoom0"),gt(this,"_domElementKeyEvents",null),gt(this,"getPolarAngle"),gt(this,"getAzimuthalAngle"),gt(this,"setPolarAngle"),gt(this,"setAzimuthalAngle"),gt(this,"getDistance"),gt(this,"getZoomScale"),gt(this,"listenToKeyEvents"),gt(this,"stopListenToKeyEvents"),gt(this,"saveState"),gt(this,"reset"),gt(this,"update"),gt(this,"connect"),gt(this,"dispose"),gt(this,"dollyIn"),gt(this,"dollyOut"),gt(this,"getScale"),gt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>p.phi,this.getAzimuthalAngle=()=>p.theta,this.setPolarAngle=le=>{let Be=e1(le,2*Math.PI),tt=p.phi;tt<0&&(tt+=2*Math.PI),Be<0&&(Be+=2*Math.PI);let Ct=Math.abs(Be-tt);2*Math.PI-Ct<Ct&&(Be<tt?Be+=2*Math.PI:tt+=2*Math.PI),g.phi=Be-tt,i.update()},this.setAzimuthalAngle=le=>{let Be=e1(le,2*Math.PI),tt=p.theta;tt<0&&(tt+=2*Math.PI),Be<0&&(Be+=2*Math.PI);let Ct=Math.abs(Be-tt);2*Math.PI-Ct<Ct&&(Be<tt?Be+=2*Math.PI:tt+=2*Math.PI),g.theta=Be-tt,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=le=>{le.addEventListener("keydown",Le),this._domElementKeyEvents=le},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Le),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),h=u.NONE},this.update=(()=>{const le=new ie,Be=new ie(0,1,0),tt=new mi().setFromUnitVectors(e.up,Be),Ct=tt.clone().invert(),Qt=new ie,Sn=new mi,Tn=2*Math.PI;return function(){const ns=i.object.position;tt.setFromUnitVectors(e.up,Be),Ct.copy(tt).invert(),le.copy(ns).sub(i.target),le.applyQuaternion(tt),p.setFromVector3(le),i.autoRotate&&h===u.NONE&&ee(J()),i.enableDamping?(p.theta+=g.theta*i.dampingFactor,p.phi+=g.phi*i.dampingFactor):(p.theta+=g.theta,p.phi+=g.phi);let Yn=i.minAzimuthAngle,ni=i.maxAzimuthAngle;isFinite(Yn)&&isFinite(ni)&&(Yn<-Math.PI?Yn+=Tn:Yn>Math.PI&&(Yn-=Tn),ni<-Math.PI?ni+=Tn:ni>Math.PI&&(ni-=Tn),Yn<=ni?p.theta=Math.max(Yn,Math.min(ni,p.theta)):p.theta=p.theta>(Yn+ni)/2?Math.max(Yn,p.theta):Math.min(ni,p.theta)),p.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,p.phi)),p.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(y,i.dampingFactor):i.target.add(y),i.zoomToCursor&&j||i.object.isOrthographicCamera?p.radius=D(p.radius):p.radius=D(p.radius*_),le.setFromSpherical(p),le.applyQuaternion(Ct),ns.copy(i.target).add(le),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(g.theta*=1-i.dampingFactor,g.phi*=1-i.dampingFactor,y.multiplyScalar(1-i.dampingFactor)):(g.set(0,0,0),y.set(0,0,0));let vi=!1;if(i.zoomToCursor&&j){let $i=null;if(i.object instanceof Gn&&i.object.isPerspectiveCamera){const ii=le.length();$i=D(ii*_);const xi=ii-$i;i.object.position.addScaledVector(N,xi),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const ii=new ie(O.x,O.y,0);ii.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/_)),i.object.updateProjectionMatrix(),vi=!0;const xi=new ie(O.x,O.y,0);xi.unproject(i.object),i.object.position.sub(xi).add(ii),i.object.updateMatrixWorld(),$i=le.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;$i!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar($i).add(i.object.position):(vp.origin.copy(i.object.position),vp.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(vp.direction))<oU?e.lookAt(i.target):(QS.setFromNormalAndCoplanarPoint(i.object.up,i.target),vp.intersectPlane(QS,i.target))))}else i.object instanceof Iu&&i.object.isOrthographicCamera&&(vi=_!==1,vi&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/_)),i.object.updateProjectionMatrix()));return _=1,j=!1,vi||Qt.distanceToSquared(i.object.position)>d||8*(1-Sn.dot(i.object.quaternion))>d?(i.dispatchEvent(r),Qt.copy(i.object.position),Sn.copy(i.object.quaternion),vi=!1,!0):!1}})(),this.connect=le=>{i.domElement=le,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Xe),i.domElement.addEventListener("pointerdown",Ke),i.domElement.addEventListener("pointercancel",Je),i.domElement.addEventListener("wheel",q)},this.dispose=()=>{var le,Be,tt,Ct,Qt,Sn;i.domElement&&(i.domElement.style.touchAction="auto"),(le=i.domElement)==null||le.removeEventListener("contextmenu",Xe),(Be=i.domElement)==null||Be.removeEventListener("pointerdown",Ke),(tt=i.domElement)==null||tt.removeEventListener("pointercancel",Je),(Ct=i.domElement)==null||Ct.removeEventListener("wheel",q),(Qt=i.domElement)==null||Qt.ownerDocument.removeEventListener("pointermove",rt),(Sn=i.domElement)==null||Sn.ownerDocument.removeEventListener("pointerup",Je),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Le)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let h=u.NONE;const d=1e-6,p=new JS,g=new JS;let _=1;const y=new ie,w=new $e,S=new $e,C=new $e,b=new $e,T=new $e,k=new $e,F=new $e,R=new $e,B=new $e,N=new ie,O=new $e;let j=!1;const W=[],H={};function J(){return 2*Math.PI/60/60*i.autoRotateSpeed}function Y(){return Math.pow(.95,i.zoomSpeed)}function ee(le){i.reverseOrbit||i.reverseHorizontalOrbit?g.theta+=le:g.theta-=le}function oe(le){i.reverseOrbit||i.reverseVerticalOrbit?g.phi+=le:g.phi-=le}const ae=(()=>{const le=new ie;return function(tt,Ct){le.setFromMatrixColumn(Ct,0),le.multiplyScalar(-tt),y.add(le)}})(),ne=(()=>{const le=new ie;return function(tt,Ct){i.screenSpacePanning===!0?le.setFromMatrixColumn(Ct,1):(le.setFromMatrixColumn(Ct,0),le.crossVectors(i.object.up,le)),le.multiplyScalar(tt),y.add(le)}})(),K=(()=>{const le=new ie;return function(tt,Ct){const Qt=i.domElement;if(Qt&&i.object instanceof Gn&&i.object.isPerspectiveCamera){const Sn=i.object.position;le.copy(Sn).sub(i.target);let Tn=le.length();Tn*=Math.tan(i.object.fov/2*Math.PI/180),ae(2*tt*Tn/Qt.clientHeight,i.object.matrix),ne(2*Ct*Tn/Qt.clientHeight,i.object.matrix)}else Qt&&i.object instanceof Iu&&i.object.isOrthographicCamera?(ae(tt*(i.object.right-i.object.left)/i.object.zoom/Qt.clientWidth,i.object.matrix),ne(Ct*(i.object.top-i.object.bottom)/i.object.zoom/Qt.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function fe(le){i.object instanceof Gn&&i.object.isPerspectiveCamera||i.object instanceof Iu&&i.object.isOrthographicCamera?_=le:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function I(le){fe(_/le)}function G(le){fe(_*le)}function se(le){if(!i.zoomToCursor||!i.domElement)return;j=!0;const Be=i.domElement.getBoundingClientRect(),tt=le.clientX-Be.left,Ct=le.clientY-Be.top,Qt=Be.width,Sn=Be.height;O.x=tt/Qt*2-1,O.y=-(Ct/Sn)*2+1,N.set(O.x,O.y,1).unproject(i.object).sub(i.object.position).normalize()}function D(le){return Math.max(i.minDistance,Math.min(i.maxDistance,le))}function me(le){w.set(le.clientX,le.clientY)}function ve(le){se(le),F.set(le.clientX,le.clientY)}function te(le){b.set(le.clientX,le.clientY)}function Ne(le){S.set(le.clientX,le.clientY),C.subVectors(S,w).multiplyScalar(i.rotateSpeed);const Be=i.domElement;Be&&(ee(2*Math.PI*C.x/Be.clientHeight),oe(2*Math.PI*C.y/Be.clientHeight)),w.copy(S),i.update()}function Pe(le){R.set(le.clientX,le.clientY),B.subVectors(R,F),B.y>0?I(Y()):B.y<0&&G(Y()),F.copy(R),i.update()}function ke(le){T.set(le.clientX,le.clientY),k.subVectors(T,b).multiplyScalar(i.panSpeed),K(k.x,k.y),b.copy(T),i.update()}function ze(le){se(le),le.deltaY<0?G(Y()):le.deltaY>0&&I(Y()),i.update()}function je(le){let Be=!1;switch(le.code){case i.keys.UP:K(0,i.keyPanSpeed),Be=!0;break;case i.keys.BOTTOM:K(0,-i.keyPanSpeed),Be=!0;break;case i.keys.LEFT:K(i.keyPanSpeed,0),Be=!0;break;case i.keys.RIGHT:K(-i.keyPanSpeed,0),Be=!0;break}Be&&(le.preventDefault(),i.update())}function be(){if(W.length==1)w.set(W[0].pageX,W[0].pageY);else{const le=.5*(W[0].pageX+W[1].pageX),Be=.5*(W[0].pageY+W[1].pageY);w.set(le,Be)}}function Re(){if(W.length==1)b.set(W[0].pageX,W[0].pageY);else{const le=.5*(W[0].pageX+W[1].pageX),Be=.5*(W[0].pageY+W[1].pageY);b.set(le,Be)}}function De(){const le=W[0].pageX-W[1].pageX,Be=W[0].pageY-W[1].pageY,tt=Math.sqrt(le*le+Be*Be);F.set(0,tt)}function We(){i.enableZoom&&De(),i.enablePan&&Re()}function Ie(){i.enableZoom&&De(),i.enableRotate&&be()}function X(le){if(W.length==1)S.set(le.pageX,le.pageY);else{const tt=_n(le),Ct=.5*(le.pageX+tt.x),Qt=.5*(le.pageY+tt.y);S.set(Ct,Qt)}C.subVectors(S,w).multiplyScalar(i.rotateSpeed);const Be=i.domElement;Be&&(ee(2*Math.PI*C.x/Be.clientHeight),oe(2*Math.PI*C.y/Be.clientHeight)),w.copy(S)}function Z(le){if(W.length==1)T.set(le.pageX,le.pageY);else{const Be=_n(le),tt=.5*(le.pageX+Be.x),Ct=.5*(le.pageY+Be.y);T.set(tt,Ct)}k.subVectors(T,b).multiplyScalar(i.panSpeed),K(k.x,k.y),b.copy(T)}function we(le){const Be=_n(le),tt=le.pageX-Be.x,Ct=le.pageY-Be.y,Qt=Math.sqrt(tt*tt+Ct*Ct);R.set(0,Qt),B.set(0,Math.pow(R.y/F.y,i.zoomSpeed)),I(B.y),F.copy(R)}function Ae(le){i.enableZoom&&we(le),i.enablePan&&Z(le)}function Ze(le){i.enableZoom&&we(le),i.enableRotate&&X(le)}function Ke(le){var Be,tt;i.enabled!==!1&&(W.length===0&&((Be=i.domElement)==null||Be.ownerDocument.addEventListener("pointermove",rt),(tt=i.domElement)==null||tt.ownerDocument.addEventListener("pointerup",Je)),ut(le),le.pointerType==="touch"?Se(le):st(le))}function rt(le){i.enabled!==!1&&(le.pointerType==="touch"?Fe(le):he(le))}function Je(le){var Be,tt,Ct;At(le),W.length===0&&((Be=i.domElement)==null||Be.releasePointerCapture(le.pointerId),(tt=i.domElement)==null||tt.ownerDocument.removeEventListener("pointermove",rt),(Ct=i.domElement)==null||Ct.ownerDocument.removeEventListener("pointerup",Je)),i.dispatchEvent(o),h=u.NONE}function st(le){let Be;switch(le.button){case 0:Be=i.mouseButtons.LEFT;break;case 1:Be=i.mouseButtons.MIDDLE;break;case 2:Be=i.mouseButtons.RIGHT;break;default:Be=-1}switch(Be){case Ql.DOLLY:if(i.enableZoom===!1)return;ve(le),h=u.DOLLY;break;case Ql.ROTATE:if(le.ctrlKey||le.metaKey||le.shiftKey){if(i.enablePan===!1)return;te(le),h=u.PAN}else{if(i.enableRotate===!1)return;me(le),h=u.ROTATE}break;case Ql.PAN:if(le.ctrlKey||le.metaKey||le.shiftKey){if(i.enableRotate===!1)return;me(le),h=u.ROTATE}else{if(i.enablePan===!1)return;te(le),h=u.PAN}break;default:h=u.NONE}h!==u.NONE&&i.dispatchEvent(s)}function he(le){if(i.enabled!==!1)switch(h){case u.ROTATE:if(i.enableRotate===!1)return;Ne(le);break;case u.DOLLY:if(i.enableZoom===!1)return;Pe(le);break;case u.PAN:if(i.enablePan===!1)return;ke(le);break}}function q(le){i.enabled===!1||i.enableZoom===!1||h!==u.NONE&&h!==u.ROTATE||(le.preventDefault(),i.dispatchEvent(s),ze(le),i.dispatchEvent(o))}function Le(le){i.enabled===!1||i.enablePan===!1||je(le)}function Se(le){switch(Ot(le),W.length){case 1:switch(i.touches.ONE){case eu.ROTATE:if(i.enableRotate===!1)return;be(),h=u.TOUCH_ROTATE;break;case eu.PAN:if(i.enablePan===!1)return;Re(),h=u.TOUCH_PAN;break;default:h=u.NONE}break;case 2:switch(i.touches.TWO){case eu.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;We(),h=u.TOUCH_DOLLY_PAN;break;case eu.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ie(),h=u.TOUCH_DOLLY_ROTATE;break;default:h=u.NONE}break;default:h=u.NONE}h!==u.NONE&&i.dispatchEvent(s)}function Fe(le){switch(Ot(le),h){case u.TOUCH_ROTATE:if(i.enableRotate===!1)return;X(le),i.update();break;case u.TOUCH_PAN:if(i.enablePan===!1)return;Z(le),i.update();break;case u.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ae(le),i.update();break;case u.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ze(le),i.update();break;default:h=u.NONE}}function Xe(le){i.enabled!==!1&&le.preventDefault()}function ut(le){W.push(le)}function At(le){delete H[le.pointerId];for(let Be=0;Be<W.length;Be++)if(W[Be].pointerId==le.pointerId){W.splice(Be,1);return}}function Ot(le){let Be=H[le.pointerId];Be===void 0&&(Be=new $e,H[le.pointerId]=Be),Be.set(le.pageX,le.pageY)}function _n(le){const Be=le.pointerId===W[0].pointerId?W[1]:W[0];return H[Be.pointerId]}this.dollyIn=(le=Y())=>{G(le),i.update()},this.dollyOut=(le=Y())=>{I(le),i.update()},this.getScale=()=>_,this.setScale=le=>{fe(le),i.update()},this.getZoomScale=()=>Y(),t!==void 0&&this.connect(t),this.update()}}function lU(n,e,t,i=0,r=0,s="default"){const o=n.current;if(!o)return;for(;o.firstChild;)o.removeChild(o.firstChild);const u=new Bv;u.background=new ht(1120295);const h=o.clientWidth||600,d=o.clientHeight||400,p=new Gn(45,h/d,.1,1e4);p.position.set(0,-200,150);const g=new Jt({canvas:o,antialias:!0});g.setSize(h,d),u.add(new RT(16777215,.6));const _=new kT(16777215,.8);_.position.set(100,100,200),u.add(_);const y=F=>new ie(F.lon,F.lat,-(F.depth||0)),w=e.map(y),S=t?.map(y)||[];let C=null;if(s==="subduction"){const F=new Em(w.map(j=>new $e(j.x,j.y))),R=S.length>0?Math.max(...S.map(j=>-j.z)):50,B=new hl(F,{depth:R,bevelEnabled:!1}),N=new MT({color:3900150,opacity:.7,transparent:!0,side:il}),O=new Ci(B,N);O.rotation.x=__.degToRad(-90),O.rotation.z=__.degToRad(r||0),O.rotation.y=__.degToRad(i||0),u.add(O),C=O}else{const F=new rc({color:2282478}),R=new Hy(new tn().setFromPoints(w),F);if(u.add(R),C=R,S.length>0){const B=new Hy(new tn().setFromPoints(S),F);u.add(B)}}const b=new NT(200,20);u.add(b);const T=new aU(p,g.domElement);if(T.enableDamping=!0,T.target.set(0,0,0),C){const F=new Nr().setFromObject(C),R=new ie;F.getCenter(R),T.target.copy(R),p.position.set(R.x+200,R.y-200,R.z+150)}window.addEventListener("resize",()=>{const F=o.clientWidth||600,R=o.clientHeight||400;p.aspect=F/R,p.updateProjectionMatrix(),g.setSize(F,R)});function k(){requestAnimationFrame(k),T.update(),g.render(u,p)}k()}function Kv({title:n,children:e,onClose:t,width:i="w-[600px]"}){return z.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:z.jsxs("div",{className:`bg-[var(--card)] text-[var(--text)] rounded-xl shadow-xl p-6 max-h-[90vh] overflow-y-auto transition-colors ${i}`,children:[z.jsxs("div",{className:"flex justify-between items-center mb-4",children:[z.jsx("h2",{className:"text-lg font-bold",children:n}),z.jsx("button",{onClick:t,className:"text-[var(--text)] hover:opacity-70 text-xl font-bold",children:""})]}),z.jsx("div",{children:e})]})})}function uU({onClose:n,onSaved:e,initialData:t}){const[i,r]=de.useState({name:"",mechanism:"",minMag:"",maxMag:"",coordsUpText:"",coordsDownText:"",gr_beta:"",gr_rate:"",gr_weight:"",dipAngle:"",strikeAngle:""}),[s,o]=de.useState(!1),[u,h]=de.useState([]),[d,p]=de.useState([]),[g,_]=de.useState(!1),[y,w]=de.useState([]),S=de.useRef(null);de.useEffect(()=>{fetch("https://sha-api-production.up.railway.app/api/v1/mechanism/").then(R=>R.json()).then(R=>w(R)).catch(R=>console.error("Gagal load mechanisms:",R))},[]),de.useEffect(()=>{t&&r({name:t.name||"",mechanism:t.mechanism||"",minMag:t.min_mag??"",maxMag:t.max_mag??"",coordsUpText:(t.coords_up||[]).map(R=>`${R.lat} ${R.lon} ${R.depth}`).join(`
`),coordsDownText:(t.coords_down||[]).map(R=>`${R.lat} ${R.lon} ${R.depth}`).join(`
`),gr_beta:t.gr_beta??"",gr_rate:t.gr_rate??"",gr_weight:t.gr_weight??"",dipAngle:t.dipAngle??"",strikeAngle:t.strikeAngle??""})},[t]),de.useEffect(()=>{g&&u.length&&d.length&&lU(S,u,d,i.dipAngle,i.strikeAngle,i.mechanism)},[g,u,d,i.dipAngle,i.strikeAngle,i.mechanism]);function C(R){return(R||"").split(`
`).map(B=>B.trim()).filter(B=>B.length>0).map(B=>{const N=B.split(/[\s,]+/);return{lat:parseFloat(N[0])||0,lon:parseFloat(N[1])||0,depth:parseFloat(N[2])||0}})}function b(R){r({...i,[R.target.name]:R.target.value})}function T(){const R=C(i.coordsUpText),B=C(i.coordsDownText);h(R),p(B),_(!0)}function k({coords:R}){const B=nm();if(R.length>0){const N=ol.latLngBounds(R.map(O=>[O.lat,O.lon]));B.fitBounds(N,{padding:[30,30]})}return null}async function F(R){R.preventDefault();const B=C(i.coordsUpText),N=C(i.coordsDownText),O={name:i.name,mechanism:i.mechanism,min_mag:i.minMag?parseFloat(i.minMag):void 0,max_mag:i.maxMag?parseFloat(i.maxMag):void 0,coords_up:B,coords_down:N,gr_beta:i.gr_beta?parseFloat(i.gr_beta):void 0,gr_rate:i.gr_rate?parseFloat(i.gr_rate):void 0,gr_weight:i.gr_weight?parseFloat(i.gr_weight):void 0,dipAngle:i.dipAngle?parseFloat(i.dipAngle):void 0,strikeAngle:i.strikeAngle?parseFloat(i.strikeAngle):void 0};try{o(!0);const j=t?`https://sha-api-production.up.railway.app/api/v1/datasource/${t.id}`:"https://sha-api-production.up.railway.app/api/v1/datasource/",H=await fetch(j,{method:t?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});if(!H.ok){const Y=await H.json();throw new Error(Y.detail||"Gagal simpan datasource")}const J=await H.json();e(J),n()}catch(j){alert(j.message),console.error("Payload gagal:",O,j)}finally{o(!1)}}return z.jsx(Kv,{title:t?"Edit Sumber Gempa":"Tambah Sumber Gempa",onClose:n,width:"w-[800px]",children:z.jsxs("form",{onSubmit:F,className:"space-y-4",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium",children:"Source Name"}),z.jsx("input",{type:"text",name:"name",value:i.name,onChange:b,className:"w-full border border-[var(--color-border)] px-3 py-2 rounded-lg bg-[var(--bg)] text-[var(--text)]",required:!0})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium",children:"Mechanism"}),z.jsxs("select",{name:"mechanism",value:i.mechanism,onChange:b,className:"w-full border border-[var(--color-border)] px-3 py-2 rounded-lg bg-[var(--bg)] text-[var(--text)]",required:!0,children:[z.jsx("option",{value:"",children:"-- pilih mechanism --"}),y.map(R=>z.jsx("option",{value:R.id,children:R.label},R.id))]})]}),z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium",children:"Min Magnitude"}),z.jsx("input",{type:"number",name:"minMag",value:i.minMag,onChange:b,className:"w-full border border-[var(--color-border)] px-3 py-2 rounded-lg bg-[var(--bg)] text-[var(--text)]"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium",children:"Max Magnitude"}),z.jsx("input",{type:"number",name:"maxMag",value:i.maxMag,onChange:b,className:"w-full border border-[var(--color-border)] px-3 py-2 rounded-lg bg-[var(--bg)] text-[var(--text)]"})]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium mb-2",children:"Coordinates Up (Lat, Lon, Depth)"}),z.jsx("textarea",{rows:5,value:i.coordsUpText||"",onChange:R=>r({...i,coordsUpText:R.target.value}),placeholder:`lat lon depth
-6.87 107.61 0
-6.90 107.65 10`,className:"w-full border border-[var(--color-border)] px-2 py-1 rounded-lg font-mono text-sm bg-[var(--bg)] text-[var(--text)]"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium mb-2",children:"Coordinates Down (Lat, Lon, Depth)"}),z.jsx("textarea",{rows:5,value:i.coordsDownText||"",onChange:R=>r({...i,coordsDownText:R.target.value}),placeholder:`lat lon depth
-6.95 107.70 15
-7.00 107.75 20`,className:"w-full border border-[var(--color-border)] px-2 py-1 rounded-lg font-mono text-sm bg-[var(--bg)] text-[var(--text)]"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium",children:"Dip Angle"}),z.jsx("input",{type:"number",name:"dipAngle",value:i.dipAngle,onChange:b,className:"w-full border border-[var(--color-border)] px-3 py-2 rounded-lg bg-[var(--bg)] text-[var(--text)]",placeholder:"Enter dip angle in degrees"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium",children:"Strike Angle"}),z.jsx("input",{type:"number",name:"strikeAngle",value:i.strikeAngle,onChange:b,className:"w-full border border-[var(--color-border)] px-3 py-2 rounded-lg bg-[var(--bg)] text-[var(--text)]",placeholder:"Enter strike angle in degrees"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium mb-2",children:"Gutenberg-Richter"}),z.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs",children:"Beta"}),z.jsx("input",{type:"number",step:"0.01",name:"gr_beta",value:i.gr_beta,onChange:b,className:"w-full border border-[var(--color-border)] px-2 py-1 rounded-lg bg-[var(--bg)] text-[var(--text)]"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs",children:"Rate"}),z.jsx("input",{type:"number",step:"0.01",name:"gr_rate",value:i.gr_rate,onChange:b,className:"w-full border border-[var(--color-border)] px-2 py-1 rounded-lg bg-[var(--bg)] text-[var(--text)]"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs",children:"Weight"}),z.jsx("input",{type:"number",step:"0.01",name:"gr_weight",value:i.gr_weight,onChange:b,className:"w-full border border-[var(--color-border)] px-2 py-1 rounded-lg bg-[var(--bg)] text-[var(--text)]"})]})]})]}),z.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 rounded-lg bg-green-500 text-white hover:bg-green-600",children:"Preview Coordinates"}),g&&z.jsx("div",{className:"mt-4 h-64 border border-[var(--color-border)] rounded-lg overflow-hidden",children:z.jsxs(Bu,{center:[-6.9,107.6],zoom:9,className:"h-full w-full",children:[z.jsx(Uu,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),z.jsx(k,{coords:[...u,...d]}),u.length>0&&d.length>0&&z.jsx(yM,{positions:[...u.map(R=>[R.lat,R.lon]),...d.slice().reverse().map(R=>[R.lat,R.lon])],color:"purple",fillColor:"purple",fillOpacity:.2}),u.length>0&&z.jsxs(z.Fragment,{children:[z.jsx(Rp,{positions:u.map(R=>[R.lat,R.lon]),color:"blue"}),u.map((R,B)=>z.jsx(so,{position:[R.lat,R.lon],children:z.jsxs(Jo,{children:["Up ",B+1,": Depth ",R.depth," km"]})},`up-${B}`))]}),d.length>0&&z.jsxs(z.Fragment,{children:[z.jsx(Rp,{positions:d.map(R=>[R.lat,R.lon]),color:"red"}),d.map((R,B)=>z.jsx(so,{position:[R.lat,R.lon],children:z.jsxs(Jo,{children:["Down ",B+1,": Depth ",R.depth," km"]})},`down-${B}`))]})]})}),z.jsx("div",{className:"preview-container",children:z.jsx("canvas",{ref:S,className:"w-full h-96 rounded-lg shadow-lg"})}),z.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[z.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 rounded-lg bg-[var(--hover)] text-[var(--text)] hover:opacity-80",children:"Batal"}),z.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600",children:s?"Menyimpan...":t?"Update":"Simpan"})]})]})})}function cU({datasources:n,setDatasources:e}){const[t,i]=de.useState(!1),[r,s]=de.useState(null),[o,u]=de.useState(null),h=g=>{e(_=>[..._,g]),i(!1),s(null)},d=g=>{e(_=>_.map(y=>y.id===g.id?g:y)),i(!1),s(null)},p=g=>{confirm("Apakah yakin ingin menghapus datasource ini?")&&e(_=>_.filter(y=>y.id!==g))};return z.jsxs("div",{className:"w-full",children:[z.jsxs("div",{className:"flex justify-between items-center mb-4",children:[z.jsx("h2",{className:"text-lg font-bold",children:"List Sumber Gempa"}),z.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",onClick:()=>{s(null),i(!0)},children:"+ Tambah Sumber Gempa"})]}),n.length===0?z.jsx("p",{className:"text-[var(--text)] opacity-60",children:"Belum ada sumber gempa."}):z.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(g=>z.jsxs("div",{className:"border rounded-xl p-4 shadow-sm bg-[var(--card)] text-[var(--text)] hover:shadow-md transition-colors duration-300",style:{borderColor:"var(--color-border)"},children:[z.jsx("h3",{className:"font-semibold text-lg mb-1",children:g.name}),z.jsxs("p",{className:"text-xs opacity-60 mb-2",children:["ID: ",g.id]}),z.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-indigo-100 text-indigo-700 dark:bg-indigo-900 dark:text-indigo-200 rounded-full mb-2",children:g.mechanism||"Unknown"}),z.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[z.jsxs("span",{className:"px-2 py-0.5 text-xs bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-200 rounded-full",children:["Min Mag: ",g.min_mag??"-"]}),z.jsxs("span",{className:"px-2 py-0.5 text-xs bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-200 rounded-full",children:["Max Mag: ",g.max_mag??"-"]})]}),z.jsxs("div",{className:"text-sm mb-3",children:[z.jsx("p",{className:"font-medium",children:"GMPEs:"}),g.gmpe_weights?.length>0?z.jsx("ul",{className:"list-disc list-inside text-xs opacity-80",children:g.gmpe_weights.map((_,y)=>z.jsxs("li",{children:[_.gmpe_name||_.gmpe_id," (",_.weight,")"]},y))}):z.jsx("p",{className:"text-xs opacity-60",children:"Belum ada GMPE"})]}),z.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[z.jsx("button",{className:"flex-1 px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600",onClick:()=>u(g),children:"Lihat Peta"}),z.jsx("button",{className:"flex-1 px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600",onClick:()=>{s(g),i(!0)},children:"Edit"}),z.jsx("button",{className:"flex-1 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",onClick:()=>p(g.id),children:"Hapus"})]})]},g.id))}),t&&z.jsx(uU,{onClose:()=>{i(!1),s(null)},onSaved:r?d:h,initialData:r}),o&&z.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:z.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-xl w-[700px] h-[500px] relative",children:[z.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Preview Peta - ",o.name]}),z.jsxs(Bu,{center:[o.coords_up?.[0]?.lat||-6.9,o.coords_up?.[0]?.lon||107.6],zoom:8,className:"h-[400px] w-full",children:[z.jsx(Uu,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o.coords_up?.length>0&&o.coords_down?.length>0&&z.jsx(yM,{positions:[...o.coords_up.map(g=>[g.lat,g.lon]),...o.coords_down.slice().reverse().map(g=>[g.lat,g.lon])],color:"purple",fillColor:"purple",fillOpacity:.2}),o.coords_up?.length>0&&z.jsx(Rp,{positions:o.coords_up.map(g=>[g.lat,g.lon]),color:"blue"}),o.coords_down?.length>0&&z.jsx(Rp,{positions:o.coords_down.map(g=>[g.lat,g.lon]),color:"red"}),o.coords_up?.map((g,_)=>z.jsx(so,{position:[g.lat,g.lon],children:z.jsxs(Jo,{children:["Up ",_+1,": Depth ",g.depth," km"]})},`up-${_}`)),o.coords_down?.map((g,_)=>z.jsx(so,{position:[g.lat,g.lon],children:z.jsxs(Jo,{children:["Down ",_+1,": Depth ",g.depth," km"]})},`down-${_}`))]}),z.jsx("button",{className:"absolute top-2 right-2 px-3 py-1 bg-gray-300 rounded hover:bg-gray-400",onClick:()=>u(null),children:""})]})})]})}function hU(){const[n,e]=de.useState([]),[t,i]=de.useState(!0),[r,s]=de.useState(null),[o,u]=de.useState(null),h="https://sha-api-production.up.railway.app/api/v1";return de.useEffect(()=>{async function d(){try{const g=await fetch("https://sha-api-production.up.railway.app/api/v1/gmpe");if(!g.ok)throw new Error(`Fetch status: ${g.status}`);const _=await g.json();e(Array.isArray(_)?_:_.data||[])}catch(p){console.error(" Fetch GMPE error:",p),s(p.message||"Gagal fetch GMPE")}finally{i(!1)}}d()},[]),console.log("API URL:",h),t?z.jsx("div",{className:"p-4",children:" Memuat data GMPE..."}):r?z.jsxs("div",{className:"p-4 text-red-500",children:[" ",r]}):n.length===0?z.jsx("div",{className:"p-4 opacity-70",children:"Tidak ada GMPE tersedia"}):z.jsxs("div",{className:"space-y-4",children:[z.jsx("h2",{className:"text-xl font-bold",children:"Daftar GMPE"}),n.map(d=>{const p=d.coeffs?.length>0?Object.keys(d.coeffs[0]):[],g=o===d.id;return z.jsxs("div",{className:"card-custom rounded-2xl shadow",children:[z.jsxs("button",{onClick:()=>u(g?null:d.id),className:"w-full text-left px-6 py-4 flex justify-between items-center",children:[z.jsx("span",{className:"font-semibold",children:d.name}),z.jsx("span",{className:"text-sm opacity-70",children:g?" Tutup":" Detail"})]}),g&&z.jsxs("div",{className:"p-6 space-y-4 border-t",style:{borderColor:"var(--color-border)"},children:[z.jsxs("p",{className:"text-sm opacity-80",children:["Tahun: ",d.year||"-"," | Region:"," ",d.tectonic_region||"-"]}),z.jsx("p",{className:"text-sm",children:d.description}),p.length>0?z.jsx("div",{className:"overflow-x-auto",children:z.jsxs("table",{className:"w-full border text-sm",style:{borderColor:"var(--color-border)"},children:[z.jsx("thead",{children:z.jsx("tr",{style:{backgroundColor:"var(--hover)"},children:p.map(_=>z.jsx("th",{className:"px-3 py-2 border",style:{borderColor:"var(--color-border)"},children:_},_))})}),z.jsx("tbody",{children:d.coeffs.map((_,y)=>z.jsx("tr",{className:"hover:bg-[var(--hover)]",children:p.map((w,S)=>z.jsx("td",{className:"px-3 py-2 border",style:{borderColor:"var(--color-border)"},children:typeof _[w]=="number"?_[w].toFixed(3):_[w]},S))},y))})]})}):z.jsx("p",{className:"opacity-70",children:"Koefisien GMPE tidak tersedia"})]})]},d.id||d.name)})]})}function OT({isOpen:n,setIsOpen:e,activeTab:t,setActiveTab:i,setCurrentProject:r}){const[s,o]=de.useState(""),[u,h]=de.useState([]),[d,p]=de.useState(null),[g,_]=de.useState({visible:!1,x:0,y:0,project:null}),y=[{key:"analysis",label:"PSHA"},{key:"datasource",label:"Datasource"},{key:"gmpe",label:"Attenuation"}];de.useEffect(()=>{if(n)o("animate-slide-in");else if(s==="animate-slide-in"){o("animate-slide-out");const k=setTimeout(()=>o(""),300);return()=>clearTimeout(k)}},[n]),de.useEffect(()=>{const k=localStorage.getItem("access_token"),F=localStorage.getItem("username");k&&F&&p({username:F,token:k})},[]),de.useEffect(()=>{if(!d?.token){h([]);return}(async()=>{try{const F=await Xt.get("https://sha-api-production.up.railway.app/api/v1/projects",{headers:{Authorization:`Bearer ${d.token}`}});h(F.data)}catch(F){console.error("Gagal fetch project:",F),h([])}})()},[d]);const w=k=>{i("analysis"),r(k),e(!1)},S=async k=>{if(d?.token&&confirm(`Delete project "${k.name}"?`))try{await Xt.delete(`https://sha-api-production.up.railway.app/api/v1/projects/${k.id}`,{headers:{Authorization:`Bearer ${d.token}`}}),h(u.filter(F=>F.id!==k.id)),r&&r.id===k.id&&r(null)}catch(F){console.error("Gagal hapus project:",F),alert("Gagal hapus project")}},C=(k,F)=>{k.preventDefault(),_({visible:!0,x:k.pageX,y:k.pageY,project:F})},b=()=>_({visible:!1,x:0,y:0,project:null}),T=()=>u.length>0?u.map(k=>z.jsx("button",{onClick:()=>w(k),onContextMenu:F=>C(F,k),className:"text-left px-2 py-1 rounded hover:bg-[var(--hover)] w-full",children:k.name},k.id)):z.jsx("p",{className:"text-sm text-gray-400",children:"No projects found"});return z.jsxs(z.Fragment,{children:[z.jsxs("aside",{className:"hidden md:flex flex-col w-64 h-screen fixed top-14 left-0 bg-[var(--card)] text-[var(--text)] shadow",children:[z.jsx("nav",{className:"flex flex-col space-y-2 p-4",children:y.map(k=>z.jsx("button",{className:`text-left px-3 py-2 rounded-lg transition ${t===k.key?"bg-blue-600 text-white":"hover:bg-[var(--hover)]"}`,onClick:()=>i(k.key),children:k.label},k.key))}),d&&z.jsxs(z.Fragment,{children:[z.jsx("hr",{className:"my-2 border-gray-500"}),z.jsxs("div",{className:"p-2",children:[z.jsxs("p",{className:"font-semibold mb-1",children:["Projects (",d.username,"):"]}),T()]})]})]}),(n||s==="animate-slide-out")&&z.jsxs("div",{className:"fixed inset-0 z-50 flex md:hidden",onClick:b,children:[z.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>e(!1)}),z.jsxs("aside",{className:`relative z-50 w-64 bg-[var(--card)] text-[var(--text)] p-6 h-full pt-16 shadow-lg ${s}`,children:[z.jsx("button",{onClick:()=>e(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-200",children:""}),z.jsx("nav",{className:"flex flex-col space-y-2 mt-8",children:y.map(k=>z.jsx("button",{className:`text-left px-3 py-2 rounded-lg transition ${t===k.key?"bg-blue-600 text-white":"hover:bg-[var(--hover)]"}`,onClick:()=>{i(k.key),e(!1)},children:k.label},k.key))}),d&&z.jsxs(z.Fragment,{children:[z.jsx("hr",{className:"my-2 border-gray-500"}),z.jsxs("div",{className:"p-2",children:[z.jsxs("p",{className:"font-semibold mb-1",children:["Projects (",d.username,"):"]}),T()]})]})]})]}),g.visible&&z.jsx("div",{style:{top:g.y,left:g.x},className:"fixed bg-[var(--card)] border rounded shadow p-2 z-50",onMouseLeave:b,children:z.jsx("button",{className:"px-2 py-1 hover:bg-red-500 hover:text-white rounded w-full text-left",onClick:()=>{S(g.project),b()},children:"Delete"})})]})}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zT=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=de.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...u},h)=>de.createElement("svg",{ref:h,...fU,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:zT("lucide",r),...u},[...o.map(([d,p])=>de.createElement(d,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=(n,e)=>{const t=de.forwardRef(({className:i,...r},s)=>de.createElement(pU,{ref:s,iconNode:e,className:zT(`lucide-${dU(n)}`,i),...r}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=Jv("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=Jv("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=Jv("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var FT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},t1=bn.createContext&&bn.createContext(FT),yU=["attr","size","title"];function vU(n,e){if(n==null)return{};var t=xU(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function xU(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Xp(){return Xp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Xp.apply(this,arguments)}function n1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Yp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?n1(Object(t),!0).forEach(function(i){wU(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):n1(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function wU(n,e,t){return e=bU(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bU(n){var e=SU(n,"string");return typeof e=="symbol"?e:e+""}function SU(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function BT(n){return n&&n.map((e,t)=>bn.createElement(e.tag,Yp({key:t},e.attr),BT(e.child)))}function MU(n){return e=>bn.createElement(EU,Xp({attr:Yp({},n.attr)},e),BT(n.child))}function EU(n){var e=t=>{var{attr:i,size:r,title:s}=n,o=vU(n,yU),u=r||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),bn.createElement("svg",Xp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:h,style:Yp(Yp({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&bn.createElement("title",null,s),n.children)};return t1!==void 0?bn.createElement(t1.Consumer,null,t=>e(t)):e(FT)}function TU(n){return MU({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}function UT({show:n,onClose:e,onLogin:t,apiUrl:i,theme:r="light"}){const[s,o]=de.useState(""),[u,h]=de.useState(""),[d,p]=de.useState(!1),[g,_]=de.useState("");if(!n)return null;const y=async()=>{p(!0),_("");try{await Xt.post(`${i}/auth/login`,`username=${s}&password=${u}`,{headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0});const S=await Xt.get(`${i}/auth/me`,{withCredentials:!0});if(S.data.email){const C={username:S.data.email,avatar:S.data.avatar||""};t(C)}}catch(S){console.error(S),_("Login gagal, periksa username/password")}finally{p(!1)}},w=()=>{window.location.href=`${i}/auth/google?redirect=${encodeURIComponent(window.location.href)}`};return z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:e}),z.jsxs("div",{className:"fixed z-50 top-1/2 left-1/2 w-full max-w-md p-6 bg-[var(--card)] text-[var(--text)] rounded-lg shadow-lg transform -translate-x-1/2 -translate-y-1/2",children:[z.jsx("h2",{className:"text-lg font-bold mb-4 text-center",children:"Login"}),z.jsx("input",{className:"w-full mb-2 p-2 border rounded",placeholder:"Username",value:s,onChange:S=>o(S.target.value),disabled:d}),z.jsx("input",{type:"password",className:"w-full mb-4 p-2 border rounded",placeholder:"Password",value:u,onChange:S=>h(S.target.value),disabled:d}),g&&z.jsx("p",{className:"text-red-500 text-sm mb-2 text-center",children:g}),z.jsxs("div",{className:"flex flex-col space-y-2",children:[z.jsx("button",{onClick:y,className:"w-full px-4 py-2 bg-blue-500 text-white rounded flex justify-center items-center",disabled:d,children:d?"Logging in...":"Login"}),z.jsxs("button",{onClick:w,className:`flex items-center justify-center w-full border rounded px-3 py-2 transition-colors ${r==="dark"?"bg-gray-800 text-white hover:bg-gray-700":"bg-white text-black hover:bg-gray-100"}`,disabled:d,children:[z.jsx(TU,{className:"w-5 h-5 mr-2"}),"Login with Google"]}),z.jsx("button",{onClick:e,className:"w-full px-4 py-2 border rounded",disabled:d,children:"Cancel"})]})]})]})}function LU({user:n,onClose:e,onUpdate:t}){const[i,r]=de.useState(n.username),[s,o]=de.useState(n.avatar),u=()=>{const h={...n,username:i,avatar:s};localStorage.setItem("username",i),localStorage.setItem("avatar",s),t(h),e()};return z.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:z.jsxs("div",{className:"bg-[var(--card)] p-6 rounded-lg shadow-md w-80",children:[z.jsx("h2",{className:"text-lg font-bold mb-4",children:"Profile"}),z.jsxs("div",{className:"flex flex-col items-center mb-4",children:[z.jsx("img",{src:s,alt:"avatar",className:"w-16 h-16 rounded-full mb-2"}),z.jsx("input",{className:"w-full mb-2 p-2 border rounded",placeholder:"Avatar URL",value:s,onChange:h=>o(h.target.value)})]}),z.jsx("input",{className:"w-full mb-4 p-2 border rounded",placeholder:"Username",value:i,onChange:h=>r(h.target.value)}),z.jsxs("div",{className:"flex justify-end space-x-2",children:[z.jsx("button",{onClick:e,className:"px-4 py-2 border rounded",children:"Cancel"}),z.jsx("button",{onClick:u,className:"px-4 py-2 bg-green-500 text-white rounded",children:"Save"})]})]})})}function HT({onNewProject:n,onHelp:e,theme:t,onThemeToggle:i,onMenuToggle:r,apiUrl:s,user:o,onUserUpdate:u}){const[h,d]=de.useState(!1),[p,g]=de.useState(!1),[_,y]=de.useState(!1),w=()=>{localStorage.removeItem("username"),localStorage.removeItem("avatar"),localStorage.removeItem("access_token"),u&&u(null),y(!1)},S=(C,b,T)=>z.jsx("button",{onClick:b,className:`px-3 py-1 rounded hover:opacity-80 transition ${T}`,children:C});return z.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 h-14 bg-[var(--card)] text-[var(--text)] shadow",children:[z.jsxs("div",{className:"px-4 py-3 flex justify-between items-center",children:[z.jsxs("div",{className:"flex items-center space-x-4",children:[z.jsx("button",{onClick:r,className:"md:hidden p-2 rounded-lg hover:bg-[var(--hover)]",children:z.jsx(mU,{size:24})}),z.jsx("span",{className:"text-xl font-bold",children:"SHA-Web"})]}),z.jsxs("div",{className:"flex items-center space-x-4",children:[o?z.jsxs(z.Fragment,{children:[S("New Project",n,"bg-green-500 text-white"),z.jsxs("div",{className:"relative",children:[z.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>y(!_),children:[o.avatar?z.jsx("img",{src:o.avatar,className:"w-8 h-8 rounded-full"}):z.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-500 flex items-center justify-center text-white",children:o.username?.[0]?.toUpperCase()||"U"}),z.jsx("span",{children:o.username||""})]}),_&&z.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-[var(--card)] shadow-lg rounded border border-gray-600 z-50",children:[z.jsx("button",{className:"block w-full text-left px-3 py-2 hover:bg-gray-600",onClick:()=>{g(!0),y(!1)},children:"Profile"}),z.jsx("button",{className:"block w-full text-left px-3 py-2 hover:bg-gray-600",onClick:()=>y(!1),children:"Settings"}),z.jsx("button",{className:"block w-full text-left px-3 py-2 hover:bg-gray-600",onClick:w,children:"Logout"})]})]})]}):S("Login",()=>d(!0),"hover:text-blue-400"),z.jsx("button",{onClick:i,className:"p-2 rounded-lg hover:bg-[var(--hover)] transition",title:"Toggle theme",children:t==="dark"?z.jsx(_U,{size:20}):z.jsx(gU,{size:20})})]})]}),h&&z.jsx(UT,{apiUrl:s,theme:t,show:h,onClose:()=>d(!1),onLogin:C=>{localStorage.setItem("access_token",C.token||""),localStorage.setItem("username",C.username),localStorage.setItem("avatar",C.avatar||""),u&&u(C),d(!1)}}),p&&o&&z.jsx(LU,{user:o,onClose:()=>g(!1),onUpdate:C=>{u&&u(C)}})]})}function CU({isOpen:n,onClose:e,onSave:t}){const[i,r]=de.useState("");if(de.useEffect(()=>{n&&r("")},[n]),!n)return null;function s(o){o.preventDefault(),i.trim()&&(t(i.trim()),e())}return z.jsx(Kv,{title:"Save Project",onClose:e,width:"w-96",children:z.jsxs("form",{onSubmit:s,className:"space-y-4",children:[z.jsx("input",{type:"text",value:i,onChange:o=>r(o.target.value),placeholder:"Enter project name",className:"w-full border border-[var(--color-border)] rounded px-3 py-2 bg-[var(--bg)] text-[var(--text)]",autoFocus:!0}),z.jsxs("div",{className:"flex justify-end space-x-2",children:[z.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded bg-[var(--hover)] text-[var(--text)] hover:opacity-80",children:"Cancel"}),z.jsx("button",{type:"submit",disabled:!i.trim(),className:`px-4 py-2 rounded text-white ${i.trim()?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,children:"Save"})]})]})})}function PU(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const AU=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,kU=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,RU={};function i1(n,e){return(RU.jsx?kU:AU).test(n)}const IU=/[ \t\n\f\r]/g;function DU(n){return typeof n=="object"?n.type==="text"?r1(n.value):!1:r1(n)}function r1(n){return n.replace(IU,"")===""}class pd{constructor(e,t,i){this.normal=t,this.property=e,i&&(this.space=i)}}pd.prototype.normal={};pd.prototype.property={};pd.prototype.space=void 0;function VT(n,e){const t={},i={};for(const r of n)Object.assign(t,r.property),Object.assign(i,r.normal);return new pd(t,i,e)}function Zy(n){return n.toLowerCase()}class Gi{constructor(e,t){this.attribute=t,this.property=e}}Gi.prototype.attribute="";Gi.prototype.booleanish=!1;Gi.prototype.boolean=!1;Gi.prototype.commaOrSpaceSeparated=!1;Gi.prototype.commaSeparated=!1;Gi.prototype.defined=!1;Gi.prototype.mustUseProperty=!1;Gi.prototype.number=!1;Gi.prototype.overloadedBoolean=!1;Gi.prototype.property="";Gi.prototype.spaceSeparated=!1;Gi.prototype.space=void 0;let NU=0;const Pt=dl(),Rn=dl(),$y=dl(),qe=dl(),an=dl(),Nu=dl(),ar=dl();function dl(){return 2**++NU}const qy=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pt,booleanish:Rn,commaOrSpaceSeparated:ar,commaSeparated:Nu,number:qe,overloadedBoolean:$y,spaceSeparated:an},Symbol.toStringTag,{value:"Module"})),J_=Object.keys(qy);class Qv extends Gi{constructor(e,t,i,r){let s=-1;if(super(e,t),s1(this,"space",r),typeof i=="number")for(;++s<J_.length;){const o=J_[s];s1(this,J_[s],(i&qy[o])===qy[o])}}}Qv.prototype.defined=!0;function s1(n,e,t){t&&(n[e]=t)}function ac(n){const e={},t={};for(const[i,r]of Object.entries(n.properties)){const s=new Qv(i,n.transform(n.attributes||{},i),r,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),e[i]=s,t[Zy(i)]=i,t[Zy(s.attribute)]=i}return new pd(e,t,n.space)}const jT=ac({properties:{ariaActiveDescendant:null,ariaAtomic:Rn,ariaAutoComplete:null,ariaBusy:Rn,ariaChecked:Rn,ariaColCount:qe,ariaColIndex:qe,ariaColSpan:qe,ariaControls:an,ariaCurrent:null,ariaDescribedBy:an,ariaDetails:null,ariaDisabled:Rn,ariaDropEffect:an,ariaErrorMessage:null,ariaExpanded:Rn,ariaFlowTo:an,ariaGrabbed:Rn,ariaHasPopup:null,ariaHidden:Rn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:an,ariaLevel:qe,ariaLive:null,ariaModal:Rn,ariaMultiLine:Rn,ariaMultiSelectable:Rn,ariaOrientation:null,ariaOwns:an,ariaPlaceholder:null,ariaPosInSet:qe,ariaPressed:Rn,ariaReadOnly:Rn,ariaRelevant:null,ariaRequired:Rn,ariaRoleDescription:an,ariaRowCount:qe,ariaRowIndex:qe,ariaRowSpan:qe,ariaSelected:Rn,ariaSetSize:qe,ariaSort:null,ariaValueMax:qe,ariaValueMin:qe,ariaValueNow:qe,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function WT(n,e){return e in n?n[e]:e}function GT(n,e){return WT(n,e.toLowerCase())}const OU=ac({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Nu,acceptCharset:an,accessKey:an,action:null,allow:null,allowFullScreen:Pt,allowPaymentRequest:Pt,allowUserMedia:Pt,alt:null,as:null,async:Pt,autoCapitalize:null,autoComplete:an,autoFocus:Pt,autoPlay:Pt,blocking:an,capture:null,charSet:null,checked:Pt,cite:null,className:an,cols:qe,colSpan:null,content:null,contentEditable:Rn,controls:Pt,controlsList:an,coords:qe|Nu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pt,defer:Pt,dir:null,dirName:null,disabled:Pt,download:$y,draggable:Rn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pt,formTarget:null,headers:an,height:qe,hidden:$y,high:qe,href:null,hrefLang:null,htmlFor:an,httpEquiv:an,id:null,imageSizes:null,imageSrcSet:null,inert:Pt,inputMode:null,integrity:null,is:null,isMap:Pt,itemId:null,itemProp:an,itemRef:an,itemScope:Pt,itemType:an,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pt,low:qe,manifest:null,max:null,maxLength:qe,media:null,method:null,min:null,minLength:qe,multiple:Pt,muted:Pt,name:null,nonce:null,noModule:Pt,noValidate:Pt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pt,optimum:qe,pattern:null,ping:an,placeholder:null,playsInline:Pt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pt,referrerPolicy:null,rel:an,required:Pt,reversed:Pt,rows:qe,rowSpan:qe,sandbox:an,scope:null,scoped:Pt,seamless:Pt,selected:Pt,shadowRootClonable:Pt,shadowRootDelegatesFocus:Pt,shadowRootMode:null,shape:null,size:qe,sizes:null,slot:null,span:qe,spellCheck:Rn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:qe,step:null,style:null,tabIndex:qe,target:null,title:null,translate:null,type:null,typeMustMatch:Pt,useMap:null,value:Rn,width:qe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:an,axis:null,background:null,bgColor:null,border:qe,borderColor:null,bottomMargin:qe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pt,declare:Pt,event:null,face:null,frame:null,frameBorder:null,hSpace:qe,leftMargin:qe,link:null,longDesc:null,lowSrc:null,marginHeight:qe,marginWidth:qe,noResize:Pt,noHref:Pt,noShade:Pt,noWrap:Pt,object:null,profile:null,prompt:null,rev:null,rightMargin:qe,rules:null,scheme:null,scrolling:Rn,standby:null,summary:null,text:null,topMargin:qe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:qe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pt,disableRemotePlayback:Pt,prefix:null,property:null,results:qe,security:null,unselectable:null},space:"html",transform:GT}),zU=ac({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ar,accentHeight:qe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:qe,amplitude:qe,arabicForm:null,ascent:qe,attributeName:null,attributeType:null,azimuth:qe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:qe,by:null,calcMode:null,capHeight:qe,className:an,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:qe,diffuseConstant:qe,direction:null,display:null,dur:null,divisor:qe,dominantBaseline:null,download:Pt,dx:null,dy:null,edgeMode:null,editable:null,elevation:qe,enableBackground:null,end:null,event:null,exponent:qe,externalResourcesRequired:null,fill:null,fillOpacity:qe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Nu,g2:Nu,glyphName:Nu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:qe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:qe,horizOriginX:qe,horizOriginY:qe,id:null,ideographic:qe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:qe,k:qe,k1:qe,k2:qe,k3:qe,k4:qe,kernelMatrix:ar,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:qe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:qe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:qe,overlineThickness:qe,paintOrder:null,panose1:null,path:null,pathLength:qe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:an,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:qe,pointsAtY:qe,pointsAtZ:qe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ar,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ar,rev:ar,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ar,requiredFeatures:ar,requiredFonts:ar,requiredFormats:ar,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:qe,specularExponent:qe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:qe,strikethroughThickness:qe,string:null,stroke:null,strokeDashArray:ar,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:qe,strokeOpacity:qe,strokeWidth:null,style:null,surfaceScale:qe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ar,tabIndex:qe,tableValues:null,target:null,targetX:qe,targetY:qe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ar,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:qe,underlineThickness:qe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:qe,values:null,vAlphabetic:qe,vMathematical:qe,vectorEffect:null,vHanging:qe,vIdeographic:qe,version:null,vertAdvY:qe,vertOriginX:qe,vertOriginY:qe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:qe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:WT}),ZT=ac({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),$T=ac({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:GT}),qT=ac({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),FU={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},BU=/[A-Z]/g,o1=/-[a-z]/g,UU=/^data[-\w.:]+$/i;function HU(n,e){const t=Zy(e);let i=e,r=Gi;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&UU.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(o1,jU);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!o1.test(s)){let o=s.replace(BU,VU);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}r=Qv}return new r(i,e)}function VU(n){return"-"+n.toLowerCase()}function jU(n){return n.charAt(1).toUpperCase()}const WU=VT([jT,OU,ZT,$T,qT],"html"),ex=VT([jT,zU,ZT,$T,qT],"svg");function GU(n){return n.join(" ").trim()}var wu={},Q_,a1;function ZU(){if(a1)return Q_;a1=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,u=/^\s+|\s+$/g,h=`
`,d="/",p="*",g="",_="comment",y="declaration";Q_=function(S,C){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];C=C||{};var b=1,T=1;function k(Y){var ee=Y.match(e);ee&&(b+=ee.length);var oe=Y.lastIndexOf(h);T=~oe?Y.length-oe:T+Y.length}function F(){var Y={line:b,column:T};return function(ee){return ee.position=new R(Y),O(),ee}}function R(Y){this.start=Y,this.end={line:b,column:T},this.source=C.source}R.prototype.content=S;function B(Y){var ee=new Error(C.source+":"+b+":"+T+": "+Y);if(ee.reason=Y,ee.filename=C.source,ee.line=b,ee.column=T,ee.source=S,!C.silent)throw ee}function N(Y){var ee=Y.exec(S);if(ee){var oe=ee[0];return k(oe),S=S.slice(oe.length),ee}}function O(){N(t)}function j(Y){var ee;for(Y=Y||[];ee=W();)ee!==!1&&Y.push(ee);return Y}function W(){var Y=F();if(!(d!=S.charAt(0)||p!=S.charAt(1))){for(var ee=2;g!=S.charAt(ee)&&(p!=S.charAt(ee)||d!=S.charAt(ee+1));)++ee;if(ee+=2,g===S.charAt(ee-1))return B("End of comment missing");var oe=S.slice(2,ee-2);return T+=2,k(oe),S=S.slice(ee),T+=2,Y({type:_,comment:oe})}}function H(){var Y=F(),ee=N(i);if(ee){if(W(),!N(r))return B("property missing ':'");var oe=N(s),ae=Y({type:y,property:w(ee[0].replace(n,g)),value:oe?w(oe[0].replace(n,g)):g});return N(o),ae}}function J(){var Y=[];j(Y);for(var ee;ee=H();)ee!==!1&&(Y.push(ee),j(Y));return Y}return O(),J()};function w(S){return S?S.replace(u,g):g}return Q_}var l1;function $U(){if(l1)return wu;l1=1;var n=wu&&wu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wu,"__esModule",{value:!0}),wu.default=t;var e=n(ZU());function t(i,r){var s=null;if(!i||typeof i!="string")return s;var o=(0,e.default)(i),u=typeof r=="function";return o.forEach(function(h){if(h.type==="declaration"){var d=h.property,p=h.value;u?r(d,p,h):p&&(s=s||{},s[d]=p)}}),s}return wu}var fh={},u1;function qU(){if(u1)return fh;u1=1,Object.defineProperty(fh,"__esModule",{value:!0}),fh.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,s=function(d){return!d||t.test(d)||n.test(d)},o=function(d,p){return p.toUpperCase()},u=function(d,p){return"".concat(p,"-")},h=function(d,p){return p===void 0&&(p={}),s(d)?d:(d=d.toLowerCase(),p.reactCompat?d=d.replace(r,u):d=d.replace(i,u),d.replace(e,o))};return fh.camelCase=h,fh}var ph,c1;function XU(){if(c1)return ph;c1=1;var n=ph&&ph.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=n($U()),t=qU();function i(r,s){var o={};return!r||typeof r!="string"||(0,e.default)(r,function(u,h){u&&h&&(o[(0,t.camelCase)(u,s)]=h)}),o}return i.default=i,ph=i,ph}var YU=XU();const KU=$u(YU),XT=YT("end"),tx=YT("start");function YT(n){return e;function e(t){const i=t&&t.position&&t.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function JU(n){const e=tx(n),t=XT(n);if(e&&t)return{start:e,end:t}}function Bh(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?h1(n.position):"start"in n||"end"in n?h1(n):"line"in n||"column"in n?Xy(n):""}function Xy(n){return d1(n&&n.line)+":"+d1(n&&n.column)}function h1(n){return Xy(n&&n.start)+"-"+Xy(n&&n.end)}function d1(n){return n&&typeof n=="number"?n:1}class yi extends Error{constructor(e,t,i){super(),typeof t=="string"&&(i=t,t=void 0);let r="",s={},o=!1;if(t&&("line"in t&&"column"in t?s={place:t}:"start"in t&&"end"in t?s={place:t}:"type"in t?s={ancestors:[t],place:t.position}:s={...t}),typeof e=="string"?r=e:!s.cause&&e&&(o=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof i=="string"){const h=i.indexOf(":");h===-1?s.ruleId=i:(s.source=i.slice(0,h),s.ruleId=i.slice(h+1))}if(!s.place&&s.ancestors&&s.ancestors){const h=s.ancestors[s.ancestors.length-1];h&&(s.place=h.position)}const u=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=u?u.line:void 0,this.name=Bh(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}yi.prototype.file="";yi.prototype.name="";yi.prototype.reason="";yi.prototype.message="";yi.prototype.stack="";yi.prototype.column=void 0;yi.prototype.line=void 0;yi.prototype.ancestors=void 0;yi.prototype.cause=void 0;yi.prototype.fatal=void 0;yi.prototype.place=void 0;yi.prototype.ruleId=void 0;yi.prototype.source=void 0;const nx={}.hasOwnProperty,QU=new Map,eH=/[A-Z]/g,tH=new Set(["table","tbody","thead","tfoot","tr"]),nH=new Set(["td","th"]),KT="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function iH(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=hH(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=cH(t,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ex:WU,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=JT(r,n,void 0);return s&&typeof s!="string"?s:r.create(n,r.Fragment,{children:s||void 0},void 0)}function JT(n,e,t){if(e.type==="element")return rH(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return sH(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return aH(n,e,t);if(e.type==="mdxjsEsm")return oH(n,e);if(e.type==="root")return lH(n,e,t);if(e.type==="text")return uH(n,e)}function rH(n,e,t){const i=n.schema;let r=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=ex,n.schema=r),n.ancestors.push(e);const s=eL(n,e.tagName,!1),o=dH(n,e);let u=rx(n,e);return tH.has(e.tagName)&&(u=u.filter(function(h){return typeof h=="string"?!DU(h):!0})),QT(n,o,s,e),ix(o,u),n.ancestors.pop(),n.schema=i,n.create(e,s,o,t)}function sH(n,e){if(e.data&&e.data.estree&&n.evaluater){const i=e.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}nd(n,e.position)}function oH(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);nd(n,e.position)}function aH(n,e,t){const i=n.schema;let r=i;e.name==="svg"&&i.space==="html"&&(r=ex,n.schema=r),n.ancestors.push(e);const s=e.name===null?n.Fragment:eL(n,e.name,!0),o=fH(n,e),u=rx(n,e);return QT(n,o,s,e),ix(o,u),n.ancestors.pop(),n.schema=i,n.create(e,s,o,t)}function lH(n,e,t){const i={};return ix(i,rx(n,e)),n.create(e,n.Fragment,i,t)}function uH(n,e){return e.value}function QT(n,e,t,i){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=i)}function ix(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function cH(n,e,t){return i;function i(r,s,o,u){const d=Array.isArray(o.children)?t:e;return u?d(s,o,u):d(s,o)}}function hH(n,e){return t;function t(i,r,s,o){const u=Array.isArray(s.children),h=tx(i);return e(r,s,o,u,{columnNumber:h?h.column-1:void 0,fileName:n,lineNumber:h?h.line:void 0},void 0)}}function dH(n,e){const t={};let i,r;for(r in e.properties)if(r!=="children"&&nx.call(e.properties,r)){const s=pH(n,r,e.properties[r]);if(s){const[o,u]=s;n.tableCellAlignToStyle&&o==="align"&&typeof u=="string"&&nH.has(e.tagName)?i=u:t[o]=u}}if(i){const s=t.style||(t.style={});s[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return t}function fH(n,e){const t={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const s=i.data.estree.body[0];s.type;const o=s.expression;o.type;const u=o.properties[0];u.type,Object.assign(t,n.evaluater.evaluateExpression(u.argument))}else nd(n,e.position);else{const r=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const u=i.value.data.estree.body[0];u.type,s=n.evaluater.evaluateExpression(u.expression)}else nd(n,e.position);else s=i.value===null?!0:i.value;t[r]=s}return t}function rx(n,e){const t=[];let i=-1;const r=n.passKeys?new Map:QU;for(;++i<e.children.length;){const s=e.children[i];let o;if(n.passKeys){const h=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(h){const d=r.get(h)||0;o=h+"-"+d,r.set(h,d+1)}}const u=JT(n,s,o);u!==void 0&&t.push(u)}return t}function pH(n,e,t){const i=HU(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=i.commaSeparated?PU(t):GU(t)),i.property==="style"){let r=typeof t=="object"?t:mH(n,String(t));return n.stylePropertyNameCase==="css"&&(r=gH(r)),["style",r]}return[n.elementAttributeNameCase==="react"&&i.space?FU[i.property]||i.property:i.attribute,t]}}function mH(n,e){try{return KU(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const i=t,r=new yi("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=n.filePath||void 0,r.url=KT+"#cannot-parse-style-attribute",r}}function eL(n,e,t){let i;if(!t)i={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let s=-1,o;for(;++s<r.length;){const u=i1(r[s])?{type:"Identifier",name:r[s]}:{type:"Literal",value:r[s]};o=o?{type:"MemberExpression",object:o,property:u,computed:!!(s&&u.type==="Literal"),optional:!1}:u}i=o}else i=i1(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const r=i.value;return nx.call(n.components,r)?n.components[r]:r}if(n.evaluater)return n.evaluater.evaluateExpression(i);nd(n)}function nd(n,e){const t=new yi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=KT+"#cannot-handle-mdx-estrees-without-createevaluater",t}function gH(n){const e={};let t;for(t in n)nx.call(n,t)&&(e[_H(t)]=n[t]);return e}function _H(n){let e=n.replace(eH,yH);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function yH(n){return"-"+n.toLowerCase()}const ey={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},vH={};function xH(n,e){const t=vH,i=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,r=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return tL(n,i,r)}function tL(n,e,t){if(wH(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return f1(n.children,e,t)}return Array.isArray(n)?f1(n,e,t):""}function f1(n,e,t){const i=[];let r=-1;for(;++r<n.length;)i[r]=tL(n[r],e,t);return i.join("")}function wH(n){return!!(n&&typeof n=="object")}const p1=document.createElement("i");function sx(n){const e="&"+n+";";p1.innerHTML=e;const t=p1.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function Cs(n,e,t,i){const r=n.length;let s=0,o;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,t=t>0?t:0,i.length<1e4)o=Array.from(i),o.unshift(e,t),n.splice(...o);else for(t&&n.splice(e,t);s<i.length;)o=i.slice(s,s+1e4),o.unshift(e,0),n.splice(...o),s+=1e4,e+=1e4}function Cr(n,e){return n.length>0?(Cs(n,n.length,0,e),n):e}const m1={}.hasOwnProperty;function bH(n){const e={};let t=-1;for(;++t<n.length;)SH(e,n[t]);return e}function SH(n,e){let t;for(t in e){const r=(m1.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t];let o;if(s)for(o in s){m1.call(r,o)||(r[o]=[]);const u=s[o];MH(r[o],Array.isArray(u)?u:u?[u]:[])}}}function MH(n,e){let t=-1;const i=[];for(;++t<e.length;)(e[t].add==="after"?n:i).push(e[t]);Cs(n,0,0,i)}function nL(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function Ou(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const bs=ca(/[A-Za-z]/),ur=ca(/[\dA-Za-z]/),EH=ca(/[#-'*+\--9=?A-Z^-~]/);function Yy(n){return n!==null&&(n<32||n===127)}const Ky=ca(/\d/),TH=ca(/[\dA-Fa-f]/),LH=ca(/[!-/:-@[-`{-~]/);function bt(n){return n!==null&&n<-2}function ji(n){return n!==null&&(n<0||n===32)}function jt(n){return n===-2||n===-1||n===32}const CH=ca(new RegExp("\\p{P}|\\p{S}","u")),PH=ca(/\s/);function ca(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function lc(n){const e=[];let t=-1,i=0,r=0;for(;++t<n.length;){const s=n.charCodeAt(t);let o="";if(s===37&&ur(n.charCodeAt(t+1))&&ur(n.charCodeAt(t+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const u=n.charCodeAt(t+1);s<56320&&u>56319&&u<57344?(o=String.fromCharCode(s,u),r=1):o=""}else o=String.fromCharCode(s);o&&(e.push(n.slice(i,t),encodeURIComponent(o)),i=t+r+1,o=""),r&&(t+=r,r=0)}return e.join("")+n.slice(i)}function un(n,e,t,i){const r=i?i-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(h){return jt(h)?(n.enter(t),u(h)):e(h)}function u(h){return jt(h)&&s++<r?(n.consume(h),u):(n.exit(t),e(h))}}const AH={tokenize:kH};function kH(n){const e=n.attempt(this.parser.constructs.contentInitial,i,r);let t;return e;function i(u){if(u===null){n.consume(u);return}return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),un(n,e,"linePrefix")}function r(u){return n.enter("paragraph"),s(u)}function s(u){const h=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=h),t=h,o(u)}function o(u){if(u===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(u);return}return bt(u)?(n.consume(u),n.exit("chunkText"),s):(n.consume(u),o)}}const RH={tokenize:IH},g1={tokenize:DH};function IH(n){const e=this,t=[];let i=0,r,s,o;return u;function u(k){if(i<t.length){const F=t[i];return e.containerState=F[1],n.attempt(F[0].continuation,h,d)(k)}return d(k)}function h(k){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&T();const F=e.events.length;let R=F,B;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){B=e.events[R][1].end;break}b(i);let N=F;for(;N<e.events.length;)e.events[N][1].end={...B},N++;return Cs(e.events,R+1,0,e.events.slice(F)),e.events.length=N,d(k)}return u(k)}function d(k){if(i===t.length){if(!r)return _(k);if(r.currentConstruct&&r.currentConstruct.concrete)return w(k);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(g1,p,g)(k)}function p(k){return r&&T(),b(i),_(k)}function g(k){return e.parser.lazy[e.now().line]=i!==t.length,o=e.now().offset,w(k)}function _(k){return e.containerState={},n.attempt(g1,y,w)(k)}function y(k){return i++,t.push([e.currentConstruct,e.containerState]),_(k)}function w(k){if(k===null){r&&T(),b(0),n.consume(k);return}return r=r||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),S(k)}function S(k){if(k===null){C(n.exit("chunkFlow"),!0),b(0),n.consume(k);return}return bt(k)?(n.consume(k),C(n.exit("chunkFlow")),i=0,e.interrupt=void 0,u):(n.consume(k),S)}function C(k,F){const R=e.sliceStream(k);if(F&&R.push(null),k.previous=s,s&&(s.next=k),s=k,r.defineSkip(k.start),r.write(R),e.parser.lazy[k.start.line]){let B=r.events.length;for(;B--;)if(r.events[B][1].start.offset<o&&(!r.events[B][1].end||r.events[B][1].end.offset>o))return;const N=e.events.length;let O=N,j,W;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){if(j){W=e.events[O][1].end;break}j=!0}for(b(i),B=N;B<e.events.length;)e.events[B][1].end={...W},B++;Cs(e.events,O+1,0,e.events.slice(N)),e.events.length=B}}function b(k){let F=t.length;for(;F-- >k;){const R=t[F];e.containerState=R[1],R[0].exit.call(e,n)}t.length=k}function T(){r.write([null]),s=void 0,r=void 0,e.containerState._closeFlow=void 0}}function DH(n,e,t){return un(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function _1(n){if(n===null||ji(n)||PH(n))return 1;if(CH(n))return 2}function ox(n,e,t){const i=[];let r=-1;for(;++r<n.length;){const s=n[r].resolveAll;s&&!i.includes(s)&&(e=s(e,t),i.push(s))}return e}const Jy={name:"attention",resolveAll:NH,tokenize:OH};function NH(n,e){let t=-1,i,r,s,o,u,h,d,p;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(i=t;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&e.sliceSerialize(n[i][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[i][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;h=n[i][1].end.offset-n[i][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const g={...n[i][1].end},_={...n[t][1].start};y1(g,-h),y1(_,h),o={type:h>1?"strongSequence":"emphasisSequence",start:g,end:{...n[i][1].end}},u={type:h>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:_},s={type:h>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[t][1].start}},r={type:h>1?"strong":"emphasis",start:{...o.start},end:{...u.end}},n[i][1].end={...o.start},n[t][1].start={...u.end},d=[],n[i][1].end.offset-n[i][1].start.offset&&(d=Cr(d,[["enter",n[i][1],e],["exit",n[i][1],e]])),d=Cr(d,[["enter",r,e],["enter",o,e],["exit",o,e],["enter",s,e]]),d=Cr(d,ox(e.parser.constructs.insideSpan.null,n.slice(i+1,t),e)),d=Cr(d,[["exit",s,e],["enter",u,e],["exit",u,e],["exit",r,e]]),n[t][1].end.offset-n[t][1].start.offset?(p=2,d=Cr(d,[["enter",n[t][1],e],["exit",n[t][1],e]])):p=0,Cs(n,i-1,t-i+3,d),t=i+d.length-p-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function OH(n,e){const t=this.parser.constructs.attentionMarkers.null,i=this.previous,r=_1(i);let s;return o;function o(h){return s=h,n.enter("attentionSequence"),u(h)}function u(h){if(h===s)return n.consume(h),u;const d=n.exit("attentionSequence"),p=_1(h),g=!p||p===2&&r||t.includes(h),_=!r||r===2&&p||t.includes(i);return d._open=!!(s===42?g:g&&(r||!_)),d._close=!!(s===42?_:_&&(p||!g)),e(h)}}function y1(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const zH={name:"autolink",tokenize:FH};function FH(n,e,t){let i=0;return r;function r(y){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(y){return bs(y)?(n.consume(y),o):y===64?t(y):d(y)}function o(y){return y===43||y===45||y===46||ur(y)?(i=1,u(y)):d(y)}function u(y){return y===58?(n.consume(y),i=0,h):(y===43||y===45||y===46||ur(y))&&i++<32?(n.consume(y),u):(i=0,d(y))}function h(y){return y===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.exit("autolink"),e):y===null||y===32||y===60||Yy(y)?t(y):(n.consume(y),h)}function d(y){return y===64?(n.consume(y),p):EH(y)?(n.consume(y),d):t(y)}function p(y){return ur(y)?g(y):t(y)}function g(y){return y===46?(n.consume(y),i=0,p):y===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.exit("autolink"),e):_(y)}function _(y){if((y===45||ur(y))&&i++<63){const w=y===45?_:g;return n.consume(y),w}return t(y)}}const Tm={partial:!0,tokenize:BH};function BH(n,e,t){return i;function i(s){return jt(s)?un(n,r,"linePrefix")(s):r(s)}function r(s){return s===null||bt(s)?e(s):t(s)}}const iL={continuation:{tokenize:HH},exit:VH,name:"blockQuote",tokenize:UH};function UH(n,e,t){const i=this;return r;function r(o){if(o===62){const u=i.containerState;return u.open||(n.enter("blockQuote",{_container:!0}),u.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),s}return t(o)}function s(o){return jt(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(o))}}function HH(n,e,t){const i=this;return r;function r(o){return jt(o)?un(n,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return n.attempt(iL,e,t)(o)}}function VH(n){n.exit("blockQuote")}const rL={name:"characterEscape",tokenize:jH};function jH(n,e,t){return i;function i(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),r}function r(s){return LH(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}const sL={name:"characterReference",tokenize:WH};function WH(n,e,t){const i=this;let r=0,s,o;return u;function u(g){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(g),n.exit("characterReferenceMarker"),h}function h(g){return g===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(g),n.exit("characterReferenceMarkerNumeric"),d):(n.enter("characterReferenceValue"),s=31,o=ur,p(g))}function d(g){return g===88||g===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(g),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,o=TH,p):(n.enter("characterReferenceValue"),s=7,o=Ky,p(g))}function p(g){if(g===59&&r){const _=n.exit("characterReferenceValue");return o===ur&&!sx(i.sliceSerialize(_))?t(g):(n.enter("characterReferenceMarker"),n.consume(g),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return o(g)&&r++<s?(n.consume(g),p):t(g)}}const v1={partial:!0,tokenize:ZH},x1={concrete:!0,name:"codeFenced",tokenize:GH};function GH(n,e,t){const i=this,r={partial:!0,tokenize:R};let s=0,o=0,u;return h;function h(B){return d(B)}function d(B){const N=i.events[i.events.length-1];return s=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,u=B,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),p(B)}function p(B){return B===u?(o++,n.consume(B),p):o<3?t(B):(n.exit("codeFencedFenceSequence"),jt(B)?un(n,g,"whitespace")(B):g(B))}function g(B){return B===null||bt(B)?(n.exit("codeFencedFence"),i.interrupt?e(B):n.check(v1,S,F)(B)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),_(B))}function _(B){return B===null||bt(B)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),g(B)):jt(B)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),un(n,y,"whitespace")(B)):B===96&&B===u?t(B):(n.consume(B),_)}function y(B){return B===null||bt(B)?g(B):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),w(B))}function w(B){return B===null||bt(B)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),g(B)):B===96&&B===u?t(B):(n.consume(B),w)}function S(B){return n.attempt(r,F,C)(B)}function C(B){return n.enter("lineEnding"),n.consume(B),n.exit("lineEnding"),b}function b(B){return s>0&&jt(B)?un(n,T,"linePrefix",s+1)(B):T(B)}function T(B){return B===null||bt(B)?n.check(v1,S,F)(B):(n.enter("codeFlowValue"),k(B))}function k(B){return B===null||bt(B)?(n.exit("codeFlowValue"),T(B)):(n.consume(B),k)}function F(B){return n.exit("codeFenced"),e(B)}function R(B,N,O){let j=0;return W;function W(oe){return B.enter("lineEnding"),B.consume(oe),B.exit("lineEnding"),H}function H(oe){return B.enter("codeFencedFence"),jt(oe)?un(B,J,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(oe):J(oe)}function J(oe){return oe===u?(B.enter("codeFencedFenceSequence"),Y(oe)):O(oe)}function Y(oe){return oe===u?(j++,B.consume(oe),Y):j>=o?(B.exit("codeFencedFenceSequence"),jt(oe)?un(B,ee,"whitespace")(oe):ee(oe)):O(oe)}function ee(oe){return oe===null||bt(oe)?(B.exit("codeFencedFence"),N(oe)):O(oe)}}}function ZH(n,e,t){const i=this;return r;function r(o){return o===null?t(o):(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s)}function s(o){return i.parser.lazy[i.now().line]?t(o):e(o)}}const ty={name:"codeIndented",tokenize:qH},$H={partial:!0,tokenize:XH};function qH(n,e,t){const i=this;return r;function r(d){return n.enter("codeIndented"),un(n,s,"linePrefix",5)(d)}function s(d){const p=i.events[i.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?o(d):t(d)}function o(d){return d===null?h(d):bt(d)?n.attempt($H,o,h)(d):(n.enter("codeFlowValue"),u(d))}function u(d){return d===null||bt(d)?(n.exit("codeFlowValue"),o(d)):(n.consume(d),u)}function h(d){return n.exit("codeIndented"),e(d)}}function XH(n,e,t){const i=this;return r;function r(o){return i.parser.lazy[i.now().line]?t(o):bt(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),r):un(n,s,"linePrefix",5)(o)}function s(o){const u=i.events[i.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(o):bt(o)?r(o):t(o)}}const YH={name:"codeText",previous:JH,resolve:KH,tokenize:QH};function KH(n){let e=n.length-4,t=3,i,r;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(i=t;++i<e;)if(n[i][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(i=t-1,e++;++i<=e;)r===void 0?i!==e&&n[i][1].type!=="lineEnding"&&(r=i):(i===e||n[i][1].type==="lineEnding")&&(n[r][1].type="codeTextData",i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return n}function JH(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function QH(n,e,t){let i=0,r,s;return o;function o(g){return n.enter("codeText"),n.enter("codeTextSequence"),u(g)}function u(g){return g===96?(n.consume(g),i++,u):(n.exit("codeTextSequence"),h(g))}function h(g){return g===null?t(g):g===32?(n.enter("space"),n.consume(g),n.exit("space"),h):g===96?(s=n.enter("codeTextSequence"),r=0,p(g)):bt(g)?(n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),h):(n.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||bt(g)?(n.exit("codeTextData"),h(g)):(n.consume(g),d)}function p(g){return g===96?(n.consume(g),r++,p):r===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(g)):(s.type="codeTextData",d(g))}}class e6{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const i=t??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,t,i){const r=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&mh(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),mh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),mh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);mh(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);mh(this.left,t.reverse())}}}function mh(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function oL(n){const e={};let t=-1,i,r,s,o,u,h,d;const p=new e6(n);for(;++t<p.length;){for(;t in e;)t=e[t];if(i=p.get(t),t&&i[1].type==="chunkFlow"&&p.get(t-1)[1].type==="listItemPrefix"&&(h=i[1]._tokenizer.events,s=0,s<h.length&&h[s][1].type==="lineEndingBlank"&&(s+=2),s<h.length&&h[s][1].type==="content"))for(;++s<h.length&&h[s][1].type!=="content";)h[s][1].type==="chunkText"&&(h[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,t6(p,t)),t=e[t],d=!0);else if(i[1]._container){for(s=t,r=void 0;s--;)if(o=p.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(r&&(p.get(r)[1].type="lineEndingBlank"),o[1].type="lineEnding",r=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;r&&(i[1].end={...p.get(r)[1].start},u=p.slice(r,t),u.unshift(i),p.splice(r,t-r+1,u))}}return Cs(n,0,Number.POSITIVE_INFINITY,p.slice(0)),!d}function t6(n,e){const t=n.get(e)[1],i=n.get(e)[2];let r=e-1;const s=[];let o=t._tokenizer;o||(o=i.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const u=o.events,h=[],d={};let p,g,_=-1,y=t,w=0,S=0;const C=[S];for(;y;){for(;n.get(++r)[1]!==y;);s.push(r),y._tokenizer||(p=i.sliceStream(y),y.next||p.push(null),g&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(p),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),g=y,y=y.next}for(y=t;++_<u.length;)u[_][0]==="exit"&&u[_-1][0]==="enter"&&u[_][1].type===u[_-1][1].type&&u[_][1].start.line!==u[_][1].end.line&&(S=_+1,C.push(S),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):C.pop(),_=C.length;_--;){const b=u.slice(C[_],C[_+1]),T=s.pop();h.push([T,T+b.length-1]),n.splice(T,2,b)}for(h.reverse(),_=-1;++_<h.length;)d[w+h[_][0]]=w+h[_][1],w+=h[_][1]-h[_][0]-1;return d}const n6={resolve:r6,tokenize:s6},i6={partial:!0,tokenize:o6};function r6(n){return oL(n),n}function s6(n,e){let t;return i;function i(u){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),r(u)}function r(u){return u===null?s(u):bt(u)?n.check(i6,o,s)(u):(n.consume(u),r)}function s(u){return n.exit("chunkContent"),n.exit("content"),e(u)}function o(u){return n.consume(u),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,r}}function o6(n,e,t){const i=this;return r;function r(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),un(n,s,"linePrefix")}function s(o){if(o===null||bt(o))return t(o);const u=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(o):n.interrupt(i.parser.constructs.flow,t,e)(o)}}function aL(n,e,t,i,r,s,o,u,h){const d=h||Number.POSITIVE_INFINITY;let p=0;return g;function g(b){return b===60?(n.enter(i),n.enter(r),n.enter(s),n.consume(b),n.exit(s),_):b===null||b===32||b===41||Yy(b)?t(b):(n.enter(i),n.enter(o),n.enter(u),n.enter("chunkString",{contentType:"string"}),S(b))}function _(b){return b===62?(n.enter(s),n.consume(b),n.exit(s),n.exit(r),n.exit(i),e):(n.enter(u),n.enter("chunkString",{contentType:"string"}),y(b))}function y(b){return b===62?(n.exit("chunkString"),n.exit(u),_(b)):b===null||b===60||bt(b)?t(b):(n.consume(b),b===92?w:y)}function w(b){return b===60||b===62||b===92?(n.consume(b),y):y(b)}function S(b){return!p&&(b===null||b===41||ji(b))?(n.exit("chunkString"),n.exit(u),n.exit(o),n.exit(i),e(b)):p<d&&b===40?(n.consume(b),p++,S):b===41?(n.consume(b),p--,S):b===null||b===32||b===40||Yy(b)?t(b):(n.consume(b),b===92?C:S)}function C(b){return b===40||b===41||b===92?(n.consume(b),S):S(b)}}function lL(n,e,t,i,r,s){const o=this;let u=0,h;return d;function d(y){return n.enter(i),n.enter(r),n.consume(y),n.exit(r),n.enter(s),p}function p(y){return u>999||y===null||y===91||y===93&&!h||y===94&&!u&&"_hiddenFootnoteSupport"in o.parser.constructs?t(y):y===93?(n.exit(s),n.enter(r),n.consume(y),n.exit(r),n.exit(i),e):bt(y)?(n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),p):(n.enter("chunkString",{contentType:"string"}),g(y))}function g(y){return y===null||y===91||y===93||bt(y)||u++>999?(n.exit("chunkString"),p(y)):(n.consume(y),h||(h=!jt(y)),y===92?_:g)}function _(y){return y===91||y===92||y===93?(n.consume(y),u++,g):g(y)}}function uL(n,e,t,i,r,s){let o;return u;function u(_){return _===34||_===39||_===40?(n.enter(i),n.enter(r),n.consume(_),n.exit(r),o=_===40?41:_,h):t(_)}function h(_){return _===o?(n.enter(r),n.consume(_),n.exit(r),n.exit(i),e):(n.enter(s),d(_))}function d(_){return _===o?(n.exit(s),h(o)):_===null?t(_):bt(_)?(n.enter("lineEnding"),n.consume(_),n.exit("lineEnding"),un(n,d,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),p(_))}function p(_){return _===o||_===null||bt(_)?(n.exit("chunkString"),d(_)):(n.consume(_),_===92?g:p)}function g(_){return _===o||_===92?(n.consume(_),p):p(_)}}function Uh(n,e){let t;return i;function i(r){return bt(r)?(n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),t=!0,i):jt(r)?un(n,i,t?"linePrefix":"lineSuffix")(r):e(r)}}const a6={name:"definition",tokenize:u6},l6={partial:!0,tokenize:c6};function u6(n,e,t){const i=this;let r;return s;function s(y){return n.enter("definition"),o(y)}function o(y){return lL.call(i,n,u,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function u(y){return r=Ou(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),y===58?(n.enter("definitionMarker"),n.consume(y),n.exit("definitionMarker"),h):t(y)}function h(y){return ji(y)?Uh(n,d)(y):d(y)}function d(y){return aL(n,p,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function p(y){return n.attempt(l6,g,g)(y)}function g(y){return jt(y)?un(n,_,"whitespace")(y):_(y)}function _(y){return y===null||bt(y)?(n.exit("definition"),i.parser.defined.push(r),e(y)):t(y)}}function c6(n,e,t){return i;function i(u){return ji(u)?Uh(n,r)(u):t(u)}function r(u){return uL(n,s,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function s(u){return jt(u)?un(n,o,"whitespace")(u):o(u)}function o(u){return u===null||bt(u)?e(u):t(u)}}const h6={name:"hardBreakEscape",tokenize:d6};function d6(n,e,t){return i;function i(s){return n.enter("hardBreakEscape"),n.consume(s),r}function r(s){return bt(s)?(n.exit("hardBreakEscape"),e(s)):t(s)}}const f6={name:"headingAtx",resolve:p6,tokenize:m6};function p6(n,e){let t=n.length-2,i=3,r,s;return n[i][1].type==="whitespace"&&(i+=2),t-2>i&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(i===t-1||t-4>i&&n[t-2][1].type==="whitespace")&&(t-=i+1===t?2:4),t>i&&(r={type:"atxHeadingText",start:n[i][1].start,end:n[t][1].end},s={type:"chunkText",start:n[i][1].start,end:n[t][1].end,contentType:"text"},Cs(n,i,t-i+1,[["enter",r,e],["enter",s,e],["exit",s,e],["exit",r,e]])),n}function m6(n,e,t){let i=0;return r;function r(p){return n.enter("atxHeading"),s(p)}function s(p){return n.enter("atxHeadingSequence"),o(p)}function o(p){return p===35&&i++<6?(n.consume(p),o):p===null||ji(p)?(n.exit("atxHeadingSequence"),u(p)):t(p)}function u(p){return p===35?(n.enter("atxHeadingSequence"),h(p)):p===null||bt(p)?(n.exit("atxHeading"),e(p)):jt(p)?un(n,u,"whitespace")(p):(n.enter("atxHeadingText"),d(p))}function h(p){return p===35?(n.consume(p),h):(n.exit("atxHeadingSequence"),u(p))}function d(p){return p===null||p===35||ji(p)?(n.exit("atxHeadingText"),u(p)):(n.consume(p),d)}}const g6=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],w1=["pre","script","style","textarea"],_6={concrete:!0,name:"htmlFlow",resolveTo:x6,tokenize:w6},y6={partial:!0,tokenize:S6},v6={partial:!0,tokenize:b6};function x6(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function w6(n,e,t){const i=this;let r,s,o,u,h;return d;function d(D){return p(D)}function p(D){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(D),g}function g(D){return D===33?(n.consume(D),_):D===47?(n.consume(D),s=!0,S):D===63?(n.consume(D),r=3,i.interrupt?e:I):bs(D)?(n.consume(D),o=String.fromCharCode(D),C):t(D)}function _(D){return D===45?(n.consume(D),r=2,y):D===91?(n.consume(D),r=5,u=0,w):bs(D)?(n.consume(D),r=4,i.interrupt?e:I):t(D)}function y(D){return D===45?(n.consume(D),i.interrupt?e:I):t(D)}function w(D){const me="CDATA[";return D===me.charCodeAt(u++)?(n.consume(D),u===me.length?i.interrupt?e:J:w):t(D)}function S(D){return bs(D)?(n.consume(D),o=String.fromCharCode(D),C):t(D)}function C(D){if(D===null||D===47||D===62||ji(D)){const me=D===47,ve=o.toLowerCase();return!me&&!s&&w1.includes(ve)?(r=1,i.interrupt?e(D):J(D)):g6.includes(o.toLowerCase())?(r=6,me?(n.consume(D),b):i.interrupt?e(D):J(D)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?t(D):s?T(D):k(D))}return D===45||ur(D)?(n.consume(D),o+=String.fromCharCode(D),C):t(D)}function b(D){return D===62?(n.consume(D),i.interrupt?e:J):t(D)}function T(D){return jt(D)?(n.consume(D),T):W(D)}function k(D){return D===47?(n.consume(D),W):D===58||D===95||bs(D)?(n.consume(D),F):jt(D)?(n.consume(D),k):W(D)}function F(D){return D===45||D===46||D===58||D===95||ur(D)?(n.consume(D),F):R(D)}function R(D){return D===61?(n.consume(D),B):jt(D)?(n.consume(D),R):k(D)}function B(D){return D===null||D===60||D===61||D===62||D===96?t(D):D===34||D===39?(n.consume(D),h=D,N):jt(D)?(n.consume(D),B):O(D)}function N(D){return D===h?(n.consume(D),h=null,j):D===null||bt(D)?t(D):(n.consume(D),N)}function O(D){return D===null||D===34||D===39||D===47||D===60||D===61||D===62||D===96||ji(D)?R(D):(n.consume(D),O)}function j(D){return D===47||D===62||jt(D)?k(D):t(D)}function W(D){return D===62?(n.consume(D),H):t(D)}function H(D){return D===null||bt(D)?J(D):jt(D)?(n.consume(D),H):t(D)}function J(D){return D===45&&r===2?(n.consume(D),ae):D===60&&r===1?(n.consume(D),ne):D===62&&r===4?(n.consume(D),G):D===63&&r===3?(n.consume(D),I):D===93&&r===5?(n.consume(D),fe):bt(D)&&(r===6||r===7)?(n.exit("htmlFlowData"),n.check(y6,se,Y)(D)):D===null||bt(D)?(n.exit("htmlFlowData"),Y(D)):(n.consume(D),J)}function Y(D){return n.check(v6,ee,se)(D)}function ee(D){return n.enter("lineEnding"),n.consume(D),n.exit("lineEnding"),oe}function oe(D){return D===null||bt(D)?Y(D):(n.enter("htmlFlowData"),J(D))}function ae(D){return D===45?(n.consume(D),I):J(D)}function ne(D){return D===47?(n.consume(D),o="",K):J(D)}function K(D){if(D===62){const me=o.toLowerCase();return w1.includes(me)?(n.consume(D),G):J(D)}return bs(D)&&o.length<8?(n.consume(D),o+=String.fromCharCode(D),K):J(D)}function fe(D){return D===93?(n.consume(D),I):J(D)}function I(D){return D===62?(n.consume(D),G):D===45&&r===2?(n.consume(D),I):J(D)}function G(D){return D===null||bt(D)?(n.exit("htmlFlowData"),se(D)):(n.consume(D),G)}function se(D){return n.exit("htmlFlow"),e(D)}}function b6(n,e,t){const i=this;return r;function r(o){return bt(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s):t(o)}function s(o){return i.parser.lazy[i.now().line]?t(o):e(o)}}function S6(n,e,t){return i;function i(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),n.attempt(Tm,e,t)}}const M6={name:"htmlText",tokenize:E6};function E6(n,e,t){const i=this;let r,s,o;return u;function u(I){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(I),h}function h(I){return I===33?(n.consume(I),d):I===47?(n.consume(I),R):I===63?(n.consume(I),k):bs(I)?(n.consume(I),O):t(I)}function d(I){return I===45?(n.consume(I),p):I===91?(n.consume(I),s=0,w):bs(I)?(n.consume(I),T):t(I)}function p(I){return I===45?(n.consume(I),y):t(I)}function g(I){return I===null?t(I):I===45?(n.consume(I),_):bt(I)?(o=g,ne(I)):(n.consume(I),g)}function _(I){return I===45?(n.consume(I),y):g(I)}function y(I){return I===62?ae(I):I===45?_(I):g(I)}function w(I){const G="CDATA[";return I===G.charCodeAt(s++)?(n.consume(I),s===G.length?S:w):t(I)}function S(I){return I===null?t(I):I===93?(n.consume(I),C):bt(I)?(o=S,ne(I)):(n.consume(I),S)}function C(I){return I===93?(n.consume(I),b):S(I)}function b(I){return I===62?ae(I):I===93?(n.consume(I),b):S(I)}function T(I){return I===null||I===62?ae(I):bt(I)?(o=T,ne(I)):(n.consume(I),T)}function k(I){return I===null?t(I):I===63?(n.consume(I),F):bt(I)?(o=k,ne(I)):(n.consume(I),k)}function F(I){return I===62?ae(I):k(I)}function R(I){return bs(I)?(n.consume(I),B):t(I)}function B(I){return I===45||ur(I)?(n.consume(I),B):N(I)}function N(I){return bt(I)?(o=N,ne(I)):jt(I)?(n.consume(I),N):ae(I)}function O(I){return I===45||ur(I)?(n.consume(I),O):I===47||I===62||ji(I)?j(I):t(I)}function j(I){return I===47?(n.consume(I),ae):I===58||I===95||bs(I)?(n.consume(I),W):bt(I)?(o=j,ne(I)):jt(I)?(n.consume(I),j):ae(I)}function W(I){return I===45||I===46||I===58||I===95||ur(I)?(n.consume(I),W):H(I)}function H(I){return I===61?(n.consume(I),J):bt(I)?(o=H,ne(I)):jt(I)?(n.consume(I),H):j(I)}function J(I){return I===null||I===60||I===61||I===62||I===96?t(I):I===34||I===39?(n.consume(I),r=I,Y):bt(I)?(o=J,ne(I)):jt(I)?(n.consume(I),J):(n.consume(I),ee)}function Y(I){return I===r?(n.consume(I),r=void 0,oe):I===null?t(I):bt(I)?(o=Y,ne(I)):(n.consume(I),Y)}function ee(I){return I===null||I===34||I===39||I===60||I===61||I===96?t(I):I===47||I===62||ji(I)?j(I):(n.consume(I),ee)}function oe(I){return I===47||I===62||ji(I)?j(I):t(I)}function ae(I){return I===62?(n.consume(I),n.exit("htmlTextData"),n.exit("htmlText"),e):t(I)}function ne(I){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(I),n.exit("lineEnding"),K}function K(I){return jt(I)?un(n,fe,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):fe(I)}function fe(I){return n.enter("htmlTextData"),o(I)}}const ax={name:"labelEnd",resolveAll:P6,resolveTo:A6,tokenize:k6},T6={tokenize:R6},L6={tokenize:I6},C6={tokenize:D6};function P6(n){let e=-1;const t=[];for(;++e<n.length;){const i=n[e][1];if(t.push(n[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return n.length!==t.length&&Cs(n,0,n.length,t),n}function A6(n,e){let t=n.length,i=0,r,s,o,u;for(;t--;)if(r=n[t][1],s){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;n[t][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(o){if(n[t][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(s=t,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(o=t);const h={type:n[s][1].type==="labelLink"?"link":"image",start:{...n[s][1].start},end:{...n[n.length-1][1].end}},d={type:"label",start:{...n[s][1].start},end:{...n[o][1].end}},p={type:"labelText",start:{...n[s+i+2][1].end},end:{...n[o-2][1].start}};return u=[["enter",h,e],["enter",d,e]],u=Cr(u,n.slice(s+1,s+i+3)),u=Cr(u,[["enter",p,e]]),u=Cr(u,ox(e.parser.constructs.insideSpan.null,n.slice(s+i+4,o-3),e)),u=Cr(u,[["exit",p,e],n[o-2],n[o-1],["exit",d,e]]),u=Cr(u,n.slice(o+1)),u=Cr(u,[["exit",h,e]]),Cs(n,s,n.length,u),n}function k6(n,e,t){const i=this;let r=i.events.length,s,o;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){s=i.events[r][1];break}return u;function u(_){return s?s._inactive?g(_):(o=i.parser.defined.includes(Ou(i.sliceSerialize({start:s.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(_),n.exit("labelMarker"),n.exit("labelEnd"),h):t(_)}function h(_){return _===40?n.attempt(T6,p,o?p:g)(_):_===91?n.attempt(L6,p,o?d:g)(_):o?p(_):g(_)}function d(_){return n.attempt(C6,p,g)(_)}function p(_){return e(_)}function g(_){return s._balanced=!0,t(_)}}function R6(n,e,t){return i;function i(g){return n.enter("resource"),n.enter("resourceMarker"),n.consume(g),n.exit("resourceMarker"),r}function r(g){return ji(g)?Uh(n,s)(g):s(g)}function s(g){return g===41?p(g):aL(n,o,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function o(g){return ji(g)?Uh(n,h)(g):p(g)}function u(g){return t(g)}function h(g){return g===34||g===39||g===40?uL(n,d,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):p(g)}function d(g){return ji(g)?Uh(n,p)(g):p(g)}function p(g){return g===41?(n.enter("resourceMarker"),n.consume(g),n.exit("resourceMarker"),n.exit("resource"),e):t(g)}}function I6(n,e,t){const i=this;return r;function r(u){return lL.call(i,n,s,o,"reference","referenceMarker","referenceString")(u)}function s(u){return i.parser.defined.includes(Ou(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(u):t(u)}function o(u){return t(u)}}function D6(n,e,t){return i;function i(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),r}function r(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}const N6={name:"labelStartImage",resolveAll:ax.resolveAll,tokenize:O6};function O6(n,e,t){const i=this;return r;function r(u){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(u),n.exit("labelImageMarker"),s}function s(u){return u===91?(n.enter("labelMarker"),n.consume(u),n.exit("labelMarker"),n.exit("labelImage"),o):t(u)}function o(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(u):e(u)}}const z6={name:"labelStartLink",resolveAll:ax.resolveAll,tokenize:F6};function F6(n,e,t){const i=this;return r;function r(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(o):e(o)}}const ny={name:"lineEnding",tokenize:B6};function B6(n,e){return t;function t(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),un(n,e,"linePrefix")}}const Ap={name:"thematicBreak",tokenize:U6};function U6(n,e,t){let i=0,r;return s;function s(d){return n.enter("thematicBreak"),o(d)}function o(d){return r=d,u(d)}function u(d){return d===r?(n.enter("thematicBreakSequence"),h(d)):i>=3&&(d===null||bt(d))?(n.exit("thematicBreak"),e(d)):t(d)}function h(d){return d===r?(n.consume(d),i++,h):(n.exit("thematicBreakSequence"),jt(d)?un(n,u,"whitespace")(d):u(d))}}const Bi={continuation:{tokenize:W6},exit:Z6,name:"list",tokenize:j6},H6={partial:!0,tokenize:$6},V6={partial:!0,tokenize:G6};function j6(n,e,t){const i=this,r=i.events[i.events.length-1];let s=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,o=0;return u;function u(y){const w=i.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!i.containerState.marker||y===i.containerState.marker:Ky(y)){if(i.containerState.type||(i.containerState.type=w,n.enter(w,{_container:!0})),w==="listUnordered")return n.enter("listItemPrefix"),y===42||y===45?n.check(Ap,t,d)(y):d(y);if(!i.interrupt||y===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),h(y)}return t(y)}function h(y){return Ky(y)&&++o<10?(n.consume(y),h):(!i.interrupt||o<2)&&(i.containerState.marker?y===i.containerState.marker:y===41||y===46)?(n.exit("listItemValue"),d(y)):t(y)}function d(y){return n.enter("listItemMarker"),n.consume(y),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||y,n.check(Tm,i.interrupt?t:p,n.attempt(H6,_,g))}function p(y){return i.containerState.initialBlankLine=!0,s++,_(y)}function g(y){return jt(y)?(n.enter("listItemPrefixWhitespace"),n.consume(y),n.exit("listItemPrefixWhitespace"),_):t(y)}function _(y){return i.containerState.size=s+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(y)}}function W6(n,e,t){const i=this;return i.containerState._closeFlow=void 0,n.check(Tm,r,s);function r(u){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,un(n,e,"listItemIndent",i.containerState.size+1)(u)}function s(u){return i.containerState.furtherBlankLines||!jt(u)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,o(u)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(V6,e,o)(u))}function o(u){return i.containerState._closeFlow=!0,i.interrupt=void 0,un(n,n.attempt(Bi,e,t),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function G6(n,e,t){const i=this;return un(n,r,"listItemIndent",i.containerState.size+1);function r(s){const o=i.events[i.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?e(s):t(s)}}function Z6(n){n.exit(this.containerState.type)}function $6(n,e,t){const i=this;return un(n,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(s){const o=i.events[i.events.length-1];return!jt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}const b1={name:"setextUnderline",resolveTo:q6,tokenize:X6};function q6(n,e){let t=n.length,i,r,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){i=t;break}n[t][1].type==="paragraph"&&(r=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);const o={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[r][1].type="setextHeadingText",s?(n.splice(r,0,["enter",o,e]),n.splice(s+1,0,["exit",n[i][1],e]),n[i][1].end={...n[s][1].end}):n[i][1]=o,n.push(["exit",o,e]),n}function X6(n,e,t){const i=this;let r;return s;function s(d){let p=i.events.length,g;for(;p--;)if(i.events[p][1].type!=="lineEnding"&&i.events[p][1].type!=="linePrefix"&&i.events[p][1].type!=="content"){g=i.events[p][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||g)?(n.enter("setextHeadingLine"),r=d,o(d)):t(d)}function o(d){return n.enter("setextHeadingLineSequence"),u(d)}function u(d){return d===r?(n.consume(d),u):(n.exit("setextHeadingLineSequence"),jt(d)?un(n,h,"lineSuffix")(d):h(d))}function h(d){return d===null||bt(d)?(n.exit("setextHeadingLine"),e(d)):t(d)}}const Y6={tokenize:K6};function K6(n){const e=this,t=n.attempt(Tm,i,n.attempt(this.parser.constructs.flowInitial,r,un(n,n.attempt(this.parser.constructs.flow,r,n.attempt(n6,r)),"linePrefix")));return t;function i(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function r(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const J6={resolveAll:hL()},Q6=cL("string"),eV=cL("text");function cL(n){return{resolveAll:hL(n==="text"?tV:void 0),tokenize:e};function e(t){const i=this,r=this.parser.constructs[n],s=t.attempt(r,o,u);return o;function o(p){return d(p)?s(p):u(p)}function u(p){if(p===null){t.consume(p);return}return t.enter("data"),t.consume(p),h}function h(p){return d(p)?(t.exit("data"),s(p)):(t.consume(p),h)}function d(p){if(p===null)return!0;const g=r[p];let _=-1;if(g)for(;++_<g.length;){const y=g[_];if(!y.previous||y.previous.call(i,i.previous))return!0}return!1}}}function hL(n){return e;function e(t,i){let r=-1,s;for(;++r<=t.length;)s===void 0?t[r]&&t[r][1].type==="data"&&(s=r,r++):(!t[r]||t[r][1].type!=="data")&&(r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),r=s+2),s=void 0);return n?n(t,i):t}}function tV(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const i=n[t-1][1],r=e.sliceStream(i);let s=r.length,o=-1,u=0,h;for(;s--;){const d=r[s];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)u++,o--;if(o)break;o=-1}else if(d===-2)h=!0,u++;else if(d!==-1){s++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(u=0),u){const d={type:t===n.length||h||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:i.start._bufferIndex+o,_index:i.start._index+s,line:i.end.line,column:i.end.column-u,offset:i.end.offset-u},end:{...i.end}};i.end={...d.start},i.start.offset===i.end.offset?Object.assign(i,d):(n.splice(t,0,["enter",d,e],["exit",d,e]),t+=2)}t++}return n}const nV={42:Bi,43:Bi,45:Bi,48:Bi,49:Bi,50:Bi,51:Bi,52:Bi,53:Bi,54:Bi,55:Bi,56:Bi,57:Bi,62:iL},iV={91:a6},rV={[-2]:ty,[-1]:ty,32:ty},sV={35:f6,42:Ap,45:[b1,Ap],60:_6,61:b1,95:Ap,96:x1,126:x1},oV={38:sL,92:rL},aV={[-5]:ny,[-4]:ny,[-3]:ny,33:N6,38:sL,42:Jy,60:[zH,M6],91:z6,92:[h6,rL],93:ax,95:Jy,96:YH},lV={null:[Jy,J6]},uV={null:[42,95]},cV={null:[]},hV=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:uV,contentInitial:iV,disable:cV,document:nV,flow:sV,flowInitial:rV,insideSpan:lV,string:oV,text:aV},Symbol.toStringTag,{value:"Module"}));function dV(n,e,t){let i={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const r={},s=[];let o=[],u=[];const h={attempt:N(R),check:N(B),consume:T,enter:k,exit:F,interrupt:N(B,{interrupt:!0})},d={code:null,containerState:{},defineSkip:S,events:[],now:w,parser:n,previous:null,sliceSerialize:_,sliceStream:y,write:g};let p=e.tokenize.call(d,h);return e.resolveAll&&s.push(e),d;function g(H){return o=Cr(o,H),C(),o[o.length-1]!==null?[]:(O(e,0),d.events=ox(s,d.events,d),d.events)}function _(H,J){return pV(y(H),J)}function y(H){return fV(o,H)}function w(){const{_bufferIndex:H,_index:J,line:Y,column:ee,offset:oe}=i;return{_bufferIndex:H,_index:J,line:Y,column:ee,offset:oe}}function S(H){r[H.line]=H.column,W()}function C(){let H;for(;i._index<o.length;){const J=o[i._index];if(typeof J=="string")for(H=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===H&&i._bufferIndex<J.length;)b(J.charCodeAt(i._bufferIndex));else b(J)}}function b(H){p=p(H)}function T(H){bt(H)?(i.line++,i.column=1,i.offset+=H===-3?2:1,W()):H!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===o[i._index].length&&(i._bufferIndex=-1,i._index++)),d.previous=H}function k(H,J){const Y=J||{};return Y.type=H,Y.start=w(),d.events.push(["enter",Y,d]),u.push(Y),Y}function F(H){const J=u.pop();return J.end=w(),d.events.push(["exit",J,d]),J}function R(H,J){O(H,J.from)}function B(H,J){J.restore()}function N(H,J){return Y;function Y(ee,oe,ae){let ne,K,fe,I;return Array.isArray(ee)?se(ee):"tokenize"in ee?se([ee]):G(ee);function G(te){return Ne;function Ne(Pe){const ke=Pe!==null&&te[Pe],ze=Pe!==null&&te.null,je=[...Array.isArray(ke)?ke:ke?[ke]:[],...Array.isArray(ze)?ze:ze?[ze]:[]];return se(je)(Pe)}}function se(te){return ne=te,K=0,te.length===0?ae:D(te[K])}function D(te){return Ne;function Ne(Pe){return I=j(),fe=te,te.partial||(d.currentConstruct=te),te.name&&d.parser.constructs.disable.null.includes(te.name)?ve():te.tokenize.call(J?Object.assign(Object.create(d),J):d,h,me,ve)(Pe)}}function me(te){return H(fe,I),oe}function ve(te){return I.restore(),++K<ne.length?D(ne[K]):ae}}}function O(H,J){H.resolveAll&&!s.includes(H)&&s.push(H),H.resolve&&Cs(d.events,J,d.events.length-J,H.resolve(d.events.slice(J),d)),H.resolveTo&&(d.events=H.resolveTo(d.events,d))}function j(){const H=w(),J=d.previous,Y=d.currentConstruct,ee=d.events.length,oe=Array.from(u);return{from:ee,restore:ae};function ae(){i=H,d.previous=J,d.currentConstruct=Y,d.events.length=ee,u=oe,W()}}function W(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function fV(n,e){const t=e.start._index,i=e.start._bufferIndex,r=e.end._index,s=e.end._bufferIndex;let o;if(t===r)o=[n[t].slice(i,s)];else{if(o=n.slice(t,r),i>-1){const u=o[0];typeof u=="string"?o[0]=u.slice(i):o.shift()}s>0&&o.push(n[r].slice(0,s))}return o}function pV(n,e){let t=-1;const i=[];let r;for(;++t<n.length;){const s=n[t];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&r)continue;o=" ";break}default:o=String.fromCharCode(s)}r=s===-2,i.push(o)}return i.join("")}function mV(n){const i={constructs:bH([hV,...(n||{}).extensions||[]]),content:r(AH),defined:[],document:r(RH),flow:r(Y6),lazy:{},string:r(Q6),text:r(eV)};return i;function r(s){return o;function o(u){return dV(i,s,u)}}}function gV(n){for(;!oL(n););return n}const S1=/[\0\t\n\r]/g;function _V(){let n=1,e="",t=!0,i;return r;function r(s,o,u){const h=[];let d,p,g,_,y;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),g=0,e="",t&&(s.charCodeAt(0)===65279&&g++,t=void 0);g<s.length;){if(S1.lastIndex=g,d=S1.exec(s),_=d&&d.index!==void 0?d.index:s.length,y=s.charCodeAt(_),!d){e=s.slice(g);break}if(y===10&&g===_&&i)h.push(-3),i=void 0;else switch(i&&(h.push(-5),i=void 0),g<_&&(h.push(s.slice(g,_)),n+=_-g),y){case 0:{h.push(65533),n++;break}case 9:{for(p=Math.ceil(n/4)*4,h.push(-2);n++<p;)h.push(-1);break}case 10:{h.push(-4),n=1;break}default:i=!0,n=1}g=_+1}return u&&(i&&h.push(-5),e&&h.push(e),h.push(null)),h}}const yV=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function vV(n){return n.replace(yV,xV)}function xV(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const r=t.charCodeAt(1),s=r===120||r===88;return nL(t.slice(s?2:1),s?16:10)}return sx(t)||n}const dL={}.hasOwnProperty;function wV(n,e,t){return typeof e!="string"&&(t=e,e=void 0),bV(t)(gV(mV(t).document().write(_V()(n,e,!0))))}function bV(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(we),autolinkProtocol:j,autolinkEmail:j,atxHeading:s(We),blockQuote:s(ze),characterEscape:j,characterReference:j,codeFenced:s(je),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(je,o),codeText:s(be,o),codeTextData:j,data:j,codeFlowValue:j,definition:s(Re),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(De),hardBreakEscape:s(Ie),hardBreakTrailing:s(Ie),htmlFlow:s(X,o),htmlFlowData:j,htmlText:s(X,o),htmlTextData:j,image:s(Z),label:o,link:s(we),listItem:s(Ze),listItemValue:_,listOrdered:s(Ae,g),listUnordered:s(Ae),paragraph:s(Ke),reference:D,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(We),strong:s(rt),thematicBreak:s(st)},exit:{atxHeading:h(),atxHeadingSequence:R,autolink:h(),autolinkEmail:ke,autolinkProtocol:Pe,blockQuote:h(),characterEscapeValue:W,characterReferenceMarkerHexadecimal:ve,characterReferenceMarkerNumeric:ve,characterReferenceValue:te,characterReference:Ne,codeFenced:h(C),codeFencedFence:S,codeFencedFenceInfo:y,codeFencedFenceMeta:w,codeFlowValue:W,codeIndented:h(b),codeText:h(oe),codeTextData:W,data:W,definition:h(),definitionDestinationString:F,definitionLabelString:T,definitionTitleString:k,emphasis:h(),hardBreakEscape:h(J),hardBreakTrailing:h(J),htmlFlow:h(Y),htmlFlowData:W,htmlText:h(ee),htmlTextData:W,image:h(ne),label:fe,labelText:K,lineEnding:H,link:h(ae),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:me,resourceDestinationString:I,resourceTitleString:G,resource:se,setextHeading:h(O),setextHeadingLineSequence:N,setextHeadingText:B,strong:h(),thematicBreak:h()}};fL(e,(n||{}).mdastExtensions||[]);const t={};return i;function i(he){let q={type:"root",children:[]};const Le={stack:[q],tokenStack:[],config:e,enter:u,exit:d,buffer:o,resume:p,data:t},Se=[];let Fe=-1;for(;++Fe<he.length;)if(he[Fe][1].type==="listOrdered"||he[Fe][1].type==="listUnordered")if(he[Fe][0]==="enter")Se.push(Fe);else{const Xe=Se.pop();Fe=r(he,Xe,Fe)}for(Fe=-1;++Fe<he.length;){const Xe=e[he[Fe][0]];dL.call(Xe,he[Fe][1].type)&&Xe[he[Fe][1].type].call(Object.assign({sliceSerialize:he[Fe][2].sliceSerialize},Le),he[Fe][1])}if(Le.tokenStack.length>0){const Xe=Le.tokenStack[Le.tokenStack.length-1];(Xe[1]||M1).call(Le,void 0,Xe[0])}for(q.position={start:Xo(he.length>0?he[0][1].start:{line:1,column:1,offset:0}),end:Xo(he.length>0?he[he.length-2][1].end:{line:1,column:1,offset:0})},Fe=-1;++Fe<e.transforms.length;)q=e.transforms[Fe](q)||q;return q}function r(he,q,Le){let Se=q-1,Fe=-1,Xe=!1,ut,At,Ot,_n;for(;++Se<=Le;){const le=he[Se];switch(le[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{le[0]==="enter"?Fe++:Fe--,_n=void 0;break}case"lineEndingBlank":{le[0]==="enter"&&(ut&&!_n&&!Fe&&!Ot&&(Ot=Se),_n=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:_n=void 0}if(!Fe&&le[0]==="enter"&&le[1].type==="listItemPrefix"||Fe===-1&&le[0]==="exit"&&(le[1].type==="listUnordered"||le[1].type==="listOrdered")){if(ut){let Be=Se;for(At=void 0;Be--;){const tt=he[Be];if(tt[1].type==="lineEnding"||tt[1].type==="lineEndingBlank"){if(tt[0]==="exit")continue;At&&(he[At][1].type="lineEndingBlank",Xe=!0),tt[1].type="lineEnding",At=Be}else if(!(tt[1].type==="linePrefix"||tt[1].type==="blockQuotePrefix"||tt[1].type==="blockQuotePrefixWhitespace"||tt[1].type==="blockQuoteMarker"||tt[1].type==="listItemIndent"))break}Ot&&(!At||Ot<At)&&(ut._spread=!0),ut.end=Object.assign({},At?he[At][1].start:le[1].end),he.splice(At||Se,0,["exit",ut,le[2]]),Se++,Le++}if(le[1].type==="listItemPrefix"){const Be={type:"listItem",_spread:!1,start:Object.assign({},le[1].start),end:void 0};ut=Be,he.splice(Se,0,["enter",Be,le[2]]),Se++,Le++,Ot=void 0,_n=!0}}}return he[q][1]._spread=Xe,Le}function s(he,q){return Le;function Le(Se){u.call(this,he(Se),Se),q&&q.call(this,Se)}}function o(){this.stack.push({type:"fragment",children:[]})}function u(he,q,Le){this.stack[this.stack.length-1].children.push(he),this.stack.push(he),this.tokenStack.push([q,Le||void 0]),he.position={start:Xo(q.start),end:void 0}}function h(he){return q;function q(Le){he&&he.call(this,Le),d.call(this,Le)}}function d(he,q){const Le=this.stack.pop(),Se=this.tokenStack.pop();if(Se)Se[0].type!==he.type&&(q?q.call(this,he,Se[0]):(Se[1]||M1).call(this,he,Se[0]));else throw new Error("Cannot close `"+he.type+"` ("+Bh({start:he.start,end:he.end})+"): its not open");Le.position.end=Xo(he.end)}function p(){return xH(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function _(he){if(this.data.expectingFirstListItemValue){const q=this.stack[this.stack.length-2];q.start=Number.parseInt(this.sliceSerialize(he),10),this.data.expectingFirstListItemValue=void 0}}function y(){const he=this.resume(),q=this.stack[this.stack.length-1];q.lang=he}function w(){const he=this.resume(),q=this.stack[this.stack.length-1];q.meta=he}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const he=this.resume(),q=this.stack[this.stack.length-1];q.value=he.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const he=this.resume(),q=this.stack[this.stack.length-1];q.value=he.replace(/(\r?\n|\r)$/g,"")}function T(he){const q=this.resume(),Le=this.stack[this.stack.length-1];Le.label=q,Le.identifier=Ou(this.sliceSerialize(he)).toLowerCase()}function k(){const he=this.resume(),q=this.stack[this.stack.length-1];q.title=he}function F(){const he=this.resume(),q=this.stack[this.stack.length-1];q.url=he}function R(he){const q=this.stack[this.stack.length-1];if(!q.depth){const Le=this.sliceSerialize(he).length;q.depth=Le}}function B(){this.data.setextHeadingSlurpLineEnding=!0}function N(he){const q=this.stack[this.stack.length-1];q.depth=this.sliceSerialize(he).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function j(he){const Le=this.stack[this.stack.length-1].children;let Se=Le[Le.length-1];(!Se||Se.type!=="text")&&(Se=Je(),Se.position={start:Xo(he.start),end:void 0},Le.push(Se)),this.stack.push(Se)}function W(he){const q=this.stack.pop();q.value+=this.sliceSerialize(he),q.position.end=Xo(he.end)}function H(he){const q=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Le=q.children[q.children.length-1];Le.position.end=Xo(he.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(q.type)&&(j.call(this,he),W.call(this,he))}function J(){this.data.atHardBreak=!0}function Y(){const he=this.resume(),q=this.stack[this.stack.length-1];q.value=he}function ee(){const he=this.resume(),q=this.stack[this.stack.length-1];q.value=he}function oe(){const he=this.resume(),q=this.stack[this.stack.length-1];q.value=he}function ae(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const q=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=q,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function ne(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const q=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=q,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function K(he){const q=this.sliceSerialize(he),Le=this.stack[this.stack.length-2];Le.label=vV(q),Le.identifier=Ou(q).toLowerCase()}function fe(){const he=this.stack[this.stack.length-1],q=this.resume(),Le=this.stack[this.stack.length-1];if(this.data.inReference=!0,Le.type==="link"){const Se=he.children;Le.children=Se}else Le.alt=q}function I(){const he=this.resume(),q=this.stack[this.stack.length-1];q.url=he}function G(){const he=this.resume(),q=this.stack[this.stack.length-1];q.title=he}function se(){this.data.inReference=void 0}function D(){this.data.referenceType="collapsed"}function me(he){const q=this.resume(),Le=this.stack[this.stack.length-1];Le.label=q,Le.identifier=Ou(this.sliceSerialize(he)).toLowerCase(),this.data.referenceType="full"}function ve(he){this.data.characterReferenceType=he.type}function te(he){const q=this.sliceSerialize(he),Le=this.data.characterReferenceType;let Se;Le?(Se=nL(q,Le==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Se=sx(q);const Fe=this.stack[this.stack.length-1];Fe.value+=Se}function Ne(he){const q=this.stack.pop();q.position.end=Xo(he.end)}function Pe(he){W.call(this,he);const q=this.stack[this.stack.length-1];q.url=this.sliceSerialize(he)}function ke(he){W.call(this,he);const q=this.stack[this.stack.length-1];q.url="mailto:"+this.sliceSerialize(he)}function ze(){return{type:"blockquote",children:[]}}function je(){return{type:"code",lang:null,meta:null,value:""}}function be(){return{type:"inlineCode",value:""}}function Re(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function De(){return{type:"emphasis",children:[]}}function We(){return{type:"heading",depth:0,children:[]}}function Ie(){return{type:"break"}}function X(){return{type:"html",value:""}}function Z(){return{type:"image",title:null,url:"",alt:null}}function we(){return{type:"link",title:null,url:"",children:[]}}function Ae(he){return{type:"list",ordered:he.type==="listOrdered",start:null,spread:he._spread,children:[]}}function Ze(he){return{type:"listItem",spread:he._spread,checked:null,children:[]}}function Ke(){return{type:"paragraph",children:[]}}function rt(){return{type:"strong",children:[]}}function Je(){return{type:"text",value:""}}function st(){return{type:"thematicBreak"}}}function Xo(n){return{line:n.line,column:n.column,offset:n.offset}}function fL(n,e){let t=-1;for(;++t<e.length;){const i=e[t];Array.isArray(i)?fL(n,i):SV(n,i)}}function SV(n,e){let t;for(t in e)if(dL.call(e,t))switch(t){case"canContainEols":{const i=e[t];i&&n[t].push(...i);break}case"transforms":{const i=e[t];i&&n[t].push(...i);break}case"enter":case"exit":{const i=e[t];i&&Object.assign(n[t],i);break}}}function M1(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+Bh({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+Bh({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Bh({start:e.start,end:e.end})+") is still open")}function MV(n){const e=this;e.parser=t;function t(i){return wV(i,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function EV(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function TV(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function LV(n,e){const t=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return e.meta&&(r.data={meta:e.meta}),n.patch(e,r),r=n.applyData(e,r),r={type:"element",tagName:"pre",properties:{},children:[r]},n.patch(e,r),r}function CV(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function PV(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function AV(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=lc(i.toLowerCase()),s=n.footnoteOrder.indexOf(i);let o,u=n.footnoteCounts.get(i);u===void 0?(u=0,n.footnoteOrder.push(i),o=n.footnoteOrder.length):o=s+1,u+=1,n.footnoteCounts.set(i,u);const h={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+r,id:t+"fnref-"+r+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};n.patch(e,h);const d={type:"element",tagName:"sup",properties:{},children:[h]};return n.patch(e,d),n.applyData(e,d)}function kV(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function RV(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function pL(n,e){const t=e.referenceType;let i="]";if(t==="collapsed"?i+="[]":t==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=n.all(e),s=r[0];s&&s.type==="text"?s.value="["+s.value:r.unshift({type:"text",value:"["});const o=r[r.length-1];return o&&o.type==="text"?o.value+=i:r.push({type:"text",value:i}),r}function IV(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return pL(n,e);const r={src:lc(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"img",properties:r,children:[]};return n.patch(e,s),n.applyData(e,s)}function DV(n,e){const t={src:lc(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,i),n.applyData(e,i)}function NV(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const i={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,i),n.applyData(e,i)}function OV(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return pL(n,e);const r={href:lc(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"a",properties:r,children:n.all(e)};return n.patch(e,s),n.applyData(e,s)}function zV(n,e){const t={href:lc(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function FV(n,e,t){const i=n.all(e),r=t?BV(t):mL(e),s={},o=[];if(typeof e.checked=="boolean"){const p=i[0];let g;p&&p.type==="element"&&p.tagName==="p"?g=p:(g={type:"element",tagName:"p",properties:{},children:[]},i.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let u=-1;for(;++u<i.length;){const p=i[u];(r||u!==0||p.type!=="element"||p.tagName!=="p")&&o.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!r?o.push(...p.children):o.push(p)}const h=i[i.length-1];h&&(r||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:o};return n.patch(e,d),n.applyData(e,d)}function BV(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let i=-1;for(;!e&&++i<t.length;)e=mL(t[i])}return e}function mL(n){const e=n.spread;return e??n.children.length>1}function UV(n,e){const t={},i=n.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++r<i.length;){const o=i[r];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(i,!0)};return n.patch(e,s),n.applyData(e,s)}function HV(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function VV(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function jV(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function WV(n,e){const t=n.all(e),i=t.shift(),r=[];if(i){const o={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(e.children[0],o),r.push(o)}if(t.length>0){const o={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},u=tx(e.children[1]),h=XT(e.children[e.children.length-1]);u&&h&&(o.position={start:u,end:h}),r.push(o)}const s={type:"element",tagName:"table",properties:{},children:n.wrap(r,!0)};return n.patch(e,s),n.applyData(e,s)}function GV(n,e,t){const i=t?t.children:void 0,s=(i?i.indexOf(e):1)===0?"th":"td",o=t&&t.type==="table"?t.align:void 0,u=o?o.length:e.children.length;let h=-1;const d=[];for(;++h<u;){const g=e.children[h],_={},y=o?o[h]:void 0;y&&(_.align=y);let w={type:"element",tagName:s,properties:_,children:[]};g&&(w.children=n.all(g),n.patch(g,w),w=n.applyData(g,w)),d.push(w)}const p={type:"element",tagName:"tr",properties:{},children:n.wrap(d,!0)};return n.patch(e,p),n.applyData(e,p)}function ZV(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const E1=9,T1=32;function $V(n){const e=String(n),t=/\r?\n|\r/g;let i=t.exec(e),r=0;const s=[];for(;i;)s.push(L1(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=t.exec(e);return s.push(L1(e.slice(r),r>0,!1)),s.join("")}function L1(n,e,t){let i=0,r=n.length;if(e){let s=n.codePointAt(i);for(;s===E1||s===T1;)i++,s=n.codePointAt(i)}if(t){let s=n.codePointAt(r-1);for(;s===E1||s===T1;)r--,s=n.codePointAt(r-1)}return r>i?n.slice(i,r):""}function qV(n,e){const t={type:"text",value:$V(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function XV(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const YV={blockquote:EV,break:TV,code:LV,delete:CV,emphasis:PV,footnoteReference:AV,heading:kV,html:RV,imageReference:IV,image:DV,inlineCode:NV,linkReference:OV,link:zV,listItem:FV,list:UV,paragraph:HV,root:VV,strong:jV,table:WV,tableCell:ZV,tableRow:GV,text:qV,thematicBreak:XV,toml:xp,yaml:xp,definition:xp,footnoteDefinition:xp};function xp(){}const gL=-1,Lm=0,Hh=1,Kp=2,lx=3,ux=4,cx=5,hx=6,_L=7,yL=8,C1=typeof self=="object"?self:globalThis,KV=(n,e)=>{const t=(r,s)=>(n.set(s,r),r),i=r=>{if(n.has(r))return n.get(r);const[s,o]=e[r];switch(s){case Lm:case gL:return t(o,r);case Hh:{const u=t([],r);for(const h of o)u.push(i(h));return u}case Kp:{const u=t({},r);for(const[h,d]of o)u[i(h)]=i(d);return u}case lx:return t(new Date(o),r);case ux:{const{source:u,flags:h}=o;return t(new RegExp(u,h),r)}case cx:{const u=t(new Map,r);for(const[h,d]of o)u.set(i(h),i(d));return u}case hx:{const u=t(new Set,r);for(const h of o)u.add(i(h));return u}case _L:{const{name:u,message:h}=o;return t(new C1[u](h),r)}case yL:return t(BigInt(o),r);case"BigInt":return t(Object(BigInt(o)),r);case"ArrayBuffer":return t(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:u}=new Uint8Array(o);return t(new DataView(u),o)}}return t(new C1[s](o),r)};return i},P1=n=>KV(new Map,n)(0),bu="",{toString:JV}={},{keys:QV}=Object,gh=n=>{const e=typeof n;if(e!=="object"||!n)return[Lm,e];const t=JV.call(n).slice(8,-1);switch(t){case"Array":return[Hh,bu];case"Object":return[Kp,bu];case"Date":return[lx,bu];case"RegExp":return[ux,bu];case"Map":return[cx,bu];case"Set":return[hx,bu];case"DataView":return[Hh,t]}return t.includes("Array")?[Hh,t]:t.includes("Error")?[_L,t]:[Kp,t]},wp=([n,e])=>n===Lm&&(e==="function"||e==="symbol"),ej=(n,e,t,i)=>{const r=(o,u)=>{const h=i.push(o)-1;return t.set(u,h),h},s=o=>{if(t.has(o))return t.get(o);let[u,h]=gh(o);switch(u){case Lm:{let p=o;switch(h){case"bigint":u=yL,p=o.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+h);p=null;break;case"undefined":return r([gL],o)}return r([u,p],o)}case Hh:{if(h){let _=o;return h==="DataView"?_=new Uint8Array(o.buffer):h==="ArrayBuffer"&&(_=new Uint8Array(o)),r([h,[..._]],o)}const p=[],g=r([u,p],o);for(const _ of o)p.push(s(_));return g}case Kp:{if(h)switch(h){case"BigInt":return r([h,o.toString()],o);case"Boolean":case"Number":case"String":return r([h,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const p=[],g=r([u,p],o);for(const _ of QV(o))(n||!wp(gh(o[_])))&&p.push([s(_),s(o[_])]);return g}case lx:return r([u,o.toISOString()],o);case ux:{const{source:p,flags:g}=o;return r([u,{source:p,flags:g}],o)}case cx:{const p=[],g=r([u,p],o);for(const[_,y]of o)(n||!(wp(gh(_))||wp(gh(y))))&&p.push([s(_),s(y)]);return g}case hx:{const p=[],g=r([u,p],o);for(const _ of o)(n||!wp(gh(_)))&&p.push(s(_));return g}}const{message:d}=o;return r([u,{name:h,message:d}],o)};return s},A1=(n,{json:e,lossy:t}={})=>{const i=[];return ej(!(e||t),!!e,new Map,i)(n),i},Jp=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?P1(A1(n,e)):structuredClone(n):(n,e)=>P1(A1(n,e));function tj(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function nj(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function ij(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||tj,i=n.options.footnoteBackLabel||nj,r=n.options.footnoteLabel||"Footnotes",s=n.options.footnoteLabelTagName||"h2",o=n.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let h=-1;for(;++h<n.footnoteOrder.length;){const d=n.footnoteById.get(n.footnoteOrder[h]);if(!d)continue;const p=n.all(d),g=String(d.identifier).toUpperCase(),_=lc(g.toLowerCase());let y=0;const w=[],S=n.footnoteCounts.get(g);for(;S!==void 0&&++y<=S;){w.length>0&&w.push({type:"text",value:" "});let T=typeof t=="string"?t:t(h,y);typeof T=="string"&&(T={type:"text",value:T}),w.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+_+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(h,y),className:["data-footnote-backref"]},children:Array.isArray(T)?T:[T]})}const C=p[p.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const T=C.children[C.children.length-1];T&&T.type==="text"?T.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...w)}else p.push(...w);const b={type:"element",tagName:"li",properties:{id:e+"fn-"+_},children:n.wrap(p,!0)};n.patch(d,b),u.push(b)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Jp(o),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(u,!0)},{type:"text",value:`
`}]}}const vL=(function(n){if(n==null)return aj;if(typeof n=="function")return Cm(n);if(typeof n=="object")return Array.isArray(n)?rj(n):sj(n);if(typeof n=="string")return oj(n);throw new Error("Expected function, string, or object as test")});function rj(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=vL(n[t]);return Cm(i);function i(...r){let s=-1;for(;++s<e.length;)if(e[s].apply(this,r))return!0;return!1}}function sj(n){const e=n;return Cm(t);function t(i){const r=i;let s;for(s in n)if(r[s]!==e[s])return!1;return!0}}function oj(n){return Cm(e);function e(t){return t&&t.type===n}}function Cm(n){return e;function e(t,i,r){return!!(lj(t)&&n.call(this,t,typeof i=="number"?i:void 0,r||void 0))}}function aj(){return!0}function lj(n){return n!==null&&typeof n=="object"&&"type"in n}const xL=[],uj=!0,k1=!1,cj="skip";function hj(n,e,t,i){let r;typeof e=="function"&&typeof t!="function"?(i=t,t=e):r=e;const s=vL(r),o=i?-1:1;u(n,void 0,[])();function u(h,d,p){const g=h&&typeof h=="object"?h:{};if(typeof g.type=="string"){const y=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(_,"name",{value:"node ("+(h.type+(y?"<"+y+">":""))+")"})}return _;function _(){let y=xL,w,S,C;if((!e||s(h,d,p[p.length-1]||void 0))&&(y=dj(t(h,p)),y[0]===k1))return y;if("children"in h&&h.children){const b=h;if(b.children&&y[0]!==cj)for(S=(i?b.children.length:-1)+o,C=p.concat(b);S>-1&&S<b.children.length;){const T=b.children[S];if(w=u(T,S,C)(),w[0]===k1)return w;S=typeof w[1]=="number"?w[1]:S+o}}return y}}}function dj(n){return Array.isArray(n)?n:typeof n=="number"?[uj,n]:n==null?xL:[n]}function wL(n,e,t,i){let r,s,o;typeof e=="function"&&typeof t!="function"?(s=void 0,o=e,r=t):(s=e,o=t,r=i),hj(n,s,u,r);function u(h,d){const p=d[d.length-1],g=p?p.children.indexOf(h):void 0;return o(h,g,p)}}const Qy={}.hasOwnProperty,fj={};function pj(n,e){const t=e||fj,i=new Map,r=new Map,s=new Map,o={...YV,...t.handlers},u={all:d,applyData:gj,definitionById:i,footnoteById:r,footnoteCounts:s,footnoteOrder:[],handlers:o,one:h,options:t,patch:mj,wrap:yj};return wL(n,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const g=p.type==="definition"?i:r,_=String(p.identifier).toUpperCase();g.has(_)||g.set(_,p)}}),u;function h(p,g){const _=p.type,y=u.handlers[_];if(Qy.call(u.handlers,_)&&y)return y(u,p,g);if(u.options.passThrough&&u.options.passThrough.includes(_)){if("children"in p){const{children:S,...C}=p,b=Jp(C);return b.children=u.all(p),b}return Jp(p)}return(u.options.unknownHandler||_j)(u,p,g)}function d(p){const g=[];if("children"in p){const _=p.children;let y=-1;for(;++y<_.length;){const w=u.one(_[y],p);if(w){if(y&&_[y-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=R1(w.value)),!Array.isArray(w)&&w.type==="element")){const S=w.children[0];S&&S.type==="text"&&(S.value=R1(S.value))}Array.isArray(w)?g.push(...w):g.push(w)}}}return g}}function mj(n,e){n.position&&(e.position=JU(n))}function gj(n,e){let t=e;if(n&&n.data){const i=n.data.hName,r=n.data.hChildren,s=n.data.hProperties;if(typeof i=="string")if(t.type==="element")t.tagName=i;else{const o="children"in t?t.children:[t];t={type:"element",tagName:i,properties:{},children:o}}t.type==="element"&&s&&Object.assign(t.properties,Jp(s)),"children"in t&&t.children&&r!==null&&r!==void 0&&(t.children=r)}return t}function _j(n,e){const t=e.data||{},i="value"in e&&!(Qy.call(t,"hProperties")||Qy.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function yj(n,e){const t=[];let i=-1;for(e&&t.push({type:"text",value:`
`});++i<n.length;)i&&t.push({type:"text",value:`
`}),t.push(n[i]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function R1(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function I1(n,e){const t=pj(n,e),i=t.one(n,void 0),r=ij(t),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&s.children.push({type:"text",value:`
`},r),s}function vj(n,e){return n&&"run"in n?async function(t,i){const r=I1(t,{file:i,...e});await n.run(r,i)}:function(t,i){return I1(t,{file:i,...n||e})}}function D1(n){if(n)throw n}var iy,N1;function xj(){if(N1)return iy;N1=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},s=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var p=n.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&n.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!p&&!g)return!1;var _;for(_ in d);return typeof _>"u"||n.call(d,_)},o=function(d,p){t&&p.name==="__proto__"?t(d,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):d[p.name]=p.newValue},u=function(d,p){if(p==="__proto__")if(n.call(d,p)){if(i)return i(d,p).value}else return;return d[p]};return iy=function h(){var d,p,g,_,y,w,S=arguments[0],C=1,b=arguments.length,T=!1;for(typeof S=="boolean"&&(T=S,S=arguments[1]||{},C=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});C<b;++C)if(d=arguments[C],d!=null)for(p in d)g=u(S,p),_=u(d,p),S!==_&&(T&&_&&(s(_)||(y=r(_)))?(y?(y=!1,w=g&&r(g)?g:[]):w=g&&s(g)?g:{},o(S,{name:p,newValue:h(T,w,_)})):typeof _<"u"&&o(S,{name:p,newValue:_}));return S},iy}var wj=xj();const ry=$u(wj);function ev(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function bj(){const n=[],e={run:t,use:i};return e;function t(...r){let s=-1;const o=r.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);u(null,...r);function u(h,...d){const p=n[++s];let g=-1;if(h){o(h);return}for(;++g<r.length;)(d[g]===null||d[g]===void 0)&&(d[g]=r[g]);r=d,p?Sj(p,u)(...d):o(null,...d)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return n.push(r),e}}function Sj(n,e){let t;return i;function i(...o){const u=n.length>o.length;let h;u&&o.push(r);try{h=n.apply(this,o)}catch(d){const p=d;if(u&&t)throw p;return r(p)}u||(h&&h.then&&typeof h.then=="function"?h.then(s,r):h instanceof Error?r(h):s(h))}function r(o,...u){t||(t=!0,e(o,...u))}function s(o){r(null,o)}}const vs={basename:Mj,dirname:Ej,extname:Tj,join:Lj,sep:"/"};function Mj(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');md(n);let t=0,i=-1,r=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;r--;)if(n.codePointAt(r)===47){if(s){t=r+1;break}}else i<0&&(s=!0,i=r+1);return i<0?"":n.slice(t,i)}if(e===n)return"";let o=-1,u=e.length-1;for(;r--;)if(n.codePointAt(r)===47){if(s){t=r+1;break}}else o<0&&(s=!0,o=r+1),u>-1&&(n.codePointAt(r)===e.codePointAt(u--)?u<0&&(i=r):(u=-1,i=o));return t===i?i=o:i<0&&(i=n.length),n.slice(t,i)}function Ej(n){if(md(n),n.length===0)return".";let e=-1,t=n.length,i;for(;--t;)if(n.codePointAt(t)===47){if(i){e=t;break}}else i||(i=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function Tj(n){md(n);let e=n.length,t=-1,i=0,r=-1,s=0,o;for(;e--;){const u=n.codePointAt(e);if(u===47){if(o){i=e+1;break}continue}t<0&&(o=!0,t=e+1),u===46?r<0?r=e:s!==1&&(s=1):r>-1&&(s=-1)}return r<0||t<0||s===0||s===1&&r===t-1&&r===i+1?"":n.slice(r,t)}function Lj(...n){let e=-1,t;for(;++e<n.length;)md(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":Cj(t)}function Cj(n){md(n);const e=n.codePointAt(0)===47;let t=Pj(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function Pj(n,e){let t="",i=0,r=-1,s=0,o=-1,u,h;for(;++o<=n.length;){if(o<n.length)u=n.codePointAt(o);else{if(u===47)break;u=47}if(u===47){if(!(r===o-1||s===1))if(r!==o-1&&s===2){if(t.length<2||i!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(h=t.lastIndexOf("/"),h!==t.length-1){h<0?(t="",i=0):(t=t.slice(0,h),i=t.length-1-t.lastIndexOf("/")),r=o,s=0;continue}}else if(t.length>0){t="",i=0,r=o,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",i=2)}else t.length>0?t+="/"+n.slice(r+1,o):t=n.slice(r+1,o),i=o-r-1;r=o,s=0}else u===46&&s>-1?s++:s=-1}return t}function md(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const Aj={cwd:kj};function kj(){return"/"}function tv(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function Rj(n){if(typeof n=="string")n=new URL(n);else if(!tv(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Ij(n)}function Ij(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const i=e.codePointAt(t+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const sy=["history","path","basename","stem","extname","dirname"];class bL{constructor(e){let t;e?tv(e)?t={path:e}:typeof e=="string"||Dj(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":Aj.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<sy.length;){const s=sy[i];s in t&&t[s]!==void 0&&t[s]!==null&&(this[s]=s==="history"?[...t[s]]:t[s])}let r;for(r in t)sy.includes(r)||(this[r]=t[r])}get basename(){return typeof this.path=="string"?vs.basename(this.path):void 0}set basename(e){ay(e,"basename"),oy(e,"basename"),this.path=vs.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?vs.dirname(this.path):void 0}set dirname(e){O1(this.basename,"dirname"),this.path=vs.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?vs.extname(this.path):void 0}set extname(e){if(oy(e,"extname"),O1(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=vs.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){tv(e)&&(e=Rj(e)),ay(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?vs.basename(this.path,this.extname):void 0}set stem(e){ay(e,"stem"),oy(e,"stem"),this.path=vs.join(this.dirname||"",e+(this.extname||""))}fail(e,t,i){const r=this.message(e,t,i);throw r.fatal=!0,r}info(e,t,i){const r=this.message(e,t,i);return r.fatal=void 0,r}message(e,t,i){const r=new yi(e,t,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function oy(n,e){if(n&&n.includes(vs.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+vs.sep+"`")}function ay(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function O1(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Dj(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const Nj=(function(n){const i=this.constructor.prototype,r=i[n],s=function(){return r.apply(s,arguments)};return Object.setPrototypeOf(s,i),s}),Oj={}.hasOwnProperty;class dx extends Nj{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=bj()}copy(){const e=new dx;let t=-1;for(;++t<this.attachers.length;){const i=this.attachers[t];e.use(...i)}return e.data(ry(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(cy("data",this.frozen),this.namespace[e]=t,this):Oj.call(this.namespace,e)&&this.namespace[e]||void 0:e?(cy("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=t.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=bp(e),i=this.parser||this.Parser;return ly("parse",i),i(String(t),t)}process(e,t){const i=this;return this.freeze(),ly("process",this.parser||this.Parser),uy("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(s,o){const u=bp(e),h=i.parse(u);i.run(h,u,function(p,g,_){if(p||!g||!_)return d(p);const y=g,w=i.stringify(y,_);Bj(w)?_.value=w:_.result=w,d(p,_)});function d(p,g){p||!g?o(p):s?s(g):t(void 0,g)}}}processSync(e){let t=!1,i;return this.freeze(),ly("processSync",this.parser||this.Parser),uy("processSync",this.compiler||this.Compiler),this.process(e,r),F1("processSync","process",t),i;function r(s,o){t=!0,D1(s),i=o}}run(e,t,i){z1(e),this.freeze();const r=this.transformers;return!i&&typeof t=="function"&&(i=t,t=void 0),i?s(void 0,i):new Promise(s);function s(o,u){const h=bp(t);r.run(e,h,d);function d(p,g,_){const y=g||e;p?u(p):o?o(y):i(void 0,y,_)}}}runSync(e,t){let i=!1,r;return this.run(e,t,s),F1("runSync","run",i),r;function s(o,u){D1(o),r=u,i=!0}}stringify(e,t){this.freeze();const i=bp(t),r=this.compiler||this.Compiler;return uy("stringify",r),z1(e),r(e,i)}use(e,...t){const i=this.attachers,r=this.namespace;if(cy("use",this.frozen),e!=null)if(typeof e=="function")h(e,t);else if(typeof e=="object")Array.isArray(e)?u(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(d){if(typeof d=="function")h(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[p,...g]=d;h(p,g)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(d.plugins),d.settings&&(r.settings=ry(!0,r.settings,d.settings))}function u(d){let p=-1;if(d!=null)if(Array.isArray(d))for(;++p<d.length;){const g=d[p];s(g)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function h(d,p){let g=-1,_=-1;for(;++g<i.length;)if(i[g][0]===d){_=g;break}if(_===-1)i.push([d,...p]);else if(p.length>0){let[y,...w]=p;const S=i[_][1];ev(S)&&ev(y)&&(y=ry(!0,S,y)),i[_]=[d,y,...w]}}}}const zj=new dx().freeze();function ly(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function uy(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function cy(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function z1(n){if(!ev(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function F1(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function bp(n){return Fj(n)?n:new bL(n)}function Fj(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function Bj(n){return typeof n=="string"||Uj(n)}function Uj(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const Hj="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",B1=[],U1={allowDangerousHtml:!0},Vj=/^(https?|ircs?|mailto|xmpp)$/i,jj=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Wj(n){const e=Gj(n),t=Zj(n);return $j(e.runSync(e.parse(t),t),n)}function Gj(n){const e=n.rehypePlugins||B1,t=n.remarkPlugins||B1,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...U1}:U1;return zj().use(MV).use(t).use(vj,i).use(e)}function Zj(n){const e=n.children||"",t=new bL;return typeof e=="string"&&(t.value=e),t}function $j(n,e){const t=e.allowedElements,i=e.allowElement,r=e.components,s=e.disallowedElements,o=e.skipHtml,u=e.unwrapDisallowed,h=e.urlTransform||qj;for(const p of jj)Object.hasOwn(e,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+Hj+p.id,void 0);return e.className&&(n={type:"element",tagName:"div",properties:{className:e.className},children:n.type==="root"?n.children:[n]}),wL(n,d),iH(n,{Fragment:z.Fragment,components:r,ignoreInvalidStyle:!0,jsx:z.jsx,jsxs:z.jsxs,passKeys:!0,passNode:!0});function d(p,g,_){if(p.type==="raw"&&_&&typeof g=="number")return o?_.children.splice(g,1):_.children[g]={type:"text",value:p.value},g;if(p.type==="element"){let y;for(y in ey)if(Object.hasOwn(ey,y)&&Object.hasOwn(p.properties,y)){const w=p.properties[y],S=ey[y];(S===null||S.includes(p.tagName))&&(p.properties[y]=h(String(w||""),y,p))}}if(p.type==="element"){let y=t?!t.includes(p.tagName):s?s.includes(p.tagName):!1;if(!y&&i&&typeof g=="number"&&(y=!i(p,g,_)),y&&_&&typeof g=="number")return u&&p.children?_.children.splice(g,1,...p.children):_.children.splice(g,1),g}}}function qj(n){const e=n.indexOf(":"),t=n.indexOf("?"),i=n.indexOf("#"),r=n.indexOf("/");return e===-1||r!==-1&&e>r||t!==-1&&e>t||i!==-1&&e>i||Vj.test(n.slice(0,e))?n:""}function Xj({isOpen:n,onClose:e}){const[t,i]=de.useState("");return de.useEffect(()=>{n&&fetch("/src/assets/help.md").then(r=>r.text()).then(r=>i(r)).catch(r=>{console.error("Gagal load help.md:",r),i(`# Error
Gagal memuat panduan.`)})},[n]),n?z.jsx(Kv,{title:"Help & Documentation",onClose:e,width:"w-[600px]",children:z.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:z.jsx(Wj,{children:t})})}):null}const Yj="https://sha-api-production.up.railway.app/api/v1",SL=Xt.create({baseURL:Yj,headers:{"Content-Type":"application/json"}});SL.interceptors.request.use(n=>{const e=localStorage.getItem("psha-token");return e&&(n.headers.Authorization=`Bearer ${e}`),n});async function Kj(n){return(await SL.post("/projects",n)).data}function Jj(n){return Kj(n)}const Su=window.RUNTIME_CONFIG?.API_URL||"https://sha-api-production.up.railway.app/api/v1";function Qj(){const[n,e]=de.useState("analysis"),[t,i]=de.useState(null),[r,s]=de.useState(null),[o,u]=de.useState(null),[h,d]=de.useState({}),[p,g]=de.useState([]),[_,y]=de.useState([]),[w,S]=de.useState([]),[C,b]=de.useState([]),[T,k]=de.useState(!1),[F,R]=de.useState(!1),[B,N]=de.useState(!1),[O,j]=de.useState(null),[W,H]=de.useState(null),[J,Y]=de.useState(!1);de.useEffect(()=>{const ne=localStorage.getItem("access_token");ne&&Xt.get(`${Su}/auth/me`,{withCredentials:!0}).then(K=>{K.data.email&&H({username:K.data.email,avatar:K.data.avatar||"",token:ne})}).catch(()=>console.log("User not logged in yet"))},[]),de.useEffect(()=>{new URLSearchParams(window.location.search).get("login")==="success"&&Xt.get(`${Su}/auth/me`,{withCredentials:!0}).then(K=>{if(K.data.email){const fe={username:K.data.email,avatar:K.data.avatar||"",token:localStorage.getItem("access_token")||""};H(fe),localStorage.setItem("username",fe.username),localStorage.setItem("avatar",fe.avatar||""),u({type:"success",message:"Login successful!"}),setTimeout(()=>u(null),3e3);const I=window.location.origin+window.location.pathname;window.history.replaceState({},document.title,I)}}).catch(console.error)},[]),de.useEffect(()=>{const ne=async()=>{try{const fe=await fetch(`${Su}/datasource/`);if(!fe.ok)throw new Error(`Fetch datasource status: ${fe.status}`);const I=await fe.json();g(Array.isArray(I)?I:I.data||[])}catch(fe){console.error("Gagal fetch datasources:",fe),g([])}},K=async()=>{try{const fe=await fetch(`${Su}/gmpe/`);if(!fe.ok)throw new Error(`Fetch gmpe status: ${fe.status}`);const I=await fe.json();y(Array.isArray(I)?I:I.data||[])}catch(fe){console.error("Gagal fetch gmpe:",fe),y([])}};ne(),K()},[]);const ee=({result:ne,siteData:K,selectedSources:fe,selectedGmpes:I,error:G})=>{G?(s(G),u({type:"error",message:G})):(i(ne),s(null),u({type:"success",message:"Analysis completed successfully!"})),setTimeout(()=>u(null),4e3)},oe=()=>{d({}),g([]),S([]),b([]),j(null),u({type:"info",message:"New project started!"}),setTimeout(()=>u(null),3e3)},ae=ne=>{if(!W){u({type:"error",message:"Login dulu sebelum menyimpan project!"}),setTimeout(()=>u(null),3e3);return}Jj({name:ne,site:h,datasources:p,selectedSources:w,selectedGmpes:C},W.token).then(()=>{u({type:"success",message:`Project "${ne}" saved!`}),setTimeout(()=>u(null),3e3)}).catch(()=>{u({type:"error",message:"Gagal menyimpan project"}),setTimeout(()=>u(null),3e3)})};return z.jsxs("div",{className:"flex flex-col min-h-screen bg-[var(--bg)] text-[var(--text)]",children:[z.jsx(HT,{activeTab:n,setActiveTab:e,onNewProject:oe,onMenuToggle:()=>Y(ne=>!ne),user:W,apiUrl:Su,onUserUpdate:H}),z.jsxs("div",{className:"flex flex-1 pt-14",children:[z.jsx(OT,{activeTab:n,setActiveTab:e,isOpen:J,setIsOpen:Y,setCurrentProject:j}),z.jsxs("main",{className:"flex-1 p-6 overflow-y-auto",children:[z.jsx(YI,{toast:o}),n==="analysis"&&z.jsxs(z.Fragment,{children:[z.jsx(Rk,{siteData:h,setSiteData:d,datasources:p,gmpeList:_,selectedSources:w,setSelectedSources:S,selectedGmpes:C,setSelectedGmpes:b,onRunResult:ee}),t&&z.jsx(XI,{result:t,error:r})]}),n==="datasource"&&z.jsx(cU,{datasources:p,setDatasources:g}),n==="gmpe"&&z.jsx(hU,{gmpeList:_})]})]}),z.jsx(CU,{isOpen:T,onClose:()=>k(!1),onSave:ae}),z.jsx(Xj,{isOpen:F,onClose:()=>R(!1)}),B&&z.jsx(UT,{apiUrl:Su,onClose:()=>N(!1),onLogin:ne=>{H(ne),localStorage.setItem("access_token",ne.token||""),localStorage.setItem("username",ne.username),localStorage.setItem("avatar",ne.avatar||""),N(!1)}})]})}const eW=window.RUNTIME_CONFIG?.API_URL||"http://localhost:8000/api/v1";function tW({children:n}){const e=localStorage.getItem("theme")||"light",[t,i]=de.useState("analysis"),[r,s]=de.useState(!1),[o,u]=de.useState(e),[h,d]=de.useState(null),[p,g]=de.useState(null);return de.useEffect(()=>{const _=new URLSearchParams(window.location.search),y=_.get("token"),w=_.get("username"),S=_.get("avatar");if(y&&w){const C={username:w,token:y,avatar:S};localStorage.setItem("access_token",y),localStorage.setItem("username",w),localStorage.setItem("avatar",S||""),g(C),window.history.replaceState({},document.title,window.location.pathname)}else{const C=localStorage.getItem("access_token"),b=localStorage.getItem("username"),T=localStorage.getItem("avatar");C&&b&&g({username:b,token:C,avatar:T})}},[]),de.useEffect(()=>{document.documentElement.setAttribute("data-theme",o)},[o]),z.jsxs("div",{className:"h-screen flex",children:[z.jsx(OT,{activeTab:t,setActiveTab:i,isOpen:r,setIsOpen:s,setCurrentProject:d}),z.jsxs("div",{className:"flex-1 flex flex-col",children:[z.jsx(HT,{activeTab:t,setActiveTab:i,onNewProject:()=>console.log("New project"),onMenuToggle:()=>s(_=>!_),theme:o,user:p,apiUrl:eW,onUserUpdate:g,onHelp:()=>console.log("Help clicked")}),z.jsx("main",{className:"flex-1 overflow-y-auto p-6 pt-14 md:ml-64 transition-colors duration-300",children:n})]})]})}fC.createRoot(document.getElementById("root")).render(z.jsx(bn.StrictMode,{children:z.jsx(tW,{children:z.jsx(Qj,{})})}));
